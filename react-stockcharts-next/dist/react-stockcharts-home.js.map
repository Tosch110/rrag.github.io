{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///./docs/index.js","webpack:///external \"React\"?9de9","webpack:///external \"ReactDOM\"?4ab4","webpack:///external \"d3\"?c0c4","webpack:///./src/index.js?9552","webpack:///./src/lib/ChartCanvas.jsx?7438","webpack:///./~/process/browser.js?82e4","webpack:///./src/lib/utils/index.js?e0ab","webpack:///./src/lib/utils/zipper.js?4bd0","webpack:///./src/lib/utils/identity.js?b6e1","webpack:///./src/lib/utils/merge.js?4281","webpack:///./src/lib/utils/noop.js?2179","webpack:///./src/lib/utils/slidingWindow.js?5eab","webpack:///./src/lib/utils/shallowEqual.js?168c","webpack:///./src/lib/utils/mappedSlidingWindow.js?65c8","webpack:///./src/lib/utils/accumulatingWindow.js?992e","webpack:///./src/lib/utils/ChartDataUtil.js?e8c9","webpack:///./~/lodash.flattendeep/index.js?d6a0","webpack:///./~/lodash._baseflatten/index.js?fb64","webpack:///./src/lib/Chart.jsx?3e79","webpack:///./src/lib/utils/PureComponent.js?bad7","webpack:///./src/lib/EventCapture.jsx?1b20","webpack:///./src/lib/CanvasContainer.jsx?a844","webpack:///./src/lib/scale/evaluator.js?b091","webpack:///./src/lib/GenericChartComponent.jsx?6a58","webpack:///./src/lib/GenericComponent.jsx?a6e9","webpack:///./src/lib/BackgroundText.jsx?a819","webpack:///./src/lib/series/index.js?3f9e","webpack:///./src/lib/series/AreaSeries.jsx?2ba8","webpack:///./src/lib/series/LineSeries.jsx?d5d7","webpack:///./src/lib/series/AreaOnlySeries.jsx?6a12","webpack:///./src/lib/series/ScatterSeries.jsx?20c8","webpack:///./src/lib/series/CircleMarker.jsx?f328","webpack:///./src/lib/series/CandlestickSeries.jsx?9a62","webpack:///./src/lib/series/OHLCSeries.jsx?eeff","webpack:///./src/lib/series/BarSeries.jsx?a3a4","webpack:///./src/lib/series/StackedBarSeries.jsx?7690","webpack:///./src/lib/series/GroupedBarSeries.jsx?acad","webpack:///./src/lib/series/KagiSeries.jsx?5139","webpack:///./src/lib/series/PointAndFigureSeries.jsx?e3ff","webpack:///./src/lib/series/RenkoSeries.jsx?557f","webpack:///./src/lib/series/MACDSeries.jsx?8a50","webpack:///./src/lib/series/StraightLine.jsx?5ea6","webpack:///./src/lib/series/BollingerSeries.jsx?43ec","webpack:///./src/lib/series/RSISeries.jsx?ea70","webpack:///./src/lib/series/StochasticSeries.jsx?377c","webpack:///./src/lib/series/ElderRaySeries.jsx?99cb","webpack:///./src/lib/series/OverlayBarSeries.jsx?96df","webpack:///./src/lib/series/VolumeProfileSeries.jsx?7bcc","webpack:///./src/lib/scale/index.js?43aa","webpack:///./src/lib/scale/discontinuousTimeScaleProvider.js?4143","webpack:///./src/lib/scale/financeDiscontinuousScale.js?48c9","webpack:///./src/lib/coordinates/index.js?fbce","webpack:///./src/lib/coordinates/EdgeIndicator.jsx?e722","webpack:///./src/lib/coordinates/EdgeCoordinateV2.jsx?fcfd","webpack:///./src/lib/coordinates/CurrentCoordinate.jsx?e871","webpack:///./src/lib/coordinates/MouseCoordinateX.jsx?8b0d","webpack:///./src/lib/coordinates/MouseCoordinateY.jsx?3b39","webpack:///./src/lib/coordinates/CrossHairCursor.jsx?6dd5","webpack:///./src/lib/indicator/index.js?ab08","webpack:///./src/lib/indicator/ema.js?b3cc","webpack:///./src/lib/indicator/algorithm/index.js?7e8d","webpack:///./src/lib/indicator/algorithm/ema.js?073c","webpack:///./src/lib/indicator/defaultOptionsForComputation.js?a07f","webpack:///./src/lib/indicator/algorithm/sma.js?f6bb","webpack:///./src/lib/indicator/algorithm/bollingerband.js?67d5","webpack:///./src/lib/indicator/algorithm/haikinAshi.js?fa15","webpack:///./src/lib/indicator/algorithm/kagi.js?0705","webpack:///./src/lib/indicator/algorithm/atr.js?4042","webpack:///./src/lib/indicator/algorithm/pointAndFigure.js?f72d","webpack:///./src/lib/indicator/algorithm/renko.js?f509","webpack:///./src/lib/indicator/algorithm/macd.js?e1ef","webpack:///./src/lib/indicator/algorithm/rsi.js?6421","webpack:///./src/lib/indicator/algorithm/sto.js?d256","webpack:///./src/lib/indicator/algorithm/forceIndex.js?ddb1","webpack:///./src/lib/indicator/algorithm/elderRay.js?c5fb","webpack:///./src/lib/indicator/algorithm/compare.js?7168","webpack:///./src/lib/indicator/baseIndicator.js?a8c6","webpack:///./src/lib/indicator/sma.js?d613","webpack:///./src/lib/indicator/bollingerBand.js?b369","webpack:///./src/lib/indicator/defaultOptionsForAppearance.js?2738","webpack:///./src/lib/indicator/haikinAshi.js?a672","webpack:///./src/lib/indicator/kagi.js?bf12","webpack:///./src/lib/indicator/pointAndFigure.js?f1e4","webpack:///./src/lib/indicator/renko.js?34c6","webpack:///./src/lib/indicator/macd.js?cc5d","webpack:///./src/lib/indicator/rsi.js?60ce","webpack:///./src/lib/indicator/atr.js?0fb7","webpack:///./src/lib/indicator/stochasticOscillator.js?48e5","webpack:///./src/lib/indicator/forceIndex.js?176f","webpack:///./src/lib/indicator/elderRay.js?324d","webpack:///./src/lib/indicator/change.js?3bb4","webpack:///./src/lib/indicator/elderImpulse.js?037a","webpack:///./src/lib/indicator/compare.js?b5b6","webpack:///./src/lib/algorithm/index.js?6f01","webpack:///./src/lib/annotation/index.js?7d0d","webpack:///./src/lib/annotation/Annotate.jsx?769c","webpack:///./src/lib/annotation/LabelAnnotation.jsx?83ab","webpack:///./src/lib/annotation/SvgPathAnnotation.jsx?d8de","webpack:///./src/lib/annotation/Label.jsx?07fe","webpack:///./src/lib/axes/index.js?1524","webpack:///./src/lib/axes/XAxis.jsx?1eaa","webpack:///./src/lib/axes/Axis.jsx?ba1c","webpack:///./src/lib/axes/AxisZoomCapture.jsx?a541","webpack:///./src/lib/axes/YAxis.jsx?724a","webpack:///./src/lib/tooltip/index.js?b4b2","webpack:///./src/lib/tooltip/MACDTooltip.jsx?abbc","webpack:///./src/lib/tooltip/ToolTipText.jsx?6a34","webpack:///./src/lib/tooltip/ToolTipTSpanLabel.jsx?6b8d","webpack:///./src/lib/tooltip/OHLCTooltip.jsx?44b2","webpack:///./src/lib/tooltip/SingleValueTooltip.jsx?e9f1","webpack:///./src/lib/tooltip/MovingAverageTooltip.jsx?e991","webpack:///./src/lib/tooltip/BollingerBandTooltip.jsx?8ad3","webpack:///./src/lib/tooltip/RSITooltip.jsx?4b6a","webpack:///./src/lib/tooltip/StochasticTooltip.jsx?c2c2","webpack:///./src/lib/tooltip/HoverTooltip.jsx?dc00","webpack:///./src/lib/helper/index.js?fb70","webpack:///./src/lib/helper/TypeChooser.jsx?8497","webpack:///./src/lib/helper/ChartWidthMixin.jsx?55ef","webpack:///./src/lib/helper/SaveChartAsImage.js?d467","webpack:///./~/save-svg-as-png/saveSvgAsPng.js?a2c2","webpack:///./src/lib/helper/fitWidth.jsx?aec7","webpack:///./src/lib/interactive/index.js?068b","webpack:///./src/lib/interactive/TrendLine.jsx?143d","webpack:///./src/lib/interactive/utils.js?24e6","webpack:///./src/lib/interactive/InteractiveLine.jsx?7478","webpack:///./src/lib/interactive/MouseLocationIndicator.jsx?edf7","webpack:///./src/lib/interactive/FibonacciRetracement.jsx?d152","webpack:///./src/lib/interactive/ClickCallback.jsx?6a9f","webpack:///./src/lib/interactive/Brush.jsx?03d6","webpack:///./docs/stylesheets/re-stock.scss?8c16*","webpack:///./docs/stylesheets/re-stock.scss?3e89","webpack:///./~/css-loader/lib/css-base.js?da04","webpack:///./docs/images/github-button.png?2812","webpack:///./~/style-loader/addStyles.js?b980","webpack:///./docs/lib/charts/CandleStickChartWithDarkTheme.jsx?dfec","webpack:///./docs/md/MAIN.md"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA,iBAAgB;AACh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ACvD,QAAI,IAAI,SAAS,aAAT,CAAuB,GAAvB,CAAR;AACA,MAAE,YAAF,CAAe,MAAf,EAAuB,GAAvB;AACA,MAAE,YAAF,CAAe,UAAf,EAA2B,WAA3B;;AAEA,aAAS,IAAT,CAAc,WAAd,CAA0B,CAA1B;AACA,MAAE,gBAAF,CAAmB,OAAnB,EAA4B,Y,OAAkB;AAC7C,OAAE,UAAF,CAAa,WAAb,CAAyB,CAAzB;AACA,KAFD;;AAIA,MAAE,KAAF;AACA,IAXD;AAYA;AApDqB,EAAvB;;mBAuDe,gB;;;;;;AC5Df;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,oCAAmC,6BAA6B;AAChE,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAoC,EAAE;AACtC;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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D,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA,kCAAiC,4hE;;;;;;ACAjC;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrPA;;;;;;;;;;AAEA;;;;AACA;;;;AAEA;;;;;;;;;;KAEM,iB,eAAA,iB;KAAmB,S,eAAA,S;KAAW,U,eAAA,U;KAAY,U,eAAA,U;KAAY,gB,eAAA,gB;KAAkB,e,eAAA,e;KACxE,8B,cAAA,8B;KACA,e,oBAAA,e;KAAiB,gB,oBAAA,gB;KAAkB,gB,oBAAA,gB;KAAkB,iB,oBAAA,iB;KACrD,a,oBAAA,a;KAEA,W,gBAAA,W;KAAa,oB,gBAAA,oB;KAAsB,oB,gBAAA,oB;KAAsB,iB,gBAAA,iB;KAEzD,K,aAAA,K;KAAO,K,aAAA,K;KACP,oB,kBAAA,oB;KAAsB,G,kBAAA,G;KAAK,a,kBAAA,a;KAC3B,Q,eAAA,Q;;KAEA,6B;;;;;;;;;;;4BACI;AACR,QAAI,SAAS,GAAb;AADQ,iBAEoB,KAAK,KAFzB;AAAA,QAEF,IAFE,UAEF,IAFE;AAAA,QAEI,IAFJ,UAEI,IAFJ;AAAA,QAEU,KAFV,UAEU,KAFV;;;AAIR,QAAI,SAAS,EAAC,MAAM,EAAP,EAAW,OAAO,EAAlB,EAAsB,KAAI,EAA1B,EAA8B,QAAQ,EAAtC,EAAb;;AAEA,QAAI,aAAa,SAAS,OAAO,GAAhB,GAAsB,OAAO,MAA9C;AACA,QAAI,YAAY,QAAQ,OAAO,IAAf,GAAsB,OAAO,KAA7C;;AAEA,QAAI,WAAW,IAAf;AACA,QAAI,QAAQ,WAAW,EAAE,eAAe,CAAC,CAAD,GAAK,SAAtB,EAAiC,mBAAmB,GAApD,EAAX,GAAuE,EAAnF;AACA,QAAI,QAAQ,WAAW,EAAE,eAAe,CAAC,CAAD,GAAK,UAAtB,EAAkC,mBAAmB,GAArD,EAAX,GAAwE,EAApF;;AAEA,QAAI,QAAQ,MACV,EADU,CACP,CADO,EAEV,UAFU,CAEC,EAFD,EAGV,KAHU,CAGJ,UAAC,CAAD,EAAI,CAAJ,EAAU;AAAC,OAAE,KAAF,GAAU,CAAV;AAAY,KAHnB,EAIV,QAJU,CAID;AAAA,YAAK,EAAE,KAAP;AAAA,KAJC,CAAZ;;AAMA,QAAI,QAAQ,MACV,EADU,CACP,CADO,EAEV,UAFU,CAEC,EAFD,EAGV,KAHU,CAGJ,UAAC,CAAD,EAAI,CAAJ,EAAU;AAAC,OAAE,KAAF,GAAU,CAAV;AAAY,KAHnB,EAIV,QAJU,CAID;AAAA,YAAK,EAAE,KAAP;AAAA,KAJC,CAAZ;;AAMA,QAAI,UAAU,uBACZ,UADY,CACD,EADC,EAEZ,WAFY,CAEA,CAFA,EAGZ,MAHY,CAGL,EAAE,GAAG,SAAL,EAAgB,GAAG,SAAnB,EAA8B,KAAK,SAAnC,EAA8C,QAAQ,SAAtD,EAAiE,QAAQ,SAAzE,EAHK,EAIZ,KAJY,CAIN,UAAC,CAAD,EAAI,CAAJ,EAAU;AAAC,OAAE,OAAF,GAAY,CAAZ;AAAc,KAJnB,EAKZ,QALY,CAKH;AAAA,YAAK,EAAE,OAAP;AAAA,KALG,CAAd;AAMA,QAAI,UAAU,uBACZ,UADY,CACD,EADC,EAEZ,WAFY,CAEA,CAFA,EAGZ,MAHY,CAGL,EAAE,GAAG,SAAL,EAAgB,GAAG,SAAnB,EAA8B,KAAK,SAAnC,EAA8C,QAAQ,SAAtD,EAAiE,QAAQ,SAAzE,EAHK,EAIZ,KAJY,CAIN,UAAC,CAAD,EAAI,CAAJ,EAAU;AAAC,OAAE,OAAF,GAAY,CAAZ;AAAc,KAJnB,EAKZ,QALY,CAKH;AAAA,YAAK,EAAE,OAAP;AAAA,KALG,CAAd;AAMA,QAAI,UAAU,uBACZ,UADY,CACD,EADC,EAEZ,WAFY,CAEA,CAFA,EAGZ,WAHY,CAGA,CAHA,EAIZ,MAJY,CAIL,EAAE,GAAG,SAAL,EAAgB,GAAG,SAAnB,EAJK,EAKZ,KALY,CAKN,UAAC,CAAD,EAAI,CAAJ,EAAU;AAAC,OAAE,OAAF,GAAY,CAAZ;AAAc,KALnB,EAMZ,QANY,CAMH;AAAA,YAAK,EAAE,OAAP;AAAA,KANG,CAAd;;AAQA,QAAI,KAAK,gBACP,MADO,CACA,EAAE,KAAK,SAAP,EAAkB,QAAQ,SAA1B,EAAqC,QAAQ,SAA7C,EADA,EAEP,IAFO,CAEF,SAFE,CAAT;;AAIA,WACC;AAAA;AAAA,OAAa,OAAO,KAApB,EAA2B,QAAQ,GAAnC;AACE,cAAQ,MADV,EACkB,MAAM,IADxB;AAEE,kBAAW,MAFb;AAGE,YAAM,IAHR,EAGc,YAAY,CAAC,KAAD,EAAQ,KAAR,EAAe,OAAf,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,EAA1C,CAH1B;AAIE,iBAAW;AAAA,cAAK,EAAE,IAAP;AAAA,OAJb,EAI0B,gBAAgB,8BAJ1C;AAKE,gBAAU,CAAC,IAAI,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuB,IAAI,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAvB,CALZ;AAMC;AAAA;AAAA,QAAO,IAAI,CAAX,EAAc,QAAQ,GAAtB;AACE,iBAAU;AAAA,eAAK,CAAC,EAAE,IAAH,EAAS,EAAE,GAAX,CAAL;AAAA,QADZ;AAEE,gBAAS,EAAE,KAAK,EAAP,EAAW,QAAQ,EAAnB,EAFX;AAGC,oCAAC,KAAD,aAAO,QAAO,OAAd,EAAsB,QAAO,OAA7B,EAAqC,OAAO,CAA5C,IAAmD,KAAnD;AACE,mBAAW,SADb,IAHD;AAKC,oCAAC,KAAD,IAAO,QAAO,QAAd,EAAuB,QAAO,QAA9B,EAAuC,WAAW,KAAlD,EAAyD,eAAe,CAAxE;AACE,eAAO,SADT,EACmB,SAAS,GAD5B,GALD;AAQC,oCAAC,gBAAD;AACC,WAAG,OADJ;AAEC,eAAO,OAFR;AAGC,sBAAe,YAAG,MAAH,CAAU,KAAV,CAHhB,GARD;AAaC,oCAAC,iBAAD;AACE,mBAAY;AAAA,eAAK,EAAE,KAAF,GAAU,EAAE,IAAZ,GAAmB,SAAnB,GAA+B,SAApC;AAAA,QADd;AAEE,aAAM;AAAA,eAAK,EAAE,KAAF,GAAU,EAAE,IAAZ,GAAmB,SAAnB,GAA+B,SAApC;AAAA,QAFR,GAbD;AAiBC,oCAAC,UAAD,IAAY,WAAW,MAAM,QAAN,EAAvB,EAAyC,QAAQ,MAAM,MAAN,EAAjD,GAjBD;AAkBC,oCAAC,UAAD,IAAY,WAAW,MAAM,QAAN,EAAvB,EAAyC,QAAQ,MAAM,MAAN,EAAjD,GAlBD;AAoBC,oCAAC,eAAD,IAAiB,YAAY,EAA7B,GApBD;AAsBC,oCAAC,iBAAD,IAAmB,WAAW,MAAM,QAAN,EAA9B,EAAgD,MAAM,MAAM,MAAN,EAAtD,GAtBD;AAuBC,oCAAC,iBAAD,IAAmB,WAAW,MAAM,QAAN,EAA9B,EAAgD,MAAM,MAAM,MAAN,EAAtD,GAvBD;AAyBC,oCAAC,aAAD,IAAe,UAAS,MAAxB,EAA+B,QAAO,OAAtC,EAA8C,QAAO,OAArD;AACC,kBAAW;AAAA,eAAK,EAAE,KAAP;AAAA,QADZ,EAC0B,MAAM;AAAA,eAAK,EAAE,KAAF,GAAU,EAAE,IAAZ,GAAmB,SAAnB,GAA+B,SAApC;AAAA,QADhC,GAzBD;AA4BC,oCAAC,WAAD,IAAa,QAAQ,CAAC,CAAC,EAAF,EAAM,CAAC,EAAP,CAArB,GA5BD;AA6BC,oCAAC,oBAAD,IAAsB,SAAS,iBAAC,CAAD;AAAA,eAAO,QAAQ,GAAR,CAAY,CAAZ,CAAP;AAAA,QAA/B,EAAsD,QAAQ,CAAC,CAAC,EAAF,EAAM,EAAN,CAA9D;AACC,oBAAa,CAAC,KAAD,EAAQ,KAAR,CADd,GA7BD;AA+BC,oCAAC,oBAAD,IAAsB,QAAQ,CAAC,CAAC,EAAF,EAAM,EAAN,CAA9B,EAAyC,YAAY,EAArD;AA/BD,MAND;AAuCC;AAAA;AAAA,QAAO,IAAI,CAAX;AACE,iBAAU;AAAA,eAAK,EAAE,MAAP;AAAA,QADZ;AAEE,eAAQ,GAFV,EAEe,QAAQ,gBAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,CAAC,CAAD,EAAI,IAAI,GAAR,CAAV;AAAA,QAFvB;AAGC,oCAAC,KAAD,IAAO,QAAO,MAAd,EAAqB,QAAO,MAA5B,EAAmC,OAAO,CAA1C,EAA6C,YAAY,YAAG,MAAH,CAAU,GAAV,CAAzD;AACE,mBAAW,SADb,GAHD;AAKC,oCAAC,SAAD;AACE,kBAAW;AAAA,eAAK,EAAE,MAAP;AAAA,QADb;AAEE,aAAM;AAAA,eAAK,EAAE,KAAF,GAAU,EAAE,IAAZ,GAAmB,SAAnB,GAA+B,SAApC;AAAA,QAFR;AALD,MAvCD;AAgDC;AAAA;AAAA,QAAO,IAAI,CAAX;AACE,iBAAU,QAAQ,MAAR,EADZ;AAEE,eAAQ,GAFV,EAEe,QAAQ,gBAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,CAAC,CAAD,EAAI,IAAI,GAAR,CAAV;AAAA,QAFvB,EAE+C,SAAS,EAAE,KAAK,EAAP,EAAW,QAAQ,EAAnB,EAFxD;AAGC,oCAAC,KAAD,IAAO,QAAO,QAAd,EAAuB,QAAO,QAA9B,EAAuC,WAAW,KAAlD,EAAyD,eAAe,CAAxE;AACE,eAAO,SADT,EACmB,SAAS,GAD5B,GAHD;AAKC,oCAAC,KAAD,IAAO,QAAO,OAAd,EAAsB,QAAO,OAA7B,EAAqC,OAAO,CAA5C,EAA+C,YAAY,QAAQ,UAAR,EAA3D;AACE,mBAAW,SADb,GALD;AAOC,oCAAC,gBAAD;AACC,WAAG,OADJ;AAEC,eAAO,OAFR;AAGC,sBAAe,YAAG,MAAH,CAAU,KAAV,CAHhB,GAPD;AAYC,oCAAC,gBAAD,IAAkB,YAAY,OAA9B;AACE,eAAQ,EAAE,KAAK,SAAP,EAAkB,QAAQ,SAA1B,EAAqC,QAAQ,SAA7C,EADV,GAZD;AAcC;AAAC,wBAAD;AAAA,SAAmB,YAAY,OAA/B,EAAwC,QAAQ,CAAC,CAAC,EAAF,EAAM,EAAN,CAAhD;AAAA;AAAA;AAdD,MAhDD;AAgEC;AAAA;AAAA,QAAO,IAAI,CAAX;AACE,iBAAU,QAAQ,MAAR,EADZ;AAEE,eAAQ,GAFV,EAEe,QAAQ,gBAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,CAAC,CAAD,EAAI,IAAI,GAAR,CAAV;AAAA,QAFvB,EAE+C,SAAS,EAAE,KAAK,EAAP,EAAW,QAAQ,EAAnB,EAFxD;AAGC,oCAAC,KAAD,IAAO,QAAO,QAAd,EAAuB,QAAO,QAA9B,EAAuC,WAAW,KAAlD,EAAyD,eAAe,CAAxE;AACE,eAAO,SADT,EACmB,SAAS,GAD5B,GAHD;AAKC,oCAAC,KAAD,IAAO,QAAO,OAAd,EAAsB,QAAO,OAA7B,EAAqC,OAAO,CAA5C,EAA+C,YAAY,QAAQ,UAAR,EAA3D;AACE,mBAAW,SADb,GALD;AAQC,oCAAC,gBAAD;AACC,WAAG,OADJ;AAEC,eAAO,OAFR;AAGC,sBAAe,YAAG,MAAH,CAAU,KAAV,CAHhB,GARD;AAaC,oCAAC,gBAAD,IAAkB,YAAY,OAA9B;AACE,eAAQ,EAAE,KAAK,SAAP,EAAkB,QAAQ,SAA1B,EAAqC,QAAQ,SAA7C,EADV,GAbD;AAeC;AAAC,wBAAD;AAAA,SAAmB,YAAY,OAA/B,EAAwC,QAAQ,CAAC,CAAC,EAAF,EAAM,EAAN,CAAhD;AAAA;AAAA;AAfD,MAhED;AAiFC;AAAA;AAAA,QAAO,IAAI,CAAX;AACE,iBAAU,QAAQ,MAAR,EADZ;AAEE,eAAQ,GAFV,EAEe,QAAQ,gBAAC,CAAD,EAAI,CAAJ;AAAA,eAAU,CAAC,CAAD,EAAI,IAAI,GAAR,CAAV;AAAA,QAFvB,EAE+C,SAAS,EAAE,KAAK,EAAP,EAAW,QAAQ,EAAnB,EAFxD;AAGC,oCAAC,KAAD,aAAO,QAAO,QAAd,EAAuB,QAAO,QAA9B,IAA2C,KAA3C;AACE,mBAAW,SADb,EACuB,QAAO,SAD9B,IAHD;AAKC,oCAAC,KAAD,IAAO,QAAO,OAAd,EAAsB,QAAO,OAA7B,EAAqC,OAAO,CAA5C,EAA+C,YAAY,QAAQ,UAAR,EAA3D;AACE,mBAAW,SADb,GALD;AAQC,oCAAC,gBAAD;AACC,WAAG,QADJ;AAEC,eAAO,QAFR;AAGC,sBAAe,YAAG,IAAH,CAAQ,MAAR,CAAe,UAAf,CAHhB,GARD;AAYC,oCAAC,gBAAD;AACC,WAAG,OADJ;AAEC,eAAO,OAFR;AAGC,sBAAe,YAAG,MAAH,CAAU,KAAV,CAHhB,GAZD;AAiBC,oCAAC,gBAAD,IAAkB,YAAY,OAA9B;AACE,eAAQ,EAAE,KAAK,SAAP,EAAkB,QAAQ,SAA1B,EAAqC,QAAQ,SAA7C,EADV,GAjBD;AAmBC;AAAC,wBAAD;AAAA,SAAmB,YAAY,OAA/B,EAAwC,QAAQ,CAAC,CAAC,EAAF,EAAM,EAAN,CAAhD;AAAA;AAAA;AAnBD,MAjFD;AAsGC,mCAAC,eAAD,IAAiB,QAAO,SAAxB;AAtGD,KADD;AA0GA;;;;GA5J0C,gBAAM,S;;AA8JlD,+BAA8B,SAA9B,GAA0C;AACzC,QAAM,gBAAM,SAAN,CAAgB,KAAhB,CAAsB,UADa;AAEzC,SAAO,gBAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFW;AAGzC,QAAM,gBAAM,SAAN,CAAgB,KAAhB,CAAsB,CAAC,KAAD,EAAQ,QAAR,CAAtB,EAAyC;AAHN,EAA1C;;AAMA,+BAA8B,YAA9B,GAA6C;AAC5C,QAAM;AADsC,EAA7C;AAGA,iCAAgC,SAAS,6BAAT,CAAhC;;mBAEe,6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3Lf,uM","file":"react-stockcharts-home.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"ReactDOM\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","'use strict';\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport d3 from \"d3\";\n\nimport Chart from \"./lib/charts/CandleStickChartWithDarkTheme\";\n// import Chart from \"./lib/charts/OHLCChartWithElderRayIndicator\";\n\nvar ReadME = require('md/MAIN.md');\n\nrequire('stylesheets/re-stock');\n\ndocument.getElementById(\"content\").innerHTML = ReadME;\n\nvar parseDate = d3.time.format(\"%Y-%m-%d\").parse\nd3.tsv(\"data/MSFT.tsv\", function(err, data) {\n\tdata.forEach((d, i) => {\n\t\td.date = new Date(parseDate(d.date).getTime());\n\t\td.open = +d.open;\n\t\td.high = +d.high;\n\t\td.low = +d.low;\n\t\td.close = +d.close;\n\t\td.volume = +d.volume;\n\t\t// console.log(d);\n\t});\n\n\tReactDOM.render(<Chart data={data} type=\"hybrid\"/>, document.getElementById(\"chart\"));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./docs/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0 2\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0 2\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 3\n ** module chunks = 0 2\n **/","\"use strict\";\n\n// common components\nimport ChartCanvas from \"./lib/ChartCanvas\";\nimport Chart from \"./lib/Chart\";\n\nimport GenericChartComponent from \"./lib/GenericChartComponent\";\nimport GenericComponent from \"./lib/GenericComponent\";\n\nimport BackgroundText from \"./lib/BackgroundText\";\n\n// chart types & Series\nimport * as series from \"./lib/series\";\nimport * as scale from \"./lib/scale\";\n\nimport * as coordinates from \"./lib/coordinates\";\nimport * as indicator from \"./lib/indicator\";\nimport * as algorithm from \"./lib/algorithm\";\n\nimport * as annotation from \"./lib/annotation\";\n\nimport * as axes from \"./lib/axes\";\nimport * as tooltip from \"./lib/tooltip\";\nimport * as helper from \"./lib/helper\";\n\nimport * as interactive from \"./lib/interactive\";\nimport * as utils from \"./lib/utils\";\n\nconst version = \"0.5.0\";\n\nexport {\n\tChartCanvas,\n\tChart,\n\tGenericChartComponent,\n\tGenericComponent,\n\tBackgroundText,\n\tseries,\n\tcoordinates,\n\tindicator,\n\talgorithm,\n\taxes,\n\tscale,\n\ttooltip,\n\tannotation,\n\thelper,\n\tinteractive,\n\tversion,\n\tutils\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport {\n\tfirst,\n\tlast,\n\tisDefined,\n\tisNotDefined,\n\tclearCanvas,\n\tshallowEqual,\n\tidentity,\n\tnoop,\n} from \"./utils\";\n\nimport { getNewChartConfig, getChartConfigWithUpdatedYScales, getCurrentCharts, getCurrentItem } from \"./utils/ChartDataUtil\";\n\nimport EventCapture from \"./EventCapture\";\n\nimport CanvasContainer from \"./CanvasContainer\";\nimport evaluator from \"./scale/evaluator\";\n\nconst CANDIDATES_FOR_RESET = [\"seriesName\", /* \"data\",*/\n\t\"xScaleProvider\", /* \"xAccessor\",*/\"map\",\n\t\"indexAccessor\", \"indexMutator\"];\n\nfunction shouldResetChart(thisProps, nextProps) {\n\treturn !CANDIDATES_FOR_RESET.every(key => {\n\t\tvar result = shallowEqual(thisProps[key], nextProps[key]);\n\t\t// console.log(key, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCursorStyle(useCrossHairStyleCursor) {\n\tvar style = `\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-toottip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}`;\n\tvar tooltipStyle = `\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}`;\n\t/* return (<style\n\t\ttype=\"text/css\"\n\t\tdangerouslySetInnerHTML={{\n\t\t\t__html: shouldShowCrossHairStyle(children) ? style + tooltipStyle : tooltipStyle\n\t\t}}></style>);*/\n\treturn (<style type=\"text/css\">{useCrossHairStyleCursor ? style + tooltipStyle : tooltipStyle}</style>);\n}\n\nfunction getDimensions(props) {\n\treturn {\n\t\theight: props.height - props.margin.top - props.margin.bottom,\n\t\twidth: props.width - props.margin.left - props.margin.right,\n\t};\n}\n\nfunction getXScaleDirection(flipXScale) {\n\treturn flipXScale ? -1 : 1;\n}\n\nfunction calculateFullData(props) {\n\tvar { data: inputData, calculator, plotFull, xScale: xScaleProp } = props;\n\tvar { xAccessor: inputXAccesor, map, xScaleProvider, indexAccessor, indexMutator } = props;\n\n\tvar wholeData = isDefined(plotFull)\n\t\t\t? plotFull\n\t\t\t: inputXAccesor === identity;\n\n\t// xScale = discontinuousTimeScaleProvider(data);\n\tvar dimensions = getDimensions(props);\n\tvar evaluate = evaluator()\n\t\t// .allowedIntervals(allowedIntervals)\n\t\t// .intervalCalculator(intervalCalculator)\n\t\t.xAccessor(inputXAccesor)\n\t\t// .discontinuous(discontinuous)\n\t\t.indexAccessor(indexAccessor)\n\t\t.indexMutator(indexMutator)\n\t\t.map(map)\n\t\t.useWholeData(wholeData)\n\t\t.width(dimensions.width)\n\t\t.scaleProvider(xScaleProvider)\n\t\t.xScale(xScaleProp)\n\t\t.calculator(calculator);\n\n\tvar { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem } = evaluate(inputData);\n\n\treturn { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem };\n}\nfunction resetChart(props, firstCalculation = false) {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (!firstCalculation) console.log(\"CHART RESET\");\n\t}\n\n\tvar state = calculateState(props);\n\tvar { plotData: initialPlotData, xScale } = state;\n\tvar { postCalculator, children, padding, flipXScale } = props;\n\n\tvar plotData = postCalculator(initialPlotData);\n\tvar dimensions = getDimensions(props);\n\tvar direction = getXScaleDirection(flipXScale);\n\n\tvar chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\treturn {\n\t\t...state,\n\t\txScale: setXRange(xScale, dimensions, padding, direction),\n\t\tplotData,\n\t\tchartConfig,\n\t};\n}\n\nfunction updateChart(newState, initialXScale, props, prevLastItem) {\n\n\tvar { firstItem, lastItem, xScale, xAccessor, filterData } = newState;\n\tvar lastItemVisible = lastItem === prevLastItem;\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (lastItemVisible)\n\t\t\tconsole.log(\"DATA CHANGED AND LAST ITEM VISIBLE\");\n\t\telse\n\t\t\tconsole.log(\"TRIVIAL CHANGE\");\n\t}\n\tvar { postCalculator, children, padding, flipXScale } = props;\n\tvar direction = getXScaleDirection(flipXScale);\n\tvar dimensions = getDimensions(props);\n\n\n\tvar updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\tvar [start, end] = initialXScale.domain();\n\tvar initialPlotData;\n\tif (!lastItemVisible || end >= xAccessor(lastItem)) {\n\t\t// get plotData between [start, end] and do not change the domain\n\t\tinitialPlotData = filterData([start, end], xAccessor).plotData;\n\t\tupdatedXScale.domain([start, end]);\n\t\t// console.log(\"HERE!!!!!\", start, end);\n\t} else {\n\t\t// get plotData between [xAccessor(l) - (end - start), xAccessor(l)] and DO change the domain\n\t\tvar dx = updatedXScale(xAccessor(lastItem)) - updatedXScale.range()[1];\n\t\tvar [newStart, newEnd] = updatedXScale.range().map(x => x + dx).map(updatedXScale.invert);\n\n\t\tinitialPlotData = filterData([newStart, newEnd], xAccessor).plotData;\n\t\t// if last item was visible, then shift\n\t\tupdatedXScale.domain([newStart, newEnd]);\n\t}\n\t// plotData = getDataOfLength(fullData, showingInterval, plotData.length)\n\tvar plotData = postCalculator(initialPlotData);\n\tlet chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\treturn {\n\t\tfirstItem,\n\t\tlastItem,\n\t\txScale: updatedXScale,\n\t\txAccessor,\n\t\tfilterData,\n\t\tchartConfig,\n\t\tplotData,\n\t};\n}\n\nfunction calculateState(props) {\n\n\tvar { xAccessor: inputXAccesor, xExtents: xExtentsProp, data } = props;\n\n\tvar extent = typeof xExtentsProp === \"function\"\n\t\t? xExtentsProp(data)\n\t\t: d3.extent(xExtentsProp.map(d => d3.functor(d)).map(each => each(data, inputXAccesor)));\n\n\tvar { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem } = calculateFullData(props);\n\n\tvar { plotData, domain } = filterData(extent, inputXAccesor);\n\n\treturn {\n\t\tplotData,\n\t\tfullData,\n\t\txScale: xScale.domain(domain),\n\t\txAccessor,\n\t\tfilterData,\n\t\tfirstItem,\n\t\tlastItem,\n\t\tdisplayXAccessor,\n\t};\n}\n\nfunction setXRange(xScale, dimensions, padding, direction = 1) {\n\tif (xScale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\txScale.rangeRoundPoints([0, dimensions.width], padding);\n\t} else {\n\t\tvar { left, right } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { left: padding, right: padding };\n\t\tif (direction > 0) {\n\t\t\txScale.range([left, dimensions.width - right]);\n\t\t} else {\n\t\t\txScale.range([dimensions.width - right, left]);\n\t\t}\n\t}\n\treturn xScale;\n}\n\nclass ChartCanvas extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.getDataInfo = this.getDataInfo.bind(this);\n\t\tthis.getCanvasContexts = this.getCanvasContexts.bind(this);\n\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleZoom = this.handleZoom.bind(this);\n\t\tthis.handlePinchZoom = this.handlePinchZoom.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDoubleClick = this.handleDoubleClick.bind(this);\n\t\t// this.handleFocus = this.handleFocus.bind(this);\n\t\tthis.handleContextMenu = this.handleContextMenu.bind(this);\n\t\tthis.xAxisZoom = this.xAxisZoom.bind(this);\n\t\tthis.yAxisZoom = this.yAxisZoom.bind(this);\n\t\tthis.calculateStateForDomain = this.calculateStateForDomain.bind(this);\n\n\t\tthis.pinchCoordinates = this.pinchCoordinates.bind(this);\n\n\t\t// this.setInteractiveState = this.setInteractiveState.bind(this);\n\t\t// this.getInteractiveState = this.getInteractiveState.bind(this);\n\n\t\tthis.subscriptions = [];\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t\tthis.unsubscribe = this.unsubscribe.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\t// this.canvasDrawCallbackList = [];\n\t\tthis.interactiveState = [];\n\n\t\tthis.state = {};\n\t}\n\tgetDataInfo() {\n\t\treturn this.refs.chartContainer.getDataInfo();\n\t}\n\tgetCanvasContexts() {\n\t\tif (this.refs && this.refs.canvases) {\n\t\t\treturn this.refs.canvases.getCanvasContexts();\n\t\t}\n\t}\n\tclearBothCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\t// console.log(\"CLEAR\");\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord]);\n\t\t}\n\t}\n\tclearMouseCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.mouseCoord) {\n\t\t\tclearCanvas([canvases.mouseCoord]);\n\t\t}\n\t}\n\tclearThreeCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord, canvases.bg]);\n\t\t}\n\t}\n\tsubscribe(id, callback) {\n\t\tthis.subscriptions = this.subscriptions.concat({\n\t\t\tid, callback\n\t\t});\n\t}\n\tunsubscribe(id) {\n\t\tthis.subscriptions = this.subscriptions.filter(each => each.id !== id);\n\t}\n\thandleMouseEnter(e) {\n\t\tthis.triggerEvent(\"mouseenter\", {\n\t\t\tshow: true,\n\t\t}, e);\n\t}\n\thandleMouseMove(mouseXY, inputType, e) {\n\t\tvar { chartConfig, plotData, xScale, xAccessor } = this.state;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"mousemove\", {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearMouseCanvas();\n\t\t\tthis.draw();\n\t\t});\n\t}\n\thandleContextMenu(mouseXY, e) {\n\t\tvar { xAccessor, chartConfig, plotData, xScale } = this.state;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"contextmenu\", {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\t\tthis.draw();\n\t}\n\thandleMouseLeave(e) {\n\t\tvar contexts = this.getCanvasContexts();\n\n\t\t// this.clearInteractiveCanvas();\n\n\t\tif (contexts && contexts.mouseCoord) {\n\t\t\tclearCanvas([contexts.mouseCoord]);\n\t\t}\n\t\tthis.triggerEvent(\"mouseleave\", { show: false }, e);\n\t\tthis.draw();\n\t\t/* this.setState({\n\t\t\tshow: false\n\t\t}); */\n\t}\n\tpinchCoordinates(pinch) {\n\t\tvar { touch1Pos, touch2Pos } = pinch;\n\n\t\treturn {\n\t\t\ttopLeft: [Math.min(touch1Pos[0], touch2Pos[0]), Math.min(touch1Pos[1], touch2Pos[1])],\n\t\t\tbottomRight: [Math.max(touch1Pos[0], touch2Pos[0]), Math.max(touch1Pos[1], touch2Pos[1])]\n\t\t};\n\t}\n\thandlePinchZoom(initialPinch, finalPinch) {\n\t\tvar { xScale: initialPinchXScale } = initialPinch;\n\n\t\tvar { xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData, xAccessor, filterData } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar { topLeft: iTL, bottomRight: iBR } = this.pinchCoordinates(initialPinch);\n\t\tvar { topLeft: fTL, bottomRight: fBR } = this.pinchCoordinates(finalPinch);\n\n\t\tvar e = initialPinchXScale.range()[1];\n\n\t\t// var fR1 = e - fTL[0];\n\t\t// var fR2 = e - fBR[0];\n\t\t// var iR1 = e - iTL[0];\n\t\t// var iR2 = e - iBR[0];\n\n\t\tvar xDash = Math.round(-(iBR[0] * fTL[0] - iTL[0] * fBR[0]) / (iTL[0] - iBR[0]));\n\t\tvar yDash = Math.round(e + ((e - iBR[0]) * (e - fTL[0]) - (e - iTL[0]) * (e - fBR[0])) / ((e - iTL[0]) - (e - iBR[0])));\n\n\n\t\tvar x = Math.round(-xDash * iTL[0] / (-xDash + fTL[0]));\n\t\tvar y = Math.round(e - (yDash - e) * (e - iTL[0]) / (yDash + (e - fTL[0])));\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `**${[s, e]} to ${[xDash, yDash]} to ${[x, y]}`;\n\t\t// var left = ((final.leftxy[0] - range[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\t\t// var right = ((range[1] - final.rightxy[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\n\t\tvar newDomain = [x, y].map(initialPinchXScale.invert);\n\t\t// var domainR = initial.right + right;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearThreeCanvas();\n\t\t\t// this.clearInteractiveCanvas();\n\n\t\t\t// this.clearCanvasDrawCallbackList();\n\t\t\tthis.setState({\n\t\t\t\tchartConfig,\n\t\t\t\txScale: updatedScale,\n\t\t\t\tplotData,\n\t\t\t});\n\t\t});\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${panInProgress}`;\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${initial.left} - ${initial.right} to ${final.left} - ${final.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${id[1] - id[0]} = ${initial.left - id[0]} + ${initial.right - initial.left} + ${id[1] - initial.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${range[1] - range[0]}, ${i1[0]}, ${i2[0]}`;\n\t}\n\thandleZoom(zoomDirection, mouseXY, e) {\n\t\t// console.log(\"zoomDirection \", zoomDirection, \" mouseXY \", mouseXY);\n\t\tvar { xAccessor, xScale: initialXScale, plotData: initialPlotData } = this.state;\n\n\t\tvar item = getCurrentItem(initialXScale, xAccessor, mouseXY, initialPlotData),\n\t\t\tcx = initialXScale(xAccessor(item)),\n\t\t\tc = zoomDirection > 0 ? 2 : 0.5,\n\t\t\tnewDomain = initialXScale.range().map(x => cx + (x - cx) * c).map(initialXScale.invert);\n\n\t\tvar { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tthis.clearBothCanvas();\n\t\t// this.clearInteractiveCanvas();\n\n\t\tthis.triggerEvent(\"zoom\", {\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tcurrentItem,\n\t\t}, e);\n\n\n\t\tvar { firstItem } = this.state;\n\t\tvar start = first(xScale.domain());\n\t\tvar end = xAccessor(firstItem);\n\t\tvar { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tcalculateStateForDomain(newDomain) {\n\t\tvar { xAccessor, filterData, xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t};\n\t}\n\txAxisZoom(newDomain) {\n\t\tvar { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\t\tthis.clearBothCanvas();\n\n\t\tvar { firstItem, xAccessor } = this.state;\n\t\tvar start = first(xScale.domain());\n\t\tvar end = xAccessor(firstItem);\n\t\tvar { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tyAxisZoom(chartId, newDomain) {\n\t\tthis.clearThreeCanvas();\n\t\tvar { chartConfig: initialChartConfig } = this.state;\n\t\tvar chartConfig = initialChartConfig\n\t\t\t.map(each => {\n\t\t\t\tif (each.id === chartId) {\n\t\t\t\t\tvar { yScale } = each;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...each,\n\t\t\t\t\t\tyScale: yScale.copy().domain(newDomain),\n\t\t\t\t\t\tyPanEnabled: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn each;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.setState({\n\t\t\tchartConfig,\n\t\t});\n\t}\n\tpanHelper(mouseXY, initialXScale, panOrigin, chartsToPan) {\n\t\tvar { xAccessor, filterData, chartConfig: initialChartConfig } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar dx = mouseXY[0] - panOrigin[0];\n\t\tvar dy = mouseXY[1] - panOrigin[1];\n\n\t\tif (isNotDefined(initialXScale.invert))\n\t\t\tthrow new Error(\"xScale provided does not have an invert() method.\"\n\t\t\t\t+ \"You are likely using an ordinal scale. This scale does not support zoom, pan\");\n\n\t\tvar newDomain = initialXScale.range().map(x => x - dx).map(initialXScale.invert);\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__plotData,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__domain);\n\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tplotData = postCalculator(plotData);\n\t\t// console.log(last(plotData));\n\t\tvar currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData, dy, chartsToPan);\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tchartConfig,\n\t\t\tcurrentItem,\n\t\t};\n\t}\n\tdraw() {/*\n\t\tvar { chartCanvasType } = this.props;\n\t\tif (chartCanvasType === \"svg\") {\n\t\t\tthis.setState({\n\t\t\t\trandom: Math.random()\n\t\t\t});\n\t\t} else {*/\n\t\tthis.subscriptions.forEach(each => {\n\t\t\t// console.log(each)\n\t\t\teach.callback(\"draw\");\n\t\t});\n\t\t// }\n\t}\n\ttriggerEvent(type, props, e) {\n\t\tthis.subscriptions.forEach(each => {\n\t\t\t// console.log(each)\n\t\t\teach.callback(type, props, e);\n\t\t});\n\t}\n\thandlePan(mousePosition, panStartXScale, panOrigin, chartsToPan, e) {\n\t\tvar state = this.panHelper(mousePosition, panStartXScale, panOrigin, chartsToPan);\n\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = state.plotData;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = state.xScale.domain();\n\n\t\tthis.triggerEvent(\"pan\", state, e);\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearBothCanvas();\n\t\t\tthis.draw();\n\t\t});\n\t}\n\thandleMouseDown(mousePosition, currentCharts, e) {\n\t\tthis.triggerEvent(\"mousedown\", null, e);\n\t}\n\thandleClick(mousePosition, e) {\n\t\t// console.log(\"clicked\", e.shiftKey);\n\t\tthis.triggerEvent(\"click\", {}, e);\n\t}\n\thandleDoubleClick(mousePosition, e) {\n\t\tconsole.log(\"double clicked\");\n\t\tthis.triggerEvent(\"dblclick\", {}, e);\n\t}\n\thandlePanEnd(mousePosition, panStartXScale, panOrigin, chartsToPan, e) {\n\t\tvar state = this.panHelper(mousePosition, panStartXScale, panOrigin, chartsToPan);\n\t\t// console.log(this.canvasDrawCallbackList.map(d => d.type));\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = null;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = null;\n\n\t\tthis.triggerEvent(\"panend\", state, e);\n\t\t// console.log(\"PANEND\", panEnd++);\n\t\tvar {\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t} = state;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tvar { xAccessor, firstItem } = this.state;\n\n\t\t\tvar start = first(xScale.domain());\n\t\t\tvar end = xAccessor(firstItem);\n\t\t\t// console.log(start, end, start < end ? \"Load more\" : \"I have it\");\n\n\t\t\tvar { onLoadMore } = this.props;\n\t\t\tthis.clearThreeCanvas();\n\t\t\tthis.setState({\n\t\t\t\txScale,\n\t\t\t\tplotData,\n\t\t\t\tchartConfig,\n\t\t\t}, () => {\n\t\t\t\tif (start < end) onLoadMore(start, end);\n\t\t\t});\n\t\t});\n\t}/*\n\tsetInteractiveState(id, chartId, interactive) {\n\t\tvar everyThingElse = this.interactiveState\n\t\t\t.filter(each => !(each.id === id && each.chartId === chartId));\n\n\t\tthis.interactiveState = everyThingElse.concat({ id, chartId, interactive });\n\t}\n\tgetInteractiveState(forChart, id, initialState) {\n\t\tvar state = this.interactiveState\n\t\t\t.filter(each => each.chartId === forChart)\n\t\t\t.filter(each => each.id === id);\n\n\t\tvar response = (state.length > 0)\n\t\t\t? response = state[0].interactive\n\t\t\t: initialState;\n\t\treturn response;\n\t}*/\n\tgetChildContext() {\n\t\tvar dimensions = getDimensions(this.props);\n\n\t\treturn {\n\t\t\tfullData: this.state.fullData,\n\t\t\tplotData: this.state.plotData,\n\t\t\twidth: dimensions.width,\n\t\t\theight: dimensions.height,\n\t\t\tchartConfig: this.state.chartConfig,\n\t\t\txScale: this.state.xScale,\n\t\t\txAccessor: this.state.xAccessor,\n\t\t\tdisplayXAccessor: this.props.displayXAccessor || this.state.displayXAccessor,\n\t\t\tchartCanvasType: this.props.type,\n\t\t\tmargin: this.props.margin,\n\t\t\txAxisZoom: this.xAxisZoom,\n\t\t\tyAxisZoom: this.yAxisZoom,\n\t\t\t// getInteractiveState: this.getInteractiveState,\n\t\t\t// setInteractiveState: this.setInteractiveState,\n\t\t\tgetCanvasContexts: this.getCanvasContexts,\n\t\t\tsubscribe: this.subscribe,\n\t\t\tunsubscribe: this.unsubscribe,\n\t\t};\n\t}\n\tcomponentWillMount() {\n\t\tvar state = resetChart(this.props, true);\n\t\tthis.setState(state);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar reset = shouldResetChart(this.props, nextProps);\n\n\t\tvar interaction = isInteractionEnabled(this.state.xScale, this.state.xAccessor, this.state.plotData);\n\n\t\tvar newState;\n\t\tif (!interaction || reset || !shallowEqual(this.props.xExtents, nextProps.xExtents)) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (!interaction)\n\t\t\t\t\tconsole.log(\"RESET CHART, changes to a non interactive chart\");\n\t\t\t\telse if (reset)\n\t\t\t\t\tconsole.log(\"RESET CHART, one or more of these props changed\", CANDIDATES_FOR_RESET);\n\t\t\t\telse\n\t\t\t\t\tconsole.log(\"xExtents changed\");\n\t\t\t}\n\t\t\t// do reset\n\t\t\tnewState = resetChart(nextProps);\n\t\t} else {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (this.props.data !== nextProps.data)\n\t\t\t\t\tconsole.log(\"data is changed but seriesName did not, change the seriesName if you wish to reset the chart\");\n\t\t\t\telse if (!shallowEqual(this.props.calculator, nextProps.calculator))\n\t\t\t\t\tconsole.log(\"calculator changed\");\n\t\t\t\telse\n\t\t\t\t\tconsole.log(\"Trivial change, may be width/height or type changed, but that does not matter\");\n\t\t\t}\n\n\t\t\tvar calculatedState = calculateFullData(nextProps);\n\n\t\t\tnewState = updateChart(calculatedState, this.state.xScale, nextProps, last(this.state.plotData));\n\t\t}\n\n\t\tvar { chartConfig: initialChartConfig } = this.state;\n\n\t\tif (!reset) {\n\t\t\tnewState.chartConfig\n\t\t\t\t.forEach((each) => {\n\t\t\t\t\tvar sourceChartConfig = initialChartConfig.filter(d => d.id === each.id);\n\t\t\t\t\tif (sourceChartConfig.length > 0 && sourceChartConfig[0].yPanEnabled) {\n\t\t\t\t\t\teach.yScale.domain(sourceChartConfig[0].yScale.domain());\n\t\t\t\t\t\teach.yPanEnabled = sourceChartConfig[0].yPanEnabled;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tthis.clearThreeCanvas();\n\t\tthis.setState(newState);\n\t}\n\trender() {\n\n\t\tvar { type, height, width, margin, className, zIndex, defaultFocus } = this.props;\n\t\tvar { useCrossHairStyleCursor, drawMode } = this.props;\n\n\t\tvar { plotData, xScale, xAccessor, chartConfig } = this.state;\n\t\tvar dimensions = getDimensions(this.props);\n\n\t\tvar interaction = isInteractionEnabled(xScale, xAccessor, plotData);\n\n\t\tvar cursor = getCursorStyle(useCrossHairStyleCursor && interaction);\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", height: height, width: width }} className={className} >\n\t\t\t\t<CanvasContainer ref=\"canvases\" width={width} height={height} type={type} zIndex={zIndex}/>\n\t\t\t\t<svg className={className} width={width} height={height} style={{ position: \"absolute\", zIndex: (zIndex + 5) }}>\n\t\t\t\t\t{cursor}\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<clipPath id=\"chart-area-clip\">\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={dimensions.width} height={dimensions.height} />\n\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t{chartConfig\n\t\t\t\t\t\t\t.map((each, idx) => <clipPath key={idx} id={`chart-area-clip-${each.id}`}>\n\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={each.width} height={each.height} />\n\t\t\t\t\t\t\t</clipPath>)}\n\t\t\t\t\t</defs>\n\t\t\t\t\t<g transform={`translate(${margin.left + 0.5}, ${margin.top + 0.5})`}>\n\t\t\t\t\t\t<EventCapture\n\t\t\t\t\t\t\tmouseMove={interaction}\n\t\t\t\t\t\t\tzoom={interaction}\n\t\t\t\t\t\t\tpan={interaction && !drawMode}\n\n\t\t\t\t\t\t\twidth={dimensions.width}\n\t\t\t\t\t\t\theight={dimensions.height}\n\t\t\t\t\t\t\tchartConfig={chartConfig}\n\t\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\t\tfocus={defaultFocus}\n\n\t\t\t\t\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\tonDoubleClick={this.handleDoubleClick}\n\t\t\t\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t\t\t\t\tonZoom={this.handleZoom}\n\t\t\t\t\t\t\tonPinchZoom={this.handlePinchZoom}\n\t\t\t\t\t\t\tonPan={this.handlePan}\n\t\t\t\t\t\t\tonPanEnd={this.handlePanEnd}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<g className=\"react-stockcharts-avoid-interaction\">\n\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction isInteractionEnabled(xScale, xAccessor, data) {\n\tvar interaction = !isNaN(xScale(xAccessor(first(data)))) && isDefined(xScale.invert);\n\treturn interaction;\n}\n\nChartCanvas.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object,\n\t// interval: PropTypes.oneOf([\"D\", \"W\", \"M\"]), // ,\"m1\", \"m5\", \"m15\", \"W\", \"M\"\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tdata: PropTypes.array.isRequired,\n\t// initialDisplay: PropTypes.number,\n\tcalculator: PropTypes.arrayOf(PropTypes.func).isRequired,\n\txAccessor: PropTypes.func,\n\txExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\t// xScale: PropTypes.func.isRequired,\n\tclassName: PropTypes.string,\n\tseriesName: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tchildren: PropTypes.node.isRequired,\n\txScaleProvider: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScale)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\txScale: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScaleProvider)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\tpostCalculator: PropTypes.func.isRequired,\n\tflipXScale: PropTypes.bool.isRequired,\n\tuseCrossHairStyleCursor: PropTypes.bool.isRequired,\n\tdrawMode: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t})\n\t]).isRequired,\n\tdefaultFocus: PropTypes.bool,\n\tonLoadMore: PropTypes.func,\n\tdisplayXAccessor: PropTypes.func,\n};\n\nChartCanvas.defaultProps = {\n\tmargin: { top: 20, right: 30, bottom: 30, left: 80 },\n\tindexAccessor: d => d.idx,\n\tindexMutator: (d, idx) => ({ ...d, idx }),\n\tmap: identity,\n\ttype: \"hybrid\",\n\tcalculator: [],\n\tclassName: \"react-stockchart\",\n\tzIndex: 1,\n\txExtents: [d3.min, d3.max],\n\t// dataEvaluator: evaluator,\n\tpostCalculator: identity,\n\tpadding: 0,\n\txAccessor: identity,\n\tflipXScale: false,\n\tuseCrossHairStyleCursor: true,\n\tdrawMode: false,\n\tdefaultFocus: true,\n\tonLoadMore: noop,\n};\n\nChartCanvas.childContextTypes = {\n\tplotData: PropTypes.array,\n\tfullData: PropTypes.array,\n\tchartConfig: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.number.isRequired,\n\t\t\torigin: PropTypes.arrayOf(PropTypes.number).isRequired,\n\t\t\tpadding: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\ttop: PropTypes.number,\n\t\t\t\t\tbottom: PropTypes.number,\n\t\t\t\t})\n\t\t\t]),\n\t\t\tyExtents: PropTypes.arrayOf(PropTypes.func).isRequired,\n\t\t\tyScale: PropTypes.func.isRequired,\n\t\t\tmouseCoordinates: PropTypes.shape({\n\t\t\t\tat: PropTypes.string,\n\t\t\t\tformat: PropTypes.func\n\t\t\t}),\n\t\t\twidth: PropTypes.number.isRequired,\n\t\t\theight: PropTypes.number.isRequired,\n\t\t})\n\t).isRequired,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\txAxisZoom: PropTypes.func,\n\tyAxisZoom: PropTypes.func,\n\tsubscribe: PropTypes.func,\n\tunsubscribe: PropTypes.func,\n};\n\nChartCanvas.ohlcv = d => ({ date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume });\n\nexport default ChartCanvas;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/ChartCanvas.jsx\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 6\n ** module chunks = 0 2\n **/","\"use strict\";\n\n\nimport d3 from \"d3\";\n\nimport zipper from \"./zipper\";\nimport merge from \"./merge\";\nimport slidingWindow from \"./slidingWindow\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\nimport shallowEqual from \"./shallowEqual\";\nimport mappedSlidingWindow from \"./mappedSlidingWindow\";\nimport accumulatingWindow from \"./accumulatingWindow\";\n\nexport {\n\taccumulatingWindow,\n\tmappedSlidingWindow,\n\tmerge,\n\tidentity,\n\tnoop,\n\tshallowEqual,\n\tslidingWindow,\n\tzipper,\n};\n\nexport function path(path = []) {\n\tvar key = Array.isArray(path) ? path : [path];\n\tvar length = key.length;\n\n\treturn function(obj, defaultValue) {\n\t\tvar index = 0;\n\t\twhile (obj != null && index < length) {\n\t\t\tobj = obj[key[index++]];\n\t\t}\n\t\treturn (index === length) ? obj : defaultValue;\n\t};\n}\n\nexport function getClosestItemIndexes2(array, value, accessor) {\n\tvar left = d3.bisector(accessor).left(array, value);\n\tleft = Math.max(left - 1, 0);\n\tvar right = Math.min(left + 1, array.length - 1);\n\n\tvar item = accessor(array[left]);\n\tif (item >= value && item <= value) right = left;\n\n\treturn { left, right };\n}\n\nexport function getClosestValue(values, currentValue) {\n\tvar diff = values\n\t\t.map(each => each - currentValue)\n\t\t.reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n\treturn currentValue + diff;\n}\n\n\nexport function d3Window(node) {\n\tvar d3win = node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n\treturn d3win;\n}\n\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\n\nexport function getClosestItemIndexes(array, value, accessor, log) {\n\tvar lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tvar mid = Math.round((lo + hi) / 2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\t// for Date object === does not work, so using the <= in combination with >=\n\t// the same code works for both dates and numbers\n\tif (accessor(array[lo]) >= value && accessor(array[lo]) <= value) hi = lo;\n\tif (accessor(array[hi]) >= value && accessor(array[hi]) <= value) lo = hi;\n\n\tif (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\n\tif (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\n\n\tif (log) {\n\t\t// console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\n\t\t// console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\n\t\t// console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\n\t}\n\t// var left = value > accessor(array[lo]) ? lo : lo;\n\t// var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\n\n\t// console.log(value, accessor(array[left]), accessor(array[right]));\n\treturn { left: lo, right: hi };\n}\n\nexport function getClosestItem(array, value, accessor, log) {\n\tvar { left, right } = getClosestItemIndexes(array, value, accessor, log);\n\n\tif (left === right) {\n\t\treturn array[left];\n\t}\n\n\tvar closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\n\t\t\t\t\t\t? array[left]\n\t\t\t\t\t\t: array[right];\n\tif (log) {\n\t\tconsole.log(array[left], array[right], closest, left, right);\n\t}\n\treturn closest;\n}\n\n\nexport const overlayColors = d3.scale.category10();\n\nexport function rebind(target, source, mappings) {\n\tif (typeof(mappings) !== \"object\") {\n\t\treturn d3.rebind.apply(d3, arguments);\n\t}\n\tObject.keys(mappings)\n\t\t.forEach(function(targetName) {\n\t\t\tvar method = source[mappings[targetName]];\n\t\t\tif (typeof method !== \"function\") {\n\t\t\t\tthrow new Error(`The method ${mappings[targetName]} does not exist on the source object`);\n\t\t\t}\n\t\t\ttarget[targetName] = function() {\n\t\t\t\tvar value = method.apply(source, arguments);\n\t\t\t\treturn value === source ? target : value;\n\t\t\t};\n\t\t});\n\treturn target;\n}\n\nexport function head(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\treturn array ? array[0] : undefined;\n}\n\nexport const first = head;\n\nexport function last(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = array.length - 1; i >= 0; i--) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\tvar length = array ? array.length : 0;\n\treturn length ? array[length - 1] : undefined;\n}\n\nexport function isDefined(d) {\n\treturn d !== null && typeof d != \"undefined\";\n}\n\nexport function isNotDefined(d) {\n\treturn !isDefined(d);\n}\n\nexport function isObject(d) {\n\treturn isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\n\nexport const isArray = Array.isArray;\n\nexport function touchPosition(touch, e) {\n\tvar container = e.target,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = touch.clientX - rect.left - container.clientLeft,\n\t\ty = touch.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\nexport function mousePosition(e) {\n\tvar container = e.currentTarget,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\ty = e.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\n\nexport function clearCanvas(canvasList) {\n\tcanvasList.forEach(each => {\n\t\teach.setTransform(1, 0, 0, 1, 0, 0);\n\t\teach.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n\t});\n}\n\nexport function capitalizeFirst(str) {\n\treturn str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function hexToRGBA(inputHex, opacity) {\n\tvar hex = inputHex.replace(\"#\", \"\");\n\tif (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\n\n\t\tvar multiplier = (hex.length === 3) ? 1 : 2;\n\n\t\tvar r = parseInt(hex.substring(0, 1 * multiplier), 16);\n\t\tvar g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\n\t\tvar b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\n\n\t\tvar result = `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\n\n\t\treturn result;\n\t}\n\treturn inputHex;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/index.js\n **/","\"use strict\";\n\n/* an extension to d3.zip so we call a function instead of an array */\n\nimport d3 from \"d3\";\n\nimport identity from \"./identity\";\n\nexport default function zipper() {\n\tvar combine = identity;\n\n\tfunction zip() {\n\t\tvar n = arguments.length;\n\t\tif (!n) return [];\n\t\tvar i, m = d3.min(arguments, d3_zipLength), zips = new Array(m);\n\t\tfor (i = -1; ++i < m; ) {\n\t\t\tfor (var j = -1, zip = zips[i] = new Array(n); ++j < n; ) {\n\t\t\t\tzip[j] = arguments[j][i];\n\t\t\t}\n\t\t\tzips[i] = combine.apply(this, zips[i]);\n\t\t}\n\t\treturn zips;\n\t}\n\tfunction d3_zipLength(d) {\n\t\treturn d.length;\n\t}\n\tzip.combine = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn combine;\n\t\t}\n\t\tcombine = x;\n\t\treturn zip;\n\t};\n\treturn zip;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/zipper.js\n **/","\"use strict\";\n\nexport default d => d;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/identity.js\n **/","/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/merge.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport identity from \"./identity\";\nimport zipper from \"./zipper\";\nimport noop from \"./noop\";\n\nimport { isNotDefined } from \"./index\";\n\n// applies an algorithm to an array, merging the result back into\n// the source array using the given merge function.\nexport default function() {\n\n\tvar algorithm = identity,\n\t\tskipUndefined = true,\n\t\tmerge = noop;\n\n\tfunction mergeCompute(data) {\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, indicator) => {\n\t\t\t\tvar result = (skipUndefined && isNotDefined(indicator))\n\t\t\t\t\t? datum\n\t\t\t\t\t: merge(datum, indicator);\n\t\t\t\treturn isNotDefined(result) ? datum : result;\n\t\t\t});\n\n\t\t// console.log(data);\n\t\treturn zip(data, algorithm(data));\n\t}\n\n\tmergeCompute.algorithm = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn algorithm;\n\t\t}\n\t\talgorithm = x;\n\t\treturn mergeCompute;\n\t};\n\n\tmergeCompute.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn merge;\n\t\t}\n\t\tmerge = x;\n\t\treturn mergeCompute;\n\t};\n\tmergeCompute.skipUndefined = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipUndefined;\n\t\t}\n\t\tskipUndefined = x;\n\t\treturn mergeCompute;\n\t};\n\n\treturn mergeCompute;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/merge.js\n **/","export default () => {};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/noop.js\n **/","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport { path } from \"./index\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsourcePath,\n\t\tsource,\n\t\tskipInitial = 0,\n\t\tmisc;\n\n\tvar slidingWindow = function(data) {\n\t\tvar sourceFunction = source || path(sourcePath);\n\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = data.slice(skipInitial, size + skipInitial).map(sourceFunction);\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\treturn data.map(function(d, i) {\n\t\t\t// console.log(d, i);\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\treturn undef(sourceFunction(d), i, misc);\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t\twindowData.push(sourceFunction(d, i));\n\t\t\t}\n\t\t\treturn accumulator(windowData, i, accumulatorIdx++, misc);\n\t\t});\n\t};\n\n\tslidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.misc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn misc;\n\t\t}\n\t\tmisc = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn slidingWindow;\n\t};\n\n\treturn slidingWindow;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/slidingWindow.js\n **/","// https://github.com/jonschlinkert/is-equal-shallow/\n\n/*\nThe MIT License (MIT)\n\nCopyright (c) 2015, Jon Schlinkert.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nfunction isDate(date) {\n\treturn Object.prototype.toString.call(date) === \"[object Date]\";\n}\n\nfunction isEqual(val1, val2) {\n\treturn (isDate(val1) && isDate(val2))\n\t\t? val1.getTime() === val2.getTime()\n\t\t: val1 === val2;\n}\n\nexport default function shallowEqual(a, b) {\n\tif (!a && !b) { return true; }\n\tif (!a && b || a && !b) { return false; }\n\n\tvar numKeysA = 0, numKeysB = 0, key;\n\tfor (key in b) {\n\t\tnumKeysB++;\n\t\tif (/* !isPrimitive(b[key]) || */ !a.hasOwnProperty(key) || !isEqual(a[key], b[key])) {\n\t\t\t// console.log(key, a, b);\n\t\t\treturn false;\n\t\t}\n\t}\n\tfor (key in a) {\n\t\tnumKeysA++;\n\t}\n\treturn numKeysA === numKeysB;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/shallowEqual.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsource = identity,\n\t\tskipInitial = 0;\n\n\tvar mappedSlidingWindow = function(data) {\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\tvar result = [];\n\t\tdata.forEach(function(d, i) {\n\t\t\t// console.log(d, i, windowData.length);\n\t\t\tvar mapped;\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\tmapped = undef(d, i);\n\t\t\t\tresult.push(mapped);\n\t\t\t\twindowData.push(mapped);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t}\n\t\t\twindowData.push(source(d, i));\n\t\t\tmapped = accumulator(windowData, i, accumulatorIdx++);\n\t\t\tresult.push(mapped);\n\t\t\twindowData.pop();\n\t\t\twindowData.push(mapped);\n\t\t\treturn;\n\t\t});\n\t\treturn result;\n\t};\n\n\tmappedSlidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\n\treturn mappedSlidingWindow;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/mappedSlidingWindow.js\n **/","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar accumulateTill = d3.functor(false),\n\t\taccumulator = noop,\n\t\tvalue = identity,\n\t\tdiscardTillStart = false,\n\t\tdiscardTillEnd = false;\n\n\tvar accumulatingWindow = function(data) {\n\t\tvar accumulatedWindow = discardTillStart ? undefined : [];\n\t\tvar response = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar i = 0;\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tvar d = data[i];\n\t\t\t// console.log(d, accumulateTill(d));\n\t\t\tif (accumulateTill(d, i)) {\n\t\t\t\tif (accumulatedWindow && accumulatedWindow.length > 0) response.push(accumulator(accumulatedWindow, i, accumulatorIdx++));\n\t\t\t\taccumulatedWindow = [value(d)];\n\t\t\t} else {\n\t\t\t\tif (accumulatedWindow) accumulatedWindow.push(value(d));\n\t\t\t}\n\t\t}\n\t\tif (!discardTillEnd) response.push(accumulator(accumulatedWindow, i, accumulatorIdx));\n\t\treturn response;\n\t};\n\n\taccumulatingWindow.accumulateTill = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulateTill;\n\t\t}\n\t\taccumulateTill = d3.functor(x);\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.value = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillStart = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillStart;\n\t\t}\n\t\tdiscardTillStart = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillEnd = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillEnd;\n\t\t}\n\t\tdiscardTillEnd = x;\n\t\treturn accumulatingWindow;\n\t};\n\treturn accumulatingWindow;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/accumulatingWindow.js\n **/","\"use strict\";\n\nimport React from \"react\";\nimport d3 from \"d3\";\nimport flattenDeep from \"lodash.flattendeep\";\n\nimport Chart from \"../Chart\";\n\nimport {\n\tisObject,\n\tgetClosestItem,\n\tzipper,\n\tisDefined,\n} from \"./index\";\n\nexport function getChartOrigin(origin, contextWidth, contextHeight) {\n\tvar originCoordinates = typeof origin === \"function\"\n\t\t? origin(contextWidth, contextHeight)\n\t\t: origin;\n\treturn originCoordinates;\n}\n\nexport function getDimensions({ width, height }, chartProps) {\n\n\tvar chartWidth = (chartProps.width || width);\n\tvar chartHeight = (chartProps.height || height);\n\n\treturn {\n\t\tavailableWidth: width,\n\t\tavailableHeight: height,\n\t\twidth: chartWidth,\n\t\theight: chartHeight\n\t};\n}\n\nfunction values(func) {\n\treturn (d) => {\n\t\tvar obj = func(d);\n\t\treturn isObject(obj) ? Object.keys(obj).map(key => obj[key]) : obj;\n\t};\n}\n\nexport function getNewChartConfig(innerDimension, children) {\n\n\treturn React.Children.map(children, (each) => {\n\t\tif (each.type === Chart) {\n\t\t\tvar { id, origin, padding, yExtents: yExtentsProp, yScale, flipYScale } = each.props;\n\t\t\tvar { width, height, availableWidth, availableHeight } = getDimensions(innerDimension, each.props);\n\t\t\tvar { yPan } = each.props;\n\t\t\t// var { yMousePointerRectWidth: rectWidth, yMousePointerRectHeight: rectHeight, yMousePointerArrowWidth: arrowWidth } = each.props;\n\t\t\t// var mouseCoordinates = { at, yDisplayFormat, rectHeight, rectWidth, arrowWidth };\n\t\t\tvar yExtents = (Array.isArray(yExtentsProp) ? yExtentsProp : [yExtentsProp]).map(d3.functor);\n\t\t\t// console.log(yExtentsProp, yExtents);\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\torigin: d3.functor(origin)(availableWidth, availableHeight),\n\t\t\t\tpadding,\n\t\t\t\tyExtents,\n\t\t\t\tflipYScale,\n\t\t\t\tyScale,\n\t\t\t\tyPan,\n\t\t\t\t// mouseCoordinates,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}).filter(each => isDefined(each));\n}\nexport function getCurrentCharts(chartConfig, mouseXY) {\n\tvar currentCharts = chartConfig.filter(eachConfig => {\n\t\tvar top = eachConfig.origin[1];\n\t\tvar bottom = top + eachConfig.height;\n\t\treturn (mouseXY[1] > top && mouseXY[1] < bottom);\n\t}).map(config => config.id);\n\n\treturn currentCharts;\n}\n\nfunction setRange(scale, height, padding, flipYScale) {\n\tif (scale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\tscale.rangeRoundPoints(flipYScale ? [0, height] : [height, 0], padding);\n\t} else {\n\t\tvar { top, bottom } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { top: padding, bottom: padding };\n\n\t\tscale.range(flipYScale ? [top, height - bottom] : [height - bottom, top]);\n\t}\n\treturn scale;\n}\n\nexport function getChartConfigWithUpdatedYScales(chartConfig, plotData, dy, chartsToPan) {\n\n\tvar yDomains = chartConfig\n\t\t.map(({ yExtents, yScale }) => {\n\t\t\tvar yDomainDY = isDefined(dy)\n\t\t\t\t\t? yScale.range().map(each => each - dy).map(yScale.invert)\n\t\t\t\t\t: yScale.domain();\n\n\t\t\tvar yValues = yExtents.map(eachExtent =>\n\t\t\t\tplotData.map(values(eachExtent)));\n\t\t\tyValues = flattenDeep(yValues);\n\n\t\t\tvar realYDomain = (yScale.invert)\n\t\t\t\t\t? d3.extent(yValues)\n\t\t\t\t\t: d3.set(yValues).values();\n\t\t\treturn {\n\t\t\t\trealYDomain,\n\t\t\t\tyDomainDY,\n\t\t\t\tprevYDomain: yScale.domain(),\n\t\t\t};\n\t\t});\n\n\tvar combine = zipper()\n\t\t.combine((config, { realYDomain, yDomainDY, prevYDomain }) => {\n\t\t\tvar { id, padding, height, yScale, yPan, flipYScale, yPanEnabled = false } = config;\n\n\t\t\tvar another = isDefined(chartsToPan)\n\t\t\t\t? chartsToPan.indexOf(id) > -1\n\t\t\t\t: true;\n\t\t\tvar domain = yPan && yPanEnabled\n\t\t\t\t? another ? yDomainDY : prevYDomain\n\t\t\t\t: realYDomain;\n\t\t\t// console.log(yPan, yPanEnabled, properYDomain, domain, realYDomain)\n\t\t\treturn {\n\t\t\t\t...config,\n\t\t\t\tyScale: setRange(yScale.copy().domain(domain), height, padding, flipYScale),\n\t\t\t\trealYDomain,\n\t\t\t};\n\t\t\t// return { ...config, yScale: yScale.copy().domain(domain).range([height - padding, padding]) };\n\t\t});\n\n\tvar updatedChartConfig = combine(chartConfig, yDomains);\n\treturn updatedChartConfig;\n}\n\nexport function getCurrentItem(xScale, xAccessor, mouseXY, plotData) {\n\tvar xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t} else {\n\t\tvar d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn item;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/ChartDataUtil.js\n **/","/**\n * lodash 4.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nvar baseFlatten = require('lodash._baseflatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.flattendeep/index.js\n ** module id = 17\n ** module chunks = 0 2\n **/","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a\n * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n * Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length,\n *  else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = baseFlatten;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash._baseflatten/index.js\n ** module id = 18\n ** module chunks = 0 2\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport PureComponent from \"./utils/PureComponent\";\n\nclass Chart extends PureComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.yScale = this.yScale.bind(this);\n\t}\n\tyScale() {\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\treturn chartConfig.yScale.copy();\n\t}\n\tgetChildContext() {\n\t\tvar { id: chartId } = this.props;\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === chartId)[0];\n\n\t\tvar { width, height } = chartConfig;\n\t\tvar canvasOriginX = 0.5 + chartConfig.origin[0] + this.context.margin.left;\n\t\tvar canvasOriginY = 0.5 + chartConfig.origin[1] + this.context.margin.top;\n\n\t\treturn { chartId, chartConfig, canvasOriginX, canvasOriginY, width, height };\n\t}\n\trender() {\n\t\tvar { origin } = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\tvar [x, y] = origin;\n\n\t\treturn <g transform={`translate(${ x }, ${ y })`}>{this.props.children}</g>;\n\t}\n}\n\nChart.propTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tid: PropTypes.number.isRequired,\n\tyExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tyScale: PropTypes.func.isRequired,\n\tyMousePointerDisplayLocation: PropTypes.oneOf([\"left\", \"right\"]),\n\tyMousePointerDisplayFormat: PropTypes.func,\n\tflipYScale: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\ttop: PropTypes.number,\n\t\t\tbottom: PropTypes.number,\n\t\t})\n\t]).isRequired,\n};\n\nChart.defaultProps = {\n\tid: 0,\n\torigin: [0, 0],\n\tpadding: 0,\n\tyScale: d3.scale.linear(),\n\tflipYScale: false,\n\tyPan: true,\n};\n\nChart.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\tmargin: PropTypes.object.isRequired,\n\n\t// adding here even when this is not used by Chart, refer to https://github.com/facebook/react/issues/2517\n\t// used by CurrentCoordinate\n\t// currentItem: PropTypes.object,\n\t// mouseXY: PropTypes.array,\n\t// show: PropTypes.bool,\n};\n\nChart.childContextTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\tchartConfig: PropTypes.object.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartId: PropTypes.number.isRequired,\n};\n\nexport default Chart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Chart.jsx\n **/","\"use strict\";\n\nimport { Component } from \"react\";\nimport shallowEqual from \"./shallowEqual\";\n\nclass PureComponent extends Component {\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\treturn !shallowEqual(this.props, nextProps)\n\t\t\t|| !shallowEqual(this.state, nextState)\n\t\t\t|| !shallowEqual(this.context, nextContext);\n\t}\n}\n\nexport default PureComponent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/PureComponent.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { isDefined, mousePosition, touchPosition, d3Window, MOUSEMOVE, MOUSEUP } from \"./utils\";\nimport { getCurrentCharts } from \"./utils/ChartDataUtil\";\n\nfunction getTouchProps(touch) {\n\tif (!touch) return {};\n\treturn {\n\t\tpageX: touch.pageX,\n\t\tpageY: touch.pageY,\n\t\tclientX: touch.clientX,\n\t\tclientY: touch.clientY\n\t};\n}\n\nclass EventCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleEnter = this.handleEnter.bind(this);\n\t\tthis.handleLeave = this.handleLeave.bind(this);\n\t\tthis.handleWheel = this.handleWheel.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\n\t\tthis.handleRightClick = this.handleRightClick.bind(this);\n\t\tthis.lastTouch = {};\n\t\tthis.initialPinch = {};\n\t\tthis.mouseInteraction = true;\n\t\tthis.state = {\n\t\t\tpanInProgress: false,\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.focus = this.props.focus;\n\t}\n\thandleEnter(e) {\n\t\tvar { onMouseEnter } = this.props;\n\t\tonMouseEnter(e);\n\t}\n\thandleLeave(e) {\n\t\tvar { onMouseLeave } = this.props;\n\t\tonMouseLeave(e);\n\t}\n\thandleWheel(e) {\n\t\tvar { zoom, onZoom, zoomMultiplier } = this.props;\n\n\t\tif (zoom && this.focus) {\n\t\t\te.preventDefault();\n\n\t\t\tvar newPos = mousePosition(e);\n\t\t\tvar zoomDir = e.deltaY > 0 ? zoomMultiplier : -zoomMultiplier;\n\n\t\t\tonZoom(zoomDir, newPos, e);\n\t\t}\n\t}\n\thandleMouseMove(e) {\n\t\tvar { onMouseMove, mouseMove } = this.props;\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& mouseMove\n\t\t\t\t&& !this.state.panInProgress) {\n\n\t\t\tvar newPos = mousePosition(e);\n\n\t\t\tonMouseMove(newPos, \"mouse\", e);\n\t\t}\n\t}\n\thandleRightClick(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tvar { onContextMenu, onPanEnd } = this.props;\n\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\n\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\tif (this.panHappened) {\n\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t}\n\n\t\tonContextMenu(newPos, e);\n\n\t\tvar win = d3Window(this.refs.capture);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.contextMenuClicked = true;\n\t\tthis.setState({\n\t\t\tpanInProgress: false,\n\t\t\tpanStart: null,\n\t\t});\n\t\t// onPanEnd(newPos, e);\n\t}\n\thandleMouseDown(e) {\n\t\tvar { pan, xScale, chartConfig, onMouseDown } = this.props;\n\t\tthis.panHappened = false;\n\t\tthis.focus = true;\n\n\t\tif (!this.state.panInProgress && this.mouseInteraction) {\n\n\t\t\tvar mouseXY = mousePosition(e);\n\n\t\t\tvar dx = e.pageX - mouseXY[0],\n\t\t\t\tdy = e.pageY - mouseXY[1];\n\n\t\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: pan,\n\t\t\t\tpanStart: {\n\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\tpanOrigin: mouseXY,\n\t\t\t\t\tdx, dy,\n\t\t\t\t\tchartsToPan: currentCharts\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (pan) {\n\t\t\t\tvar win = d3Window(this.refs.capture);\n\t\t\t\td3.select(win)\n\t\t\t\t\t.on(MOUSEMOVE, this.handlePan)\n\t\t\t\t\t.on(MOUSEUP, this.handlePanEnd);\n\t\t\t}\n\n\t\t\tif (!pan) {\n\t\t\t\te.persist();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!this.contextMenuClicked) {\n\t\t\t\t\t\t// console.log(\"NO RIGHT\")\n\t\t\t\t\t\tonMouseDown(mouseXY, currentCharts, e);\n\t\t\t\t\t}\n\t\t\t\t\tthis.contextMenuClicked = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandlePan() {\n\t\tvar e = d3.event;\n\t\tvar { pan: panEnabled, onPan } = this.props;\n\n\t\t// console.log(\"moved from- \", startXY, \" to \", newPos);\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& panEnabled\n\t\t\t\t&& onPan\n\t\t\t\t&& isDefined(this.state.panStart)) {\n\n\t\t\tthis.panHappened = true;\n\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\t\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\t\tonPan(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t}\n\t}\n\thandlePanEnd() {\n\t\tvar e = d3.event;\n\n\t\tvar { pan: panEnabled, onPanEnd, onClick, onDoubleClick } = this.props;\n\n\t\tif (isDefined(this.state.panStart)) {\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\n\t\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\t\tif (!this.panHappened) {\n\t\t\t\tif (this.clicked) {\n\t\t\t\t\tonDoubleClick(newPos, e);\n\t\t\t\t} else {\n\t\t\t\t\tthis.clicked = true;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.clicked = false;\n\t\t\t\t\t}, 300);\n\t\t\t\t\tonClick(newPos, e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.mouseInteraction\n\t\t\t\t\t&& this.panHappened\n\t\t\t\t\t// && !this.contextMenuClicked\n\t\t\t\t\t&& panEnabled\n\t\t\t\t\t&& onPanEnd) {\n\t\t\t\tvar win = d3Window(this.refs.capture);\n\t\t\t\td3.select(win)\n\t\t\t\t\t.on(MOUSEMOVE, null)\n\t\t\t\t\t.on(MOUSEUP, null);\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: false,\n\t\t\t\tpanStart: null,\n\t\t\t});\n\t\t}\n\t}\n\thandleTouchStart(e) {\n\t\tthis.mouseInteraction = false;\n\n\t\tvar { pan: panEnabled } = this.props;\n\n\t\tvar { xScale, onPanEnd } = this.props;\n\n\t\tif (e.touches.length === 1) {\n\t\t\tvar touch = getTouchProps(e.touches[0]);\n\t\t\tvar touchXY = touchPosition(touch, e);\n\t\t\tthis.lastTouch = touch;\n\t\t\t// onMouseMove(touchXY, \"touch\", e);\n\t\t\tif (panEnabled) {\n\t\t\t\tconst dx = touch.pageX - touchXY[0],\n\t\t\t\t\tdy = touch.pageY - touchXY[1];\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: true,\n\t\t\t\t\tpanStart: {\n\t\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\t\tpanOrigin: touchXY,\n\t\t\t\t\t\tdx, dy\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom begin\n\t\t\t// do nothing pinch zoom is handled in handleTouchMove\n\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\tvar { panInProgress, panStart } = this.state;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\t\t\t\tconst { dx, dy, panStartXScale, panOrigin } = panStart;\n\n\t\t\t\t// end pan first\n\t\t\t\tvar newPos = [touch1.pageX - dx, touch1.pageY - dy];\n\t\t\t\tthis.lastTouch = null;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: false,\n\t\t\t\t\tpanStart: null,\n\t\t\t\t});\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t}\n\n\t\tif (e.touches.length !== 2) this.initialPinch = null;\n\n\t\t// console.log(\"handleTouchStart\", e);\n\t\te.preventDefault();\n\t}\n\thandleTouchMove(e) {\n\t\tvar { pan: panEnabled, zoom: zoomEnabled } = this.props;\n\t\tvar { xScale, onPan, onPinchZoom } = this.props;\n\t\tvar { panInProgress, panStart } = this.state;\n\n\t\tif (e.touches.length === 1) {\n\t\t\t// pan\n\t\t\tvar touch = this.lastTouch = getTouchProps(e.touches[0]);\n\t\t\tvar { dx, dy, panStartXScale, panOrigin } = panStart;\n\n\t\t\tvar newPos = [touch.pageX - dx, touch.pageY - dy];\n\n\t\t\tif (panInProgress && panEnabled && onPan) {\n\t\t\t\tonPan(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom\n\t\t\tif (zoomEnabled && onPinchZoom && focus) {\n\t\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\t\tvar touch2 = getTouchProps(e.touches[1]);\n\n\t\t\t\tvar touch1Pos = touchPosition(touch1, e);\n\t\t\t\tvar touch2Pos = touchPosition(touch2, e);\n\n\t\t\t\tif (this.initialPinch === null) {\n\t\t\t\t\tthis.initialPinch = {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t\trange: xScale.range(),\n\t\t\t\t\t};\n\t\t\t\t} else if (this.initialPinch && !panInProgress) {\n\t\t\t\t\tonPinchZoom(this.initialPinch, {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\n\t\t// console.log(\"handleTouchMove\", e);\n\t}\n\thandleTouchEnd(e) {\n\t\t// TODO enableMouseInteraction\n\t\tvar { pan: panEnabled, onPanEnd } = this.props;\n\t\tvar { panInProgress, panStart } = this.state;\n\n\t\tif (this.lastTouch && isDefined(panStart)) {\n\t\t\tvar { dx, dy, panStartXScale, panOrigin } = panStart;\n\t\t\tvar newPos = [this.lastTouch.pageX - dx, this.lastTouch.pageY - dy];\n\n\t\t\tthis.initialPinch = null;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t}\n\t\t// console.log(\"handleTouchEnd\", dxdy, newPos, e);\n\t\tthis.mouseInteraction = true;\n\t\te.preventDefault();\n\t}\n\trender() {\n\t\tvar { height, width } = this.props;\n\t\tvar className = this.state.panInProgress ? \"react-stockcharts-grabbing-cursor\" : \"react-stockcharts-crosshair-cursor\";\n\t\treturn (\n\t\t\t<rect ref=\"capture\"\n\t\t\t\tclassName={className}\n\t\t\t\twidth={width} height={height} style={{ opacity: 0 }}\n\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\tonWheel={this.handleWheel}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonContextMenu={this.handleRightClick}\n\t\t\t\tonTouchStart={this.handleTouchStart}\n\t\t\t\tonTouchEnd={this.handleTouchEnd}\n\t\t\t\tonTouchMove={this.handleTouchMove} />\n\t\t);\n\t}\n}\n\nEventCapture.propTypes = {\n\tmouseMove: PropTypes.bool.isRequired,\n\tzoom: PropTypes.bool.isRequired,\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tpan: PropTypes.bool.isRequired,\n\tpanSpeedMultiplier: PropTypes.number.isRequired,\n\tfocus: PropTypes.bool.isRequired,\n\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\n\tonMouseMove: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\tonZoom: PropTypes.func,\n\tonPinchZoom: PropTypes.func,\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\tchildren: PropTypes.node,\n};\n\nEventCapture.defaultProps = {\n\tmouseMove: false,\n\tzoom: false,\n\tzoomMultiplier: 1,\n\tpan: false,\n\tpanSpeedMultiplier: 1,\n\tfocus: false,\n};\n\nexport default EventCapture;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/EventCapture.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass CanvasContainer extends Component {\n\tgetCanvasContexts() {\n\n\t\tvar {\n\t\t\tcanvas_axes: axesCanvasDOM,\n\t\t\tcanvas_mouse_coordinates: mouseCoordDOM,\n\t\t\t// canvas_interactive: interactiveDOM,\n\t\t\tbg: bgDOM\n\t\t} = this.refs;\n\n\t\tif (this.refs.canvas_axes) {\n\t\t\treturn {\n\t\t\t\taxes: axesCanvasDOM.getContext(\"2d\"),\n\t\t\t\tmouseCoord: mouseCoordDOM.getContext(\"2d\"),\n\t\t\t\t// interactive: interactiveDOM.getContext(\"2d\"),\n\t\t\t\tbg: bgDOM.getContext(\"2d\"),\n\t\t\t};\n\t\t}\n\t}\n\trender() {\n\t\tvar { height, width, type, zIndex } = this.props;\n\t\tif (type === \"svg\") return null;\n\t\treturn (\n\t\t\t<div style={{ zIndex: zIndex }}>\n\t\t\t\t<canvas id=\"bg\" ref=\"bg\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t\t<canvas id=\"axes\" ref=\"canvas_axes\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t\t<canvas id=\"mouse\" ref=\"canvas_mouse_coordinates\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/*\n\t\t\t\t<canvas ref=\"canvas_interactive\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n*/\n\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n};\n\nexport default CanvasContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/CanvasContainer.jsx\n **/","\"use strict\";\n\nimport {\n\tfirst,\n\tlast,\n\tgetClosestItemIndexes,\n\tisDefined,\n\tisNotDefined,\n\tidentity,\n} from \"../utils\";\n\nfunction extentsWrapper(data, inputXAccessor, realXAccessor, width, useWholeData) {\n\tfunction domain(inputDomain, xAccessor, currentPlotData, currentDomain) {\n\t\tif (useWholeData) {\n\t\t\treturn { plotData: data, domain: inputDomain };\n\t\t}\n\n\t\tvar left = first(inputDomain);\n\t\tvar right = last(inputDomain);\n\n\t\tvar filteredData = getFilteredResponse(data, left, right, xAccessor);\n\n\t\tvar plotData, domain;\n\t\tif (canShowTheseManyPeriods(width, filteredData.length)) {\n\t\t\tplotData = filteredData;\n\t\t\t// domain = subsequent ? inputDomain : [realXAccessor(first(plotData)), realXAccessor(last(plotData))]\n\t\t\tdomain = realXAccessor === xAccessor ? inputDomain : [realXAccessor(first(plotData)), realXAccessor(last(plotData))];\n\t\t} else {\n\t\t\tplotData = currentPlotData || filteredData.slice(filteredData.length - showMax(width));\n\t\t\tdomain = currentDomain || [realXAccessor(first(plotData)), realXAccessor(last(plotData))];\n\t\t}\n\n\t\treturn { plotData, domain };\n\t}\n\n\treturn domain;\n}\n\nfunction canShowTheseManyPeriods(width, arrayLength) {\n\tvar threshold = 0.75; // number of datapoints per 1 px\n\treturn arrayLength < width * threshold && arrayLength > 1;\n}\n\nfunction showMax(width) {\n\tvar threshold = 0.75; // number of datapoints per 1 px\n\treturn Math.floor(width * threshold);\n}\n\nfunction getFilteredResponse(data, left, right, xAccessor) {\n\tvar newLeftIndex = getClosestItemIndexes(data, left, xAccessor).right;\n\tvar newRightIndex = getClosestItemIndexes(data, right, xAccessor).left;\n\n\tvar filteredData = data.slice(newLeftIndex, newRightIndex + 1);\n\t// console.log(right, newRightIndex, dataForInterval.length);\n\n\treturn filteredData;\n}\n\nfunction compose(funcs) {\n\tif (funcs.length === 0) {\n\t\treturn identity;\n\t}\n\n\tif (funcs.length === 1) {\n\t\treturn funcs[0];\n\t}\n\n\tvar [head, ...tail] = funcs;\n\n\treturn args => tail.reduce((composed, f) => f(composed), head(args));\n}\n\nexport default function() {\n\n\tvar xAccessor, useWholeData, width, xScale,\n\t\tmap, calculator = [], scaleProvider,\n\t\tindexAccessor, indexMutator;\n\n\tfunction evaluate(data) {\n\n\t\tif (process.env.NODE_ENV !== \"production\") console.time(\"evaluation\");\n\t\tvar mappedData = data.map(map);\n\n\t\tvar composedCalculator = compose(calculator);\n\n\t\tvar calculatedData = composedCalculator(mappedData);\n\t\tif (process.env.NODE_ENV !== \"production\") console.timeEnd(\"evaluation\");\n\n\n\t\tif (isDefined(scaleProvider)) {\n\t\t\tvar scaleProvider2 = scaleProvider\n\t\t\t\t.inputDateAccessor(xAccessor)\n\t\t\t\t.indexAccessor(indexAccessor)\n\t\t\t\t.indexMutator(indexMutator);\n\t\t\tvar {\n\t\t\t\tdata: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor\n\t\t\t} = scaleProvider2(calculatedData);\n\n\t\t\treturn {\n\t\t\t\tfilterData: extentsWrapper(finalData, xAccessor, realXAccessor, width, useWholeData || isNotDefined(modifiedXScale.invert)),\n\t\t\t\tfullData: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor,\n\t\t\t\tlastItem: last(finalData),\n\t\t\t\tfirstItem: first(finalData),\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tfilterData: extentsWrapper(calculatedData, xAccessor, xAccessor, width, useWholeData || isNotDefined(xScale.invert)),\n\t\t\tfullData: calculatedData,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor: xAccessor,\n\t\t\tlastItem: last(calculatedData),\n\t\t\tfirstItem: first(calculatedData),\n\t\t};\n\t}\n\tevaluate.xAccessor = function(x) {\n\t\tif (!arguments.length) return xAccessor;\n\t\txAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.map = function(x) {\n\t\tif (!arguments.length) return map;\n\t\tmap = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexAccessor = function(x) {\n\t\tif (!arguments.length) return indexAccessor;\n\t\tindexAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexMutator = function(x) {\n\t\tif (!arguments.length) return indexMutator;\n\t\tindexMutator = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.scaleProvider = function(x) {\n\t\tif (!arguments.length) return scaleProvider;\n\t\tscaleProvider = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.xScale = function(x) {\n\t\tif (!arguments.length) return xScale;\n\t\txScale = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.useWholeData = function(x) {\n\t\tif (!arguments.length) return useWholeData;\n\t\tuseWholeData = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.width = function(x) {\n\t\tif (!arguments.length) return width;\n\t\twidth = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.calculator = function(x) {\n\t\tif (!arguments.length) return calculator;\n\t\tcalculator = x;\n\t\treturn evaluate;\n\t};\n\n\treturn evaluate;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/evaluator.js\n **/","\"use strict\";\n\nimport { PropTypes } from \"react\";\n\nimport GenericComponent from \"./GenericComponent\";\n\nclass GenericChartComponent extends GenericComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t}\n\tpreCanvasDraw(ctx) {\n\t\tctx.save();\n\t\tvar { canvasOriginX, canvasOriginY, width, height, margin } = this.context;\n\t\tvar { clip, edgeClip } = this.props;\n\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tif (edgeClip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, canvasOriginY - 10, width + margin.left + margin.right + 1, height + 20);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, -1, width + 1, height + 1);\n\t\t\tctx.clip();\n\t\t}\n\t}\n\tpostCanvasDraw(ctx) {\n\t\tctx.restore();\n\t}\n\tupdateMoreProps(moreProps) {\n\t\t// console.log(type, moreProps, e)\n\t\tsuper.updateMoreProps(moreProps);\n\t\tvar { chartConfig: chartConfigList } = moreProps;\n\n\t\tif (chartConfigList) {\n\t\t\tvar { chartId } = this.context;\n\t\t\tvar chartConfig = chartConfigList\n\t\t\t\t.filter(each => each.id === chartId)[0];\n\t\t\tthis.moreProps.chartConfig = chartConfig;\n\t\t}\n\t}\n}\n\nGenericChartComponent.propTypes = GenericComponent.propTypes;\n\nGenericChartComponent.defaultProps = GenericComponent.defaultProps;\n\nGenericChartComponent.contextTypes = {\n\t...GenericComponent.contextTypes,\n\tchartId: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n};\n\nexport default GenericChartComponent;\n\nexport function getAxisCanvas(contexts) {\n\treturn contexts.axes;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/GenericChartComponent.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport { isNotDefined, isDefined, noop } from \"./utils\";\n\nvar suscriberId = 0;\n\nclass GenericComponent extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\tthis.updateMoreProps = this.updateMoreProps.bind(this);\n\t\tthis.evaluateType = this.evaluateType.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t\tthis.executeMouseMove = this.executeMouseMove.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t\tthis.getRef = this.getRef.bind(this);\n\n\t\tthis.suscriberId = suscriberId++;\n\n\t\tthis.drawOnNextTick = false;\n\n\t\tthis.moreProps = {};\n\t\tthis.state = {\n\t\t\tupdateCount: 0,\n\t\t};\n\t}\n\tgetRef(ref) {\n\t\treturn this.refs[ref];\n\t}\n\tupdateMoreProps(moreProps) {\n\t\tthis.prevMoreProps = this.moreProps;\n\t\tthis.moreProps = Object.assign(this.moreProps, moreProps);\n\t}\n\tlistener(type, moreProps, e) {\n\t\t// console.log(e.shiftKey)\n\t\tif (isDefined(moreProps)) {\n\t\t\tthis.updateMoreProps(moreProps);\n\t\t}\n\n\t\tthis.evaluateType(type, e);\n\t}\n\texecuteMouseMove(e) {\n\t\tthis.moreProps.hovering = this.isHover(e);\n\n\t\tif (this.moreProps.hovering\n\t\t\t\t|| this.props.drawOnMouseMove) {\n\t\t\tif (this.props.onMouseMove) this.props.onMouseMove(e);\n\t\t\tthis.drawOnNextTick = true;\n\t\t} else {\n\t\t\tthis.drawOnNextTick = false;\n\t\t}\n\t}\n\tevaluateType(type, e) {\n\t\t// if (this.props.debug) console.log(this.props.debug, type);\n\n\t\tswitch (type) {\n\t\tcase \"zoom\":\n\t\tcase \"mouseenter\":\n\t\t\t\t// DO NOT DRAW FOR THESE EVENTS\n\t\t\tbreak;\n\t\tcase \"contextmenu\": {\n\t\t\tif (this.moreProps.hovering && this.props.onContextMenu) {\n\t\t\t\tthis.props.onContextMenu(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mousedown\": {\n\t\t\tif (this.moreProps.hovering && this.props.onMouseDown) {\n\t\t\t\tthis.props.onMouseDown(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"click\": {\n\t\t\tif (this.moreProps.hovering && this.props.onClick) {\n\t\t\t\tthis.props.onClick(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mousemove\": {\n\t\t\tthis.executeMouseMove(e);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"dblclick\": {\n\t\t\tif (this.moreProps.hovering && this.props.onDoubleClick) {\n\t\t\t\tthis.props.onDoubleClick(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mouseleave\": {\n\t\t\tthis.drawOnNextTick = this.props.drawOnMouseExitOfCanvas;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"pan\": {\n\t\t\tthis.moreProps.hovering = false;\n\t\t\tthis.drawOnNextTick = this.props.drawOnPan;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"draw\": {\n\t\t\tif (this.drawOnNextTick) {\n\t\t\t\tthis.draw();\n\t\t\t}\n\t\t}\n\t\t}\n\t\tif (this.props.debug) console.log(this.props.debug, type, this.drawOnNextTick);\n\n\t\t// if (type !== \"mousemove\" && type !== \"ff\") this.moreProps.prevHovering = false;\n\t}\n\tisHover(e) {\n\t\treturn this.props.isHover(this.moreProps, e);\n\t}\n\tdraw() {\n\t\tvar { chartCanvasType } = this.context;\n\t\tvar { canvasDraw } = this.props;\n\n\t\tif (isNotDefined(canvasDraw) || chartCanvasType === \"svg\") {\n\t\t\tvar { updateCount } = this.state;\n\n\t\t\tthis.setState({\n\t\t\t\tupdateCount: updateCount + 1,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tvar { subscribe } = this.context;\n\t\tsubscribe(this.suscriberId, this.listener);\n\t\tthis.componentWillReceiveProps(this.props, this.context);\n\t}\n\tcomponentWillUnmount() {\n\t\tvar { unsubscribe } = this.context;\n\t\tunsubscribe(this.suscriberId);\n\t}\n\tcomponentDidMount() {\n\t\tthis.componentDidUpdate();\n\t}\n\tcomponentDidUpdate() {\n\t\tvar { chartCanvasType } = this.context;\n\t\tvar { canvasDraw } = this.props;\n\n\t\tif (this.props.debug) console.log(this.props.debug, \"updated\");\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") {\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tvar { xScale, plotData, chartConfig } = nextContext;\n\t\tif (this.props.debug) console.log(nextContext);\n\t\tthis.moreProps = {\n\t\t\t...this.moreProps,\n\t\t\txScale, plotData, chartConfig\n\t\t};\n\t}\n\tgetMoreProps() {\n\t\tvar { xScale, plotData, chartConfig } = this.context;\n\n\t\tvar moreProps = {\n\t\t\txScale, plotData, chartConfig,\n\t\t\t...this.moreProps\n\t\t};\n\t\treturn moreProps;\n\t}\n\tgetPrevMoreProps() {\n\t\treturn this.prevMoreProps;\n\t}\n\tpreCanvasDraw() {\n\t\t// do nothing\n\t}\n\tpostCanvasDraw() {\n\t\t// do nothing\n\t}\n\tdrawOnCanvas() {\n\t\tvar { canvasDraw, canvasToDraw, hoverCanvasToDraw } = this.props;\n\t\tvar { getCanvasContexts } = this.context;\n\t\tvar { hovering } = this.moreProps;\n\n\t\tvar ctx = hovering\n\t\t\t? hoverCanvasToDraw(getCanvasContexts())\n\t\t\t: canvasToDraw(getCanvasContexts());\n\n\t\tthis.preCanvasDraw(ctx);\n\t\tcanvasDraw(ctx, this.getMoreProps());\n\n\t\tthis.postCanvasDraw(ctx);\n\t}\n\trender() {\n\t\tvar { chartCanvasType, chartId } = this.context;\n\t\tvar { canvasDraw, clip, svgDraw } = this.props;\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") return null;\n\n\t\tvar suffix = isDefined(chartId) ? \"-\" + chartId : \"\";\n\n\t\tvar style = clip ? { \"clipPath\": `url(#chart-area-clip${suffix})` } : null;\n\n\t\treturn <g style={style}>{svgDraw(this.getMoreProps())}</g>;\n\t}\n}\n\nGenericComponent.propTypes = {\n\tsvgDraw: PropTypes.func.isRequired,\n\tcanvasDraw: PropTypes.func,\n\tdrawOnMouseMove: PropTypes.bool.isRequired,\n\tdrawOnPan: PropTypes.bool.isRequired,\n\tclip: PropTypes.bool.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n\tdrawOnMouseExitOfCanvas: PropTypes.bool.isRequired,\n\tcanvasToDraw: PropTypes.func.isRequired,\n\thoverCanvasToDraw: PropTypes.func.isRequired,\n\tisHover: PropTypes.func.isRequired,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\n\tdebug: PropTypes.string,\n};\n\nGenericComponent.defaultProps = {\n\tsvgDraw: d3.functor(null),\n\tdrawOnMouseMove: false,\n\tdrawOnPan: false,\n\tdrawOnHover: false,\n\tdrawOnMouseExitOfCanvas: false,\n\tcanvasToDraw: contexts => contexts.mouseCoord,\n\thoverCanvasToDraw: contexts => contexts.mouseCoord,\n\tclip: true,\n\tedgeClip: false,\n\tisHover: d3.functor(false),\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n};\n\nGenericComponent.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tchartId: PropTypes.number,\n\tgetCanvasContexts: PropTypes.func,\n\n\tchartCanvasType: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\n\tchartConfig: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]).isRequired,\n\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n};\n\nexport default GenericComponent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/GenericComponent.jsx\n **/","import React, { PropTypes } from \"react\";\nimport PureComponent from \"./utils/PureComponent\";\n\nimport { hexToRGBA, isDefined } from \"./utils\";\n\nclass BackgroundText extends PureComponent {\n\tcomponentDidMount() {\n\t\tif (this.context.chartCanvasType !== \"svg\" && isDefined(this.context.getCanvasContexts)) {\n\t\t\tvar contexts = this.context.getCanvasContexts();\n\t\t\tif (contexts) BackgroundText.drawOnCanvas(contexts.bg, this.props, this.context, this.props.children);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\trender() {\n\t\tvar { chartCanvasType } = this.context;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = this.props;\n\t\tvar props = { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor };\n\t\treturn (\n\t\t\t<text {...props}>this.props.children(interval)</text>\n\t\t);\n\t}\n}\n\nBackgroundText.drawOnCanvas = (ctx, props, { interval }, getText) => {\n\tctx.clearRect(-1, -1, ctx.canvas.width + 2, ctx.canvas.height + 2);\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(0.5, 0.5);\n\n\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = props;\n\n\tvar text = getText(interval);\n\n\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (stroke !== \"none\") ctx.strokeText(text, x, y);\n\tctx.fillText(text, x, y);\n\n\tctx.restore();\n};\n\nBackgroundText.propTypes = {\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nBackgroundText.defaultProps = {\n\topacity: 0.3,\n\tfill: \"#9E7523\",\n\tstroke: \"#9E7523\",\n\tstrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\ttextAnchor: \"middle\",\n};\n\nBackgroundText.contextTypes = {\n\tinterval: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n};\n\nexport default BackgroundText;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/BackgroundText.jsx\n **/","import AreaSeries from \"./AreaSeries\";\nimport ScatterSeries from \"./ScatterSeries\";\nimport CircleMarker from \"./CircleMarker\";\nimport LineSeries from \"./LineSeries\";\nimport CandlestickSeries from \"./CandlestickSeries\";\nimport OHLCSeries from \"./OHLCSeries\";\nimport BarSeries from \"./BarSeries\";\nimport StackedBarSeries from \"./StackedBarSeries\";\nimport GroupedBarSeries from \"./GroupedBarSeries\";\nimport KagiSeries from \"./KagiSeries\";\nimport PointAndFigureSeries from \"./PointAndFigureSeries\";\nimport RenkoSeries from \"./RenkoSeries\";\nimport MACDSeries from \"./MACDSeries\";\nimport BollingerSeries from \"./BollingerSeries\";\nimport RSISeries from \"./RSISeries\";\nimport StochasticSeries from \"./StochasticSeries\";\nimport ElderRaySeries from \"./ElderRaySeries\";\nimport VolumeProfileSeries from \"./VolumeProfileSeries\";\nimport StraightLine from \"./StraightLine\";\n\nexport {\n\tScatterSeries,\n\tCircleMarker,\n\tAreaSeries,\n\tLineSeries,\n\tCandlestickSeries,\n\tOHLCSeries,\n\tBarSeries,\n\tStackedBarSeries,\n\tGroupedBarSeries,\n\tKagiSeries,\n\tPointAndFigureSeries,\n\tRenkoSeries,\n\tMACDSeries,\n\tBollingerSeries,\n\tRSISeries,\n\tStochasticSeries,\n\tElderRaySeries,\n\tVolumeProfileSeries,\n\tStraightLine,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport AreaOnlySeries from \"./AreaOnlySeries\";\n\nfunction AreaSeries(props) {\n\tvar { yAccessor, baseAt } = props;\n\tvar { className, opacity, stroke, strokeWidth, fill } = props;\n\n\treturn (\n\t\t<g className={className}>\n\t\t\t<LineSeries\n\t\t\t\tyAccessor={yAccessor}\n\t\t\t\tstroke={stroke} fill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\thoverHighlight={false} />\n\t\t\t<AreaOnlySeries\n\t\t\t\tyAccessor={yAccessor}\n\t\t\t\tbase={baseAt}\n\t\t\t\tstroke=\"none\" fill={fill}\n\t\t\t\topacity={opacity} />\n\t\t</g>\n\t);\n}\n\nAreaSeries.propTypes = {\n\tstroke: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tbaseAt: PropTypes.func,\n};\n\nAreaSeries.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-area\"\n};\n\nexport default AreaSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/AreaSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { first, getClosestItemIndexes } from \"../utils\";\n\nclass LineSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\t// console.log(\"HERE\")\n\t\tvar { highlightOnHover, yAccessor, hoverTolerance } = this.props;\n\n\t\tif (!highlightOnHover) return false;\n\n\t\tvar { mouseXY, currentItem, xScale, plotData } = moreProps;\n\t\tvar { chartConfig: { yScale, origin } } = moreProps;\n\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar [x, y] = mouseXY;\n\t\tconst radius = hoverTolerance;\n\n\t\tvar { left, right } = getClosestItemIndexes(plotData, xScale.invert(x), xAccessor);\n\t\tif (left === right) {\n\t\t\tvar cy = yScale(yAccessor(currentItem)) + origin[1];\n\t\t\tvar cx = xScale(xAccessor(currentItem)) + origin[0];\n\n\t\t\tvar hovering1 = Math.pow(x - cx, 2) + Math.pow(y - cy, 2) < Math.pow(radius, 2);\n\n\t\t\treturn hovering1;\n\t\t} else {\n\t\t\tvar l = plotData[left];\n\t\t\tvar r = plotData[right];\n\t\t\tvar x1 = xScale(xAccessor(l)) + origin[0];\n\t\t\tvar y1 = yScale(yAccessor(l)) + origin[1];\n\t\t\tvar x2 = xScale(xAccessor(r)) + origin[0];\n\t\t\tvar y2 = yScale(yAccessor(r)) + origin[1];\n\n\t\t\t// y = m * x + b\n\t\t\tvar m /* slope */ = (y2 - y1) / (x2 - x1);\n\t\t\tvar b /* y intercept */ = -1 * m * x1 + y1;\n\n\t\t\tvar desiredY = Math.round(m * x + b);\n\n\t\t\tvar hovering2 = y >= desiredY - radius && y <= desiredY + radius;\n\n\t\t\treturn hovering2;\n\t\t}\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor, stroke, strokeWidth, hoverStrokeWidth, defined } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tctx.lineWidth = hovering ? hoverStrokeWidth : strokeWidth;\n\n\t\tctx.strokeStyle = stroke;\n\n\t\tvar points = [];\n\t\tfor (let i = 0; i < plotData.length; i++) {\n\t\t\tlet d = plotData[i];\n\t\t\tif (defined(yAccessor(d), i)) {\n\t\t\t\tlet [x, y] = [xScale(xAccessor(d)), yScale(yAccessor(d))];\n\n\t\t\t\tpoints.push([x, y]);\n\t\t\t} else if (points.length) {\n\t\t\t\tsegment(points, ctx);\n\t\t\t\tpoints = [];\n\t\t\t}\n\t\t}\n\n\t\tif (points.length) segment(points, ctx);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor, stroke, strokeWidth, hoverStrokeWidth, defined } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tvar dataSeries = d3.svg.line()\n\t\t\t.defined(d => defined(yAccessor(d)))\n\t\t\t.x(d => xScale(xAccessor(d)))\n\t\t\t.y(d => yScale(yAccessor(d)));\n\n\t\tvar d = dataSeries(plotData);\n\n\t\tvar { fill, className } = this.props;\n\n\t\treturn <path className={`${className} ${stroke ? \"\" : \" line-stroke\"}`}\n\t\t\td={d}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={hovering ? hoverStrokeWidth : strokeWidth}\n\t\t\tfill={fill}\n\t\t\t/>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tisHover={this.isHover}\n\t\t\tonClick={this.props.onClick}\n\t\t\tonDoubleClick={this.props.onDoubleClick}\n\t\t\tonContextMenu={this.props.onContextMenu}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\nfunction segment(points, ctx) {\n\tctx.beginPath();\n\n\tlet [x, y] = first(points);\n\tctx.moveTo(x, y);\n\tfor (let i = 1; i < points.length; i++) {\n\t\tlet [x1, y1] = points[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tctx.stroke();\n}\n\nLineSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\thoverStrokeWidth: PropTypes.number,\n\tfill: PropTypes.string,\n\tdefined: PropTypes.func,\n\thoverTolerance: PropTypes.number,\n\thighlightOnHover: PropTypes.bool,\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nLineSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nLineSeries.defaultProps = {\n\tclassName: \"line \",\n\tstrokeWidth: 1,\n\thoverStrokeWidth: 4,\n\tfill: \"none\",\n\tstroke: \"#4682B4\",\n\tdefined: d => !isNaN(d),\n\thoverTolerance: 6,\n\thighlightOnHover: false,\n\tonClick: function(e) { console.log(\"Click\", e); },\n\tonDoubleClick: function(e) { console.log(\"Double Click\", e); },\n\tonContextMenu: function(e) { console.log(\"Right Click\", e); },\n};\n\nexport default LineSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/LineSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { hexToRGBA, isDefined, first } from \"../utils\";\n\nclass AreaOnlySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor, defined, base } = this.props;\n\t\tvar { fill, stroke, opacity } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar newBase = d3.functor(base);\n\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t\tctx.strokeStyle = stroke;\n\n\t\tvar points0 = [], points1 = [];\n\n\t\tfor (let i = 0; i < plotData.length; i++) {\n\t\t\tlet d = plotData[i];\n\t\t\tif (defined(yAccessor(d), i)) {\n\t\t\t\tlet [x, y1, y0] = [xScale(xAccessor(d)), yScale(yAccessor(d)), newBase(yScale, d)];\n\n\t\t\t\tpoints0.push([x, y0]);\n\t\t\t\tpoints1.push([x, y1]);\n\t\t\t} else if (points0.length) {\n\t\t\t\tsegment(points0, points1, ctx);\n\t\t\t\tpoints0 = [];\n\t\t\t\tpoints1 = [];\n\t\t\t}\n\t\t}\n\t\tif (points0.length) segment(points0, points1, ctx);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor, defined, base } = this.props;\n\t\tvar { stroke, fill, className, opacity } = this.props;\n\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar newBase = d3.functor(base);\n\t\tvar areaSeries = d3.svg.area()\n\t\t\t.defined(d => defined(yAccessor(d)))\n\t\t\t.x((d) => xScale(xAccessor(d)))\n\t\t\t.y0(newBase.bind(null, yScale))\n\t\t\t.y1((d) => yScale(yAccessor(d)));\n\n\t\tvar d = areaSeries(plotData);\n\t\tclassName = className.concat(isDefined(stroke) ? \"\" : \" line-stroke\");\n\t\treturn (\n\t\t\t<path d={d} stroke={stroke} fill={fill} className={className} opacity={opacity} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nAreaOnlySeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tdefined: PropTypes.func,\n\tbase: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.number\n\t]),\n};\nAreaOnlySeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nAreaOnlySeries.defaultProps = {\n\tclassName: \"line \",\n\tfill: \"none\",\n\topacity: 1,\n\tdefined: d => !isNaN(d),\n\tbase: (yScale/* , d*/) => first(yScale.range()),\n};\n\n\nfunction segment(points0, points1, ctx) {\n\tctx.beginPath();\n\tvar [x0, y0] = first(points0);\n\tctx.moveTo(x0, y0);\n\n\tvar i;\n\tfor (i = 0; i < points1.length; i++) {\n\t\tlet [x1, y1] = points1[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tfor (i = points0.length - 1; i >= 0; i--) {\n\t\tlet [x0, y0] = points0[i];\n\t\tctx.lineTo(x0, y0);\n\t}\n\tctx.closePath();\n\tctx.fill();\n}\n\nexport default AreaOnlySeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/AreaOnlySeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { hexToRGBA } from \"../utils\";\n\nclass ScatterSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar points = helper(this.props, moreProps, xAccessor);\n\n\t\tdrawOnCanvas(ctx, this.props, points);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, markerProps } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar points = helper(this.props, moreProps, xAccessor);\n\n\t\treturn <g className={className}>\n\t\t\t{points.map((point, idx) => {\n\t\t\t\tvar { marker: Marker } = point;\n\t\t\t\treturn <Marker key={idx} {...markerProps} point={point} />;\n\t\t\t})}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nScatterSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tmarker: PropTypes.func,\n\tmarkerProvider: PropTypes.func,\n\tmarkerProps: PropTypes.object,\n};\n\nScatterSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\n\nScatterSeries.defaultProps = {\n\tclassName: \"react-stockcharts-scatter\",\n};\n\nfunction helper(props, moreProps, xAccessor) {\n\tvar { yAccessor, marker: Marker, markerProvider, markerProps } = props;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tif (!(markerProvider || Marker)) throw new Error(\"required prop, either marker or markerProvider missing\");\n\n\treturn plotData.map(d => {\n\n\t\tif (markerProvider) Marker = markerProvider(d);\n\n\t\tvar mProps = { ...Marker.defaultProps, ...markerProps };\n\n\t\tvar fill = d3.functor(mProps.fill);\n\t\tvar stroke = d3.functor(mProps.stroke);\n\n\t\treturn {\n\t\t\tx: xScale(xAccessor(d)),\n\t\t\ty: yScale(yAccessor(d)),\n\t\t\tfill: hexToRGBA(fill(d), mProps.opacity),\n\t\t\tstroke: stroke(d),\n\t\t\tdatum: d,\n\t\t\tmarker: Marker,\n\t\t};\n\t});\n}\n\nfunction drawOnCanvas(ctx, props, points) {\n\n\tvar { markerProps } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.key(d => d.stroke)\n\t\t.entries(points);\n\n\tnest.forEach(fillGroup => {\n\t\tvar { key: fillKey, values: fillValues } = fillGroup;\n\n\t\tif (fillKey !== \"none\") {\n\t\t\tctx.fillStyle = fillKey;\n\t\t}\n\n\t\tfillValues.forEach(strokeGroup => {\n\t\t\t// var { key: strokeKey, values: strokeValues } = strokeGroup;\n\t\t\tvar { values: strokeValues } = strokeGroup;\n\n\t\t\tstrokeValues.forEach(point => {\n\t\t\t\tvar { marker } = point;\n\t\t\t\tmarker.drawOnCanvas({ ...marker.defaultProps, ...markerProps, fill: fillKey }, point, ctx);\n\t\t\t});\n\t\t});\n\t});\n}\n\nexport default ScatterSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/ScatterSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\n\nfunction Circle(props) {\n\tvar { className, stroke, strokeWidth, opacity, fill, point, r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\treturn (\n\t\t<circle className={className}\n\t\t\tcx={point.x} cy={point.y}\n\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\tfillOpacity={opacity} fill={fill} r={radius} />\n\t);\n}\n\nCircle.propTypes = {\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tpoint: PropTypes.shape({\n\t\tx: PropTypes.number.isRequired,\n\t\ty: PropTypes.number.isRequired,\n\t\tdatum: PropTypes.object.isRequired,\n\t}).isRequired,\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tr: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]).isRequired\n};\n\nCircle.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-marker-circle\",\n};\n\nCircle.drawOnCanvas = (props, point, ctx) => {\n\n\tvar { stroke, fill, opacity, strokeWidth } = props;\n\n\tctx.strokeStyle = stroke;\n\tctx.lineWidth = strokeWidth;\n\n\tif (fill !== \"none\") {\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t}\n\n\tCircle.drawOnCanvasWithNoStateChange(props, point, ctx);\n};\n\n\nCircle.drawOnCanvasWithNoStateChange = (props, point, ctx) => {\n\n\tvar { r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\n\tctx.moveTo(point.x, point.y);\n\tctx.beginPath();\n\tctx.arc(point.x, point.y, radius, 0, 2 * Math.PI, false);\n\tctx.stroke();\n\tctx.fill();\n};\n\nexport default Circle;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/CircleMarker.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { first, last, hexToRGBA, isDefined } from \"../utils\";\n\nclass CandlestickSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas(ctx, this.props, this.context, moreProps);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, wickClassName, candleClassName } = this.props;\n\n\t\treturn <g className={className}>\n\t\t\t<g className={wickClassName} key=\"wicks\">\n\t\t\t\t{getWicksSVG(this.props, this.context, moreProps)}\n\t\t\t</g>\n\t\t\t<g className={candleClassName} key=\"candles\">\n\t\t\t\t{getCandlesSVG(this.props, this.context, moreProps)}\n\t\t\t</g>\n\t\t</g>;\n\t}\n\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nCandlestickSeries.propTypes = {\n\tclassName: PropTypes.string,\n\twickClassName: PropTypes.string,\n\tcandleClassName: PropTypes.string,\n\twidthRatio: PropTypes.number.isRequired,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\twickStroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nCandlestickSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nCandlestickSeries.defaultProps = {\n\tclassName: \"react-stockcharts-candlestick\",\n\twickClassName: \"react-stockcharts-candlestick-wick\",\n\tcandleClassName: \"react-stockcharts-candlestick-candle\",\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => d.close > d.open ? \"up\" : \"down\",\n\twidthRatio: 0.8,\n\twickStroke: \"#000000\",\n\t// wickStroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tfill: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tstroke: \"#000000\",\n\tcandleStrokeWidth: 0.5,\n\t// stroke: \"none\",\n\topacity: 0.5,\n};\n\nfunction getWicksSVG(props, context, moreProps) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t/* eslint-enable react/prop-types */\n\n\tvar wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\tvar wicks = wickData\n\t\t.map((d, idx) => <path key={idx}\n\t\t\tclassName={d.className} stroke={d.stroke} style={{ shapeRendering: \"crispEdges\" }}\n\t\t\td={`M${d.x},${d.y1} L${d.x},${d.y2} M${d.x},${d.y3} L${d.x},${d.y4}`} />\n\t\t);\n\treturn wicks;\n}\n\nfunction getCandlesSVG(props, context, moreProps) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { opacity, candleStrokeWidth } = props;\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t/* eslint-enable react/prop-types */\n\n\tvar candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\tvar candles = candleData.map((d, idx) => {\n\t\tif (d.width < 0)\n\t\t\treturn (\n\t\t\t\t<line className={d.className} key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\telse if (d.height === 0)\n\t\t\treturn (\n\t\t\t\t<line key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\treturn (\n\t\t\t<rect key={idx} className={d.className}\n\t\t\t\tfillOpacity={opacity}\n\t\t\t\tx={d.x} y={d.y} width={d.width} height={d.height}\n\t\t\t\tfill={d.fill} stroke={d.stroke} strokeWidth={candleStrokeWidth} />\n\t\t);\n\t});\n\treturn candles;\n}\n\nfunction drawOnCanvas(ctx, props, context, moreProps) {\n\tvar { opacity, candleStrokeWidth } = props;\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\tvar wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(wickData);\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.x, d.y3);\n\t\t\tctx.lineTo(d.x, d.y4);\n\t\t\tctx.stroke();\n\t\t});\n\t});\n\n\tvar candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\n\tvar candleNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.key(d => d.fill)\n\t\t.entries(candleData);\n\n\tcandleNest.forEach(outer => {\n\t\tvar { key: strokeKey, values: strokeValues } = outer;\n\t\tif (strokeKey !== \"none\") {\n\t\t\tctx.strokeStyle = strokeKey;\n\t\t\tctx.lineWidth = candleStrokeWidth;\n\t\t}\n\t\tstrokeValues.forEach(inner => {\n\t\t\tvar { key, values } = inner;\n\t\t\tctx.fillStyle = hexToRGBA(key, opacity);\n\n\t\t\tvalues.forEach(d => {\n\t\t\t\tif (d.width < 0) {\n\t\t\t\t\t// <line className={d.className} key={idx} x1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}/>\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else if (d.height === 0) {\n\t\t\t\t\t// <line key={idx} x1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height} />\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x + d.width, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (strokeKey !== \"none\") ctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n\nfunction getWickData(props, xAccessor, xScale, yScale, plotData) {\n\n\tvar { classNames: classNameProp, wickStroke: wickStrokeProp, yAccessor } = props;\n\tvar wickStroke = d3.functor(wickStrokeProp);\n\tvar className = d3.functor(classNameProp);\n\tvar wickData = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\t// console.log(yAccessor);\n\t\t\t\tvar ohlc = yAccessor(d);\n\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\ty3 = yScale(Math.min(ohlc.open, ohlc.close)),\n\t\t\t\t\ty4 = yScale(ohlc.low);\n\n\t\t\t\treturn {\n\t\t\t\t\tx,\n\t\t\t\t\ty1,\n\t\t\t\t\ty2,\n\t\t\t\t\ty3,\n\t\t\t\t\ty4,\n\t\t\t\t\tclassName: className(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t};\n\t\t\t});\n\treturn wickData;\n}\n\nfunction getCandleData(props, xAccessor, xScale, yScale, plotData) {\n\tvar { classNames, fill: fillProp, stroke: strokeProp, widthRatio, yAccessor } = props;\n\tvar fill = d3.functor(fillProp);\n\tvar stroke = d3.functor(strokeProp);\n\t// console.log(plotData);\n\tvar width = xScale(xAccessor(last(plotData)))\n\t\t- xScale(xAccessor(first(plotData)));\n\tvar cw = (width / (plotData.length - 1) * widthRatio);\n\tvar candleWidth = Math.round(cw); // Math.floor(cw) % 2 === 0 ? Math.floor(cw) : Math.round(cw);\n\n\tvar offset = (candleWidth === 1 ? 0 : 0.5 * cw);\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d)) - offset),\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down;\n\t\t\t\treturn {\n\t\t\t\t\t// type: \"line\"\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: fill(ohlc),\n\t\t\t\t\tstroke: stroke(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default CandlestickSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/CandlestickSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\n\nclass OHLCSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar barData = getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\t\tdrawOnCanvas(ctx, barData);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\n\t\tvar barData = getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tvar { strokeWidth, bars } = barData;\n\n\t\treturn <g className={className}>\n\t\t\t{bars.map((d, idx) => <path key={idx}\n\t\t\t\tclassName={d.className} stroke={d.stroke} strokeWidth={strokeWidth}\n\t\t\t\td={`M${d.openX1} ${d.openY} L${d.openX2} ${d.openY} M${d.x} ${d.y1} L${d.x} ${d.y2} M${d.closeX1} ${d.closeY} L${d.closeX2} ${d.closeY}`}/>)}\n\t\t</g>;\n\t}\n}\n\nOHLCSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n};\n\nOHLCSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nOHLCSeries.defaultProps = {\n\tclassName: \"react-stockcharts-ohlc\",\n\tyAccessor: (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"up\" : \"down\") : \"firstbar\",\n\tstroke: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"#6BA583\" : \"#FF0000\") : \"#000000\",\n\topacity: 1,\n};\n\nfunction drawOnCanvas(ctx, barData) {\n\n\tvar { strokeWidth, bars } = barData;\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(bars);\n\n\tctx.lineWidth = strokeWidth;\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.openX1, d.openY);\n\t\t\tctx.lineTo(d.openX2, d.openY);\n\n\t\t\tctx.moveTo(d.closeX1, d.closeY);\n\t\t\tctx.lineTo(d.closeX2, d.closeY);\n\n\t\t\tctx.stroke();\n\t\t});\n\t});\n}\n\nfunction getOHLCBars(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { classNames: classNamesProp, stroke: strokeProp } = props;\n\n\tvar strokeFunc = d3.functor(strokeProp);\n\tvar classNameFunc = d3.functor(classNamesProp);\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar barWidth = Math.max(1, Math.round(width / (plotData.length - 1) / 2) - 1.5);\n\tvar strokeWidth = Math.min(barWidth, 6);\n\n\tvar bars = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d),\n\t\t\t\t\tx = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(ohlc.low),\n\t\t\t\t\topenX1 = x - barWidth,\n\t\t\t\t\topenX2 = x + strokeWidth / 2,\n\t\t\t\t\topenY = yScale(ohlc.open),\n\t\t\t\t\tcloseX1 = x - strokeWidth / 2,\n\t\t\t\t\tcloseX2 = x + barWidth,\n\t\t\t\t\tcloseY = yScale(ohlc.close),\n\t\t\t\t\tclassName = classNameFunc(d),\n\t\t\t\t\tstroke = strokeFunc(d);\n\t\t\t\t// console.log(d);\n\t\t\t\treturn { x, y1, y2, openX1, openX2, openY, closeX1, closeX2, closeY, stroke, className };\n\t\t\t});\n\treturn { barWidth, strokeWidth, bars };\n}\n\nexport default OHLCSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/OHLCSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\n\nclass BarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor, identity);\n\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\treturn <g>{svgHelper(this.props, moreProps, xAccessor, identity)}</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n};\n\nBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nBarSeries.defaultProps = StackedBarSeries.defaultProps;\n\nexport default BarSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/BarSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { identity, hexToRGBA, first, last, isDefined } from \"../utils\";\n\n\nclass StackedBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\t// var { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor, d3.layout.stack());\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\treturn <g>{svgHelper(this.props, moreProps, xAccessor, d3.layout.stack())}</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nStackedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n};\n\nStackedBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nStackedBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: true,\n\tfill: \"#4682B4\",\n\topacity: 0.5,\n\twidthRatio: 0.8,\n};\n\nexport function drawOnCanvasHelper(ctx, props, moreProps, xAccessor, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar bars = doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\n\tdrawOnCanvas2(props, ctx, bars);\n}\n\nfunction convertToArray(item) {\n\treturn Array.isArray(item) ? item : [item];\n}\n\nexport function svgHelper(props, moreProps, xAccessor, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\tvar bars = doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\treturn getBarsSVG2(props, bars);\n}\n\nfunction doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction) {\n\tvar { yAccessor, swapScales } = props;\n\n\tvar modifiedYAccessor = swapScales ? convertToArray(props.xAccessor) : convertToArray(yAccessor);\n\tvar modifiedXAccessor = swapScales ? yAccessor : xAccessor;\n\n\tvar modifiedXScale = swapScales ? yScale : xScale;\n\tvar modifiedYScale = swapScales ? xScale : yScale;\n\n\tvar postProcessor =  swapScales ? postRotateAction : defaultPostAction;\n\n\tvar bars = getBars(props, modifiedXAccessor, modifiedYAccessor, modifiedXScale, modifiedYScale, plotData, stackFn, postProcessor);\n\n\treturn bars;\n}\n\nexport const rotateXY = (array) => array.map(each => {\n\treturn {\n\t\t...each,\n\t\tx: each.y,\n\t\ty: each.x,\n\t\theight: each.width,\n\t\twidth: each.height\n\t};\n});\n\nexport function getBarsSVG2(props, bars) {\n\t/* eslint-disable react/prop-types */\n\tvar { opacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn bars.map((d, idx) => {\n\t\tif (d.width <= 1) {\n\t\t\treturn <line key={idx} className={d.className}\n\t\t\t\t\t\tstroke={d.fill}\n\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />;\n\t\t}\n\t\treturn <rect key={idx} className={d.className}\n\t\t\t\t\tstroke={d.stroke}\n\t\t\t\t\tfill={d.fill}\n\t\t\t\t\tx={d.x}\n\t\t\t\t\ty={d.y}\n\t\t\t\t\twidth={d.width}\n\t\t\t\t\tfillOpacity={opacity}\n\t\t\t\t\theight={d.height} />;\n\t});\n}\n\nexport function drawOnCanvas2(props, ctx, bars) {\n\tvar { stroke } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.entries(bars);\n\n\tnest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tif (values[0].width < 1) {\n\t\t\tctx.strokeStyle = key;\n\t\t} else {\n\t\t\tctx.strokeStyle = key;\n\t\t\tctx.fillStyle = hexToRGBA(key, props.opacity);\n\t\t}\n\t\tvalues.forEach(d => {\n\t\t\tif (d.width < 1) {\n\t\t\t\t/* <line key={idx} className={d.className}\n\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />*/\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\t/* <rect key={idx} className={d.className}\n\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\tx={d.x}\n\t\t\t\t\t\ty={d.y}\n\t\t\t\t\t\twidth={d.width}\n\t\t\t\t\t\theight={d.height} /> */\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\tctx.fill();\n\t\t\t\tif (stroke) ctx.stroke();\n\t\t\t}\n\n\t\t});\n\t});\n}\n\nexport function getBars(props, xAccessor, yAccessor, xScale, yScale, plotData, stack = identity, after = identity) {\n\tvar { baseAt, className, fill, stroke, widthRatio, spaceBetweenBar = 0 } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\t// console.log(barWidth)\n\n\tvar eachBarWidth = (barWidth - spaceBetweenBar * (yAccessor.length - 1)) / yAccessor.length;\n\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * bw);\n\n\tvar layers = yAccessor\n\t\t.map((eachYAccessor, i) => plotData\n\t\t\t.map(d => ({\n\t\t\t\tseries: xAccessor(d),\n\t\t\t\tdatum: d,\n\t\t\t\tx: i,\n\t\t\t\ty: eachYAccessor(d),\n\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\tfill: getFill(d, i),\n\t\t\t}))\n\t\t);\n\tvar data = stack(layers);\n\n\tvar bars = d3.merge(data)\n\t\t\t.filter(d => isDefined(d.y))\n\t\t\t.map(d => {\n\t\t\t\t// let baseValue = yScale.invert(getBase(xScale, yScale, d.datum));\n\t\t\t\tlet y = yScale(d.y + (d.y0 || 0));\n\t\t\t\t/* let h = isDefined(d.y0) && d.y0 !== 0 && !isNaN(d.y0)\n\t\t\t\t\t? yScale(d.y0) - y\n\t\t\t\t\t: getBase(xScale, yScale, d.datum) - yScale(d.y)*/\n\t\t\t\tvar h = getBase(xScale, yScale, d.datum) - yScale(d.y);\n\t\t\t\t// console.log(d.y, yScale.domain(), yScale.range())\n\t\t\t\t// let h = ;\n\t\t\t\t// if (d.y < 0) h = -h;\n\t\t\t\tif (h < 0) {\n\t\t\t\t\ty = y + h;\n\t\t\t\t\th = -h;\n\t\t\t\t}\n\t\t\t\t/* console.log(d.series, d.datum.date, d.x,\n\t\t\t\t\tgetBase(xScale, yScale, d.datum), `d.y=${d.y}, d.y0=${d.y0}, y=${y}, h=${h}`)*/\n\t\t\t\treturn {\n\t\t\t\t\tclassName: d.className,\n\t\t\t\t\tstroke: d.stroke,\n\t\t\t\t\tfill: d.fill,\n\t\t\t\t\t// series: d.series,\n\t\t\t\t\t// i: d.x,\n\t\t\t\t\tx: Math.round(xScale(d.series) - bw / 2),\n\t\t\t\t\ty: y,\n\t\t\t\t\tgroupOffset: Math.round(offset - (d.x > 0 ? (eachBarWidth + spaceBetweenBar) * d.x : 0)),\n\t\t\t\t\tgroupWidth: Math.round(eachBarWidth),\n\t\t\t\t\toffset: Math.round(offset),\n\t\t\t\t\theight: h,\n\t\t\t\t\twidth: barWidth,\n\t\t\t\t};\n\t\t\t});\n\t// console.log(bars)\n\n\treturn after(bars);\n}\n\nexport default StackedBarSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/StackedBarSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\nclass GroupedBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor,\n\t\tidentity, postProcessor);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\t// return <g>{svgHelper(this.props, moreProps, xAccessor, identity)}</g>;\n\n\t\treturn <g className=\"react-stockcharts-grouped-bar-series\">\n\t\t\t{svgHelper(this.props, moreProps, xAccessor, identity, postProcessor)}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nGroupedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nGroupedBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nGroupedBarSeries.defaultProps = {\n\t...StackedBarSeries.defaultProps,\n\twidthRatio: 0.8,\n\tspaceBetweenBar: 5,\n};\n\nfunction postProcessor(array) {\n\treturn array.map(each => {\n\t\treturn {\n\t\t\t...each,\n\t\t\tx: each.x + each.offset - each.groupOffset,\n\t\t\twidth: each.groupWidth,\n\t\t};\n\t});\n}\n\nexport default GroupedBarSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/GroupedBarSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass KagiSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvas(ctx, this.props, moreProps, xAccessor);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { className, stroke, fill, strokeWidth } = this.props;\n\n\t\tvar paths = helper(plotData, xAccessor).map((each, i) => {\n\t\t\tvar dataSeries = d3.svg.line()\n\t\t\t\t.x((item) => xScale(item[0]))\n\t\t\t\t.y((item) => yScale(item[1]))\n\t\t\t\t.interpolate(\"step-before\");\n\t\t\treturn (<path key={i} d={dataSeries(each.plot)} className={each.type}\n\t\t\t\tstroke={stroke[each.type]} fill={fill[each.type]} strokeWidth={strokeWidth} />);\n\t\t});\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{paths}\n\t\t\t</g>\n\t\t);\n\t}\n}\nKagiSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.object,\n\tfill: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nKagiSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nKagiSeries.defaultProps = {\n\tclassName: \"react-stockcharts-kagi\",\n\tstrokeWidth: 2,\n\tstroke: {\n\t\tyang: \"#6BA583\",\n\t\tyin: \"#E60000\"\n\t},\n\tfill: {\n\t\tyang: \"none\",\n\t\tyin: \"none\"\n\t},\n\tcurrentValueStroke: \"#000000\",\n};\n\nfunction drawOnCanvas(ctx, props, moreProps, xAccessor) {\n\tvar { stroke, strokeWidth, currentValueStroke } = props;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar paths = helper(plotData, xAccessor);\n\n\tvar begin = true;\n\n\tpaths.forEach((each) => {\n\t\tctx.strokeStyle = stroke[each.type];\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tvar prevX;\n\t\teach.plot.forEach(d => {\n\t\t\tvar [x, y] = [xScale(d[0]), yScale(d[1])];\n\t\t\tif (begin) {\n\t\t\t\tctx.moveTo(x, y);\n\t\t\t\tbegin = false;\n\t\t\t} else {\n\t\t\t\tif (isDefined(prevX)) {\n\t\t\t\t\tctx.lineTo(prevX, y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t\tprevX = x;\n\t\t\t// console.log(d);\n\n\t\t});\n\t\tctx.stroke();\n\t});\n\tvar lastPlot = paths[paths.length - 1].plot;\n\tvar last = lastPlot[lastPlot.length - 1];\n\tctx.beginPath();\n\t// ctx.strokeStyle = \"black\";\n\tctx.lineWidth = 1;\n\n\tvar [x, y1, y2] = [xScale(last[0]), yScale(last[2]), yScale(last[3])];\n\t// console.log(last, x, y);\n\tctx.moveTo(x, y1);\n\tctx.lineTo(x + 10, y1);\n\tctx.stroke();\n\n\tctx.beginPath();\n\tctx.strokeStyle = currentValueStroke;\n\tctx.moveTo(x - 10, y2);\n\tctx.lineTo(x, y2);\n\tctx.stroke();\n}\n\nfunction helper(plotData, xAccessor) {\n\tvar kagiLine = [];\n\tvar kagi = {};\n\tvar d = plotData[0];\n\tvar idx = xAccessor(d);\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\td = plotData[i];\n\n\t\tif (isNotDefined(d.close)) continue;\n\t\tif (isNotDefined(kagi.type)) kagi.type = d.startAs;\n\t\tif (isNotDefined(kagi.plot)) kagi.plot = [];\n\n\t\tidx = xAccessor(d);\n\t\tkagi.plot.push([idx, d.open]);\n\n\t\tif (isDefined(d.changeTo)) {\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t\tkagi.added = true;\n\t\t\tkagiLine.push(kagi);\n\n\t\t\tkagi = {\n\t\t\t\ttype: d.changeTo,\n\t\t\t\tplot: [],\n\t\t\t\tadded: false,\n\t\t\t};\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t}\n\t}\n\n\tif (!kagi.added) {\n\t\tkagi.plot.push([idx, d.close, d.current, d.reverseAt]);\n\t\tkagiLine.push(kagi);\n\t}\n\n\t// console.log(d.reverseAt);\n\n\treturn kagiLine;\n}\n\nexport default KagiSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/KagiSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass PointAndFigureSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar columns = getColumns(xScale, xAccessor, yScale, plotData);\n\n\t\tdrawOnCanvas(ctx, this.props, columns);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { stroke, fill, strokeWidth, className } = this.props;\n\n\t\tvar columns = getColumns(xScale, xAccessor, yScale, plotData);\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{columns.map((col, idx) => (\n\t\t\t\t\t<g key={idx} className={col.className} transform={`translate(${ col.offset[0] }, ${ col.offset[1] })`}>\n\t\t\t\t\t\t{col.boxes.map((box, i) => {\n\t\t\t\t\t\t\tif (col.direction > 0) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<g key={`${ idx }-${ i }`}>\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.open} x2={box.columnWidth} y2={box.close} />\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.close} x2={box.columnWidth} y2={box.open} />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ellipse key={`${ idx }-${ i }`}\n\t\t\t\t\t\t\t\t\tclassName=\"down\" strokeWidth={strokeWidth} stroke={stroke.down} fill={fill.down}\n\t\t\t\t\t\t\t\t\tcx={box.columnWidth / 2} cy={(box.open + box.close) / 2}\n\t\t\t\t\t\t\t\t\trx={box.columnWidth / 2} ry={box.boxHeight / 2} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</g>\n\t\t\t\t))}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nPointAndFigureSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstroke: PropTypes.object.isRequired,\n\tfill: PropTypes.object.isRequired,\n};\n\nPointAndFigureSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nPointAndFigureSeries.defaultProps = {\n\tclassName: \"react-stockcharts-point-and-figure\",\n\tstrokeWidth: 1,\n\tstroke: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#FF0000\"\n\t},\n\tfill: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n};\n\nfunction drawOnCanvas(ctx, props, columns) {\n\tvar { stroke, fill, strokeWidth } = props;\n\n\tctx.lineWidth = strokeWidth;\n\n\tcolumns.forEach(col => {\n\t\tlet [offsetX, offsetY] = col.offset;\n\t\tcol.boxes.forEach(box => {\n\t\t\tif (col.direction > 0) {\n\t\t\t\tctx.fillStyle = fill.up;\n\t\t\t\tctx.strokeStyle = stroke.up;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.open);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.close);\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.close);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.open);\n\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle = fill.down;\n\t\t\t\tctx.strokeStyle = stroke.down;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tlet [x, y] = [offsetX + box.columnWidth / 2, offsetY + box.open + box.boxHeight / 2];\n\t\t\t\tlet [rx, ry] = [box.columnWidth / 2, box.boxHeight / 2];\n\n\t\t\t\tctx.ellipse(x, y, rx, ry, 0, 0, 2 * Math.PI);\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t});\n\t});\n\n\tctx.stroke();\n}\n\nfunction getColumns(xScale, xAccessor, yScale, plotData) {\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar columnWidth = (width / (plotData.length - 1));\n\n\tvar anyBox, j = 0;\n\twhile (isNotDefined(anyBox)) {\n\t\tif (isDefined(plotData[j].close)) {\n\t\t\tanyBox = plotData[j].boxes[0];\n\t\t}\n\t\tj++;\n\t}\n\n\tvar boxHeight = Math.abs(yScale(anyBox.open) - yScale(anyBox.close));\n\n\tvar columns = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar boxes = d.boxes.map((box) => ({\n\t\t\t\t\tcolumnWidth: columnWidth,\n\t\t\t\t\tboxHeight: boxHeight,\n\t\t\t\t\topen: yScale(box.open),\n\t\t\t\t\tclose: yScale(box.close),\n\t\t\t\t}));\n\n\t\t\t\tvar xOffset = (xScale(xAccessor(d)) - (columnWidth / 2));\n\t\t\t\treturn {\n\t\t\t\t\tboxes: boxes,\n\t\t\t\t\tdirection: d.direction,\n\t\t\t\t\toffset: [xOffset, 0],\n\t\t\t\t};\n\t\t\t});\n\treturn columns;\n}\n\nexport default PointAndFigureSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/PointAndFigureSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\n\nclass RenkoSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { yAccessor } = this.props;\n\n\t\tvar candles = getRenko(this.props, plotData, xScale, xAccessor, yScale, yAccessor);\n\n\t\tdrawOnCanvas(ctx, candles);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { yAccessor } = this.props;\n\n\t\tvar candles = getRenko(this.props, plotData, xScale, xAccessor, yScale, yAccessor)\n\t\t\t.map((each, idx) => (<rect key={idx} className={each.className}\n\t\t\t\t\t\t\t\tfill={each.fill}\n\t\t\t\t\t\t\t\tx={each.x}\n\t\t\t\t\t\t\t\ty={each.y}\n\t\t\t\t\t\t\t\twidth={each.width}\n\t\t\t\t\t\t\t\theight={each.height} />));\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<g className=\"candle\">\n\t\t\t\t\t{candles}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nRenkoSeries.propTypes = {\n\tclassNames: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tstroke: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tfill: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tyAccessor: PropTypes.func.isRequired,\n};\nRenkoSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nRenkoSeries.defaultProps = {\n\tclassNames: {\n\t\tup: \"up\",\n\t\tdown: \"down\"\n\t},\n\tstroke: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n\tfill: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#E60000\",\n\t\tpartial: \"#4682B4\",\n\t},\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n};\n\nfunction drawOnCanvas(ctx, renko) {\n\trenko.forEach(d => {\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = d.stroke;\n\t\tctx.fillStyle = d.fill;\n\n\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\tctx.closePath();\n\t\tctx.fill();\n\t});\n}\n\nfunction getRenko(props, plotData, xScale, xAccessor, yScale, yAccessor) {\n\tvar { classNames, fill } = props;\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar candleWidth = (width / (plotData.length - 1));\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = xScale(xAccessor(d)) - 0.5 * candleWidth,\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down,\n\t\t\t\t\tsvgfill = (ohlc.open <= ohlc.close) ? fill.up : fill.down;\n\n\t\t\t\tif (!d.fullyFormed) {\n\t\t\t\t\tsvgfill = fill.partial;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: svgfill,\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default RenkoSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/RenkoSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport BarSeries from \"./BarSeries\";\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass MACDSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForMACD = this.yAccessorForMACD.bind(this);\n\t\tthis.yAccessorForSignal = this.yAccessorForSignal.bind(this);\n\t\tthis.yAccessorForDivergence = this.yAccessorForDivergence.bind(this);\n\t\tthis.yAccessorForDivergenceBase = this.yAccessorForDivergenceBase.bind(this);\n\t}\n\tyAccessorForMACD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).macd;\n\t}\n\tyAccessorForSignal(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).signal;\n\t}\n\tyAccessorForDivergence(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).divergence;\n\t}\n\tyAccessorForDivergenceBase(xScale, yScale/* , d */) {\n\t\treturn yScale(0);\n\t}\n\trender() {\n\t\tvar { className, type, opacity, divergenceStroke, calculator } = this.props;\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries\n\t\t\t\t\tyAccessor={this.yAccessorForMACD}\n\t\t\t\t\tstroke={stroke.macd} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<LineSeries\n\t\t\t\t\tyAccessor={this.yAccessorForSignal}\n\t\t\t\t\tstroke={stroke.signal} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<BarSeries\n\t\t\t\t\tbaseAt={this.yAccessorForDivergenceBase}\n\t\t\t\t\tclassName=\"macd-divergence\"\n\t\t\t\t\tstroke={divergenceStroke} fill={fill.divergence} opacity={opacity}\n\t\t\t\t\tyAccessor={this.yAccessorForDivergence} />\n\t\t\t\t{getHorizontalLine(this.props)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { yAccessor, zeroLineStroke, zeroLineOpacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={zeroLineStroke} opacity={zeroLineOpacity}\n\t\tyAccessor={yAccessor}\n\t\tyValue={0} />;\n}\n\nMACDSeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nMACDSeries.defaultProps = {\n\tclassName: \"react-stockcharts-macd-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 0.6,\n\tdivergenceStroke: false,\n};\n\nexport default MACDSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/MACDSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nclass StraightLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { stroke, opacity, yValue } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\t\tctx.moveTo(xScale(first), yScale(yValue));\n\t\tctx.lineTo(xScale(last), yScale(yValue));\n\t\tctx.stroke();\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { stroke, className, opacity, yValue } = this.props;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\treturn (\n\t\t\t<line className={className}\n\t\t\t\tstroke={stroke} opacity={opacity}\n\t\t\t\tx1={xScale(first)} y1={yScale(yValue)}\n\t\t\t\tx2={xScale(last)} y2={yScale(yValue)} />\n\t\t);\n\t}\n}\n\nStraightLine.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number.isRequired,\n\tyValue: PropTypes.number.isRequired,\n};\nStraightLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nStraightLine.defaultProps = {\n\tclassName: \"line \",\n\tstroke: \"#000000\",\n\topacity: 0.5,\n};\n\nexport default StraightLine;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/StraightLine.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport AreaOnlySeries from \"./AreaOnlySeries\";\n\nclass BollingerSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForTop = this.yAccessorForTop.bind(this);\n\t\tthis.yAccessorForMiddle = this.yAccessorForMiddle.bind(this);\n\t\tthis.yAccessorForBottom = this.yAccessorForBottom.bind(this);\n\t\tthis.yAccessorForScalledBottom = this.yAccessorForScalledBottom.bind(this);\n\t}\n\tyAccessorForTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).top;\n\t}\n\tyAccessorForMiddle(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).middle;\n\t}\n\tyAccessorForBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).bottom;\n\t}\n\tyAccessorForScalledBottom(scale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn scale(yAccessor(d) && yAccessor(d).bottom);\n\t}\n\trender() {\n\t\tvar { calculator, areaClassName, className, opacity } = this.props;\n\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForTop}\n\t\t\t\t\tstroke={stroke.top} fill=\"none\" />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForMiddle}\n\t\t\t\t\tstroke={stroke.middle} fill=\"none\" />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForBottom}\n\t\t\t\t\tstroke={stroke.bottom} fill=\"none\" />\n\t\t\t\t<AreaOnlySeries className={areaClassName}\n\t\t\t\t\tyAccessor={this.yAccessorForTop}\n\t\t\t\t\tbase={this.yAccessorForScalledBottom}\n\t\t\t\t\tstroke=\"none\" fill={fill}\n\t\t\t\t\topacity={opacity} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nBollingerSeries.propTypes = {\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tclassName: PropTypes.string,\n\tareaClassName: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.string,\n};\n\nBollingerSeries.defaultProps = {\n\tclassName: \"react-stockcharts-bollinger-band-series\",\n\tareaClassName: \"react-stockcharts-bollinger-band-series-area\",\n\topacity: 0.2\n};\n\nexport default BollingerSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/BollingerSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass RSISeries extends Component {\n\trender() {\n\t\tvar { className, calculator, stroke, type } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar overSold = calculator.overSold();\n\t\tvar middle = calculator.middle();\n\t\tvar overBought = calculator.overBought();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries\n\t\t\t\t\tclassName={className}\n\t\t\t\t\tyAccessor={yAccessor}\n\t\t\t\t\tstroke={stroke.line} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{getHorizontalLine(this.props, overSold, stroke.top)}\n\t\t\t\t{getHorizontalLine(this.props, middle, stroke.middle)}\n\t\t\t\t{getHorizontalLine(this.props, overBought, stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props, yValue, stroke) {\n\t/* eslint-disable react/prop-types */\n\tlet { yAccessor } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3}\n\t\tyAccessor={yAccessor}\n\t\tyValue={yValue} />;\n}\n\nRSISeries.propTypes = {\n\tclassName: PropTypes.string,\n\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nRSISeries.defaultProps = {\n\tclassName: \"react-stockcharts-rsi-series\",\n\tstroke: {\n\t\tline: \"#000000\",\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default RSISeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/RSISeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass StochasticSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForD = this.yAccessorForD.bind(this);\n\t\tthis.yAccessorForK = this.yAccessorForK.bind(this);\n\t}\n\tyAccessorForD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).D;\n\t}\n\tyAccessorForK(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).K;\n\t}\n\trender() {\n\t\tvar { className, calculator, stroke, type } = this.props;\n\t\tvar seriesStroke = calculator.stroke();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForD}\n\t\t\t\t\tstroke={seriesStroke.D} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForK}\n\t\t\t\t\tstroke={seriesStroke.K} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{getHorizontalLine(this.props, calculator.overSold(), stroke.top)}\n\t\t\t\t{getHorizontalLine(this.props, calculator.middle(), stroke.middle)}\n\t\t\t\t{getHorizontalLine(this.props, calculator.overBought(), stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props, yValue, stroke) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { yAccessor } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3}\n\t\tyAccessor={yAccessor}\n\t\tyValue={yValue} />;\n}\n\nStochasticSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nStochasticSeries.defaultProps = {\n\tclassName: \"react-stockcharts-stochastic-series\",\n\tstroke: {\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default StochasticSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/StochasticSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport OverlayBarSeries from \"./OverlayBarSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass ElderRaySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorTop = this.yAccessorTop.bind(this);\n\t\tthis.yAccessorBullTop = this.yAccessorBullTop.bind(this);\n\t\tthis.yAccessorBearTop = this.yAccessorBearTop.bind(this);\n\t\tthis.yAccessorBullBottom = this.yAccessorBullBottom.bind(this);\n\t\tthis.yAccessorBearBottom = this.yAccessorBearBottom.bind(this);\n\t\tthis.yAccessorForBarBase = this.yAccessorForBarBase.bind(this);\n\t}\n\tyAccessorTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n\t}\n\tyAccessorBullTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n\t}\n\tyAccessorBearTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n\t}\n\tyAccessorBullBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n\t}\n\tyAccessorBearBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0\n\t\t\t\t|| yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n\t\t\t? Math.min(0, yAccessor(d).bullPower) : undefined);\n\t}\n\tyAccessorForBarBase(xScale, yScale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n\t\treturn yScale(y);\n\t}\n\tfillForEachBar(d, yAccessorNumber) {\n\t\treturn yAccessorNumber % 2 === 0 ? \"#6BA583\" : \"#FF0000\";\n\t}\n\trender() {\n\t\tvar { className, xScale, yScale, plotData, opacity } = this.props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<OverlayBarSeries\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\tbaseAt={this.yAccessorForBarBase}\n\t\t\t\t\tclassName=\"elderray-bar\"\n\t\t\t\t\tstroke={false} fill={this.fillForEachBar}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tyAccessor={[this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]} />\n\t\t\t\t<StraightLine yValue={0} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nElderRaySeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nElderRaySeries.defaultProps = {\n\tclassName: \"react-stockcharts-elderray-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 1,\n\tdivergenceStroke: false,\n};\n\nexport default ElderRaySeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/ElderRaySeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { drawOnCanvas2, getBarsSVG2 } from \"./StackedBarSeries\";\nimport { isDefined, isNotDefined, first, last } from \"../utils\";\n\nclass OverlayBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar bars = getBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tdrawOnCanvas2(this.props, ctx, bars);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar bars = getBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\t\treturn <g className=\"react-stockcharts-bar-series\">\n\t\t\t{getBarsSVG2(this.props, bars)}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nOverlayBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nOverlayBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nOverlayBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: false,\n\tfill: \"#4682B4\",\n\topacity: 1,\n\twidthRatio: 0.5,\n};\n\nfunction getBars(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { baseAt, className, fill, stroke, widthRatio } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\n\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * barWidth);\n\n\t// console.log(xScale.domain(), yScale.domain());\n\n\tvar bars = plotData\n\t\t\t.map(d => {\n\t\t\t\tvar innerBars = yAccessor.map((eachYAccessor, i) => {\n\t\t\t\t\tvar yValue = eachYAccessor(d);\n\t\t\t\t\tif (isNotDefined(yValue)) return undefined;\n\n\t\t\t\t\tvar xValue = xAccessor(d);\n\t\t\t\t\tvar x = Math.round(xScale(xValue)) - offset;\n\t\t\t\t\tvar y = yScale(yValue);\n\t\t\t\t\t// console.log(yValue, y, xValue, x)\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidth: barWidth,\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\t\t\tfill: getFill(d, i),\n\t\t\t\t\t\ti,\n\t\t\t\t\t};\n\t\t\t\t}).filter(yValue => isDefined(yValue));\n\n\t\t\t\tvar b = getBase(xScale, yScale, d);\n\t\t\t\tvar h;\n\t\t\t\tfor (var i = innerBars.length - 1; i >= 0; i--) {\n\t\t\t\t\th = b - innerBars[i].y;\n\t\t\t\t\tif (h < 0) {\n\t\t\t\t\t\tinnerBars[i].y = b;\n\t\t\t\t\t\th = -1 * h;\n\t\t\t\t\t}\n\t\t\t\t\tinnerBars[i].height = h;\n\t\t\t\t\tb = innerBars[i].y;\n\t\t\t\t}\n\t\t\t\treturn innerBars;\n\t\t\t});\n\n\treturn d3.merge(bars);\n}\n\nexport default OverlayBarSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/OverlayBarSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { head, last, hexToRGBA, accumulatingWindow, identity } from \"../utils\";\n\nclass VolumeProfileSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor, width } = this.context;\n\t\tvar { rects, sessionBg } = helper(this.props, moreProps, xAccessor, width);\n\n\t\tdrawOnCanvas(ctx, this.props, rects, sessionBg);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, opacity } = this.props;\n\t\tvar { showSessionBackground, sessionBackGround, sessionBackGroundOpacity } = this.props;\n\n\t\tvar { xAccessor, width } = this.context;\n\t\tvar { rects, sessionBg } = helper(this.props, moreProps, xAccessor, width);\n\n\t\tvar sessionBgSvg = showSessionBackground\n\t\t\t? sessionBg.map((d, idx) => <rect key={idx} {...d} opacity={sessionBackGroundOpacity} fill={sessionBackGround} />)\n\t\t\t: null;\n\n\t\treturn <g className={className}>\n\t\t\t{sessionBgSvg}\n\t\t\t{rects.map((d, i) => <g key={i}>\n\t\t\t\t\t<rect x={d.x} y={d.y}\n\t\t\t\t\t\twidth={d.w1} height={d.height}\n\t\t\t\t\t\tfill={d.fill1} stroke={d.stroke1} fillOpacity={opacity} />\n\t\t\t\t\t<rect x={d.x + d.w1} y={d.y}\n\t\t\t\t\t\twidth={d.w2} height={d.height}\n\t\t\t\t\t\tfill={d.fill2} stroke={d.stroke2} fillOpacity={opacity} />\n\t\t\t\t</g>)}\n\t\t</g>;\n\t}\n}\n\nVolumeProfileSeries.propTypes = {\n\tclassName: PropTypes.string,\n\topacity: PropTypes.number,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tshowSessionBackground: PropTypes.bool,\n\tsessionBackGround: PropTypes.string,\n\tsessionBackGroundOpacity: PropTypes.number,\n};\n\nVolumeProfileSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nVolumeProfileSeries.defaultProps = {\n\topacity: 0.5,\n\tclassName: \"line \",\n\tbins: 20,\n\tmaxProfileWidthPercent: 50,\n\tsource: d => d.close,\n\tvolume: d => d.volume,\n\tabsoluteChange: d => d.absoluteChange,\n\tbySession: false,\n\t/* eslint-disable no-unused-vars */\n\tsessionStart: ({ d, i, plotData }) => d.idx.startOfMonth,\n\t/* eslint-enable no-unused-vars */\n\torient: \"left\",\n\tfill: ({ type }) => type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// fill: ({ type }) => { var c = type === \"up\" ? \"#6BA583\" : \"#FF0000\"; console.log(type, c); return c },\n\t// stroke: ({ type }) =>  type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: \"none\",\n\tstroke: \"#FFFFFF\",\n\tshowSessionBackground: false,\n\tsessionBackGround: \"#4682B4\",\n\tsessionBackGroundOpacity: 0.3,\n\tpartialStartOK: false,\n\tpartialEndOK: true,\n};\n\nfunction helper(props, moreProps, xAccessor, width) {\n\tvar { xScale: realXScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar { sessionStart, bySession, partialStartOK, partialEndOK } = props;\n\tvar { bins, maxProfileWidthPercent, source, volume, absoluteChange, orient, fill, stroke } = props;\n\n\tvar sessionBuilder = accumulatingWindow()\n\t\t\t.discardTillStart(!partialStartOK)\n\t\t\t.discardTillEnd(!partialEndOK)\n\t\t\t.accumulateTill((d, i) => {\n\t\t\t\treturn sessionStart({ d, i, plotData });\n\t\t\t})\n\t\t\t.accumulator(identity);\n\n\tvar dx = plotData.length > 1 ? realXScale(xAccessor(plotData[1])) - realXScale(xAccessor(head(plotData))) : 0;\n\n\tvar sessions = bySession ? sessionBuilder(plotData) : [plotData];\n\n\tvar allRects = sessions.map(session => {\n\n\t\tvar begin = bySession ? realXScale(xAccessor(head(session))) : 0;\n\t\tvar finish = bySession ? realXScale(xAccessor(last(session))) : width;\n\t\tvar sessionWidth = finish - begin + dx;\n\n\t\tvar histogram = d3.layout.histogram()\n\t\t\t\t.value(source)\n\t\t\t\t.bins(bins);\n\n\t\tvar rollup = d3.nest()\n\t\t\t\t.key(d => d.direction)\n\t\t\t\t.sortKeys(orient === \"right\" ? d3.descending : d3.ascending)\n\t\t\t\t.rollup(leaves => d3.sum(leaves, d => d.volume));\n\n\t\tvar values = histogram(session);\n\t\tvar volumeInBins = values\n\t\t\t\t.map(arr => arr.map(d => absoluteChange(d) > 0 ? { direction: \"up\", volume: volume(d) } : { direction: \"down\", volume: volume(d) }))\n\t\t\t\t.map(arr => rollup.entries(arr));\n\n\t\tvar volumeValues = volumeInBins\n\t\t\t\t.map(each => d3.sum(each.map(d => d.values)));\n\n\t\tvar base = xScale => head(xScale.range());\n\n\t\tvar [start, end] = orient === \"right\"\n\t\t\t\t? [begin, begin + sessionWidth * maxProfileWidthPercent / 100]\n\t\t\t\t: [finish, finish - sessionWidth * (100 - maxProfileWidthPercent) / 100];\n\n\t\tvar xScale = d3.scale.linear()\n\t\t\t\t.domain([0, d3.max(volumeValues)])\n\t\t\t\t.range([start, end]);\n\n\t\tvar totalVolumes = volumeInBins.map(volumes => {\n\n\t\t\tvar totalVolume = d3.sum(volumes, d => d.values);\n\t\t\tvar totalVolumeX = xScale(totalVolume);\n\t\t\tvar width = base(xScale) - totalVolumeX;\n\t\t\tvar x = width < 0 ? totalVolumeX + width : totalVolumeX;\n\n\t\t\tvar ws = volumes.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: d.key,\n\t\t\t\t\twidth: d.values * Math.abs(width) / totalVolume,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn { x, ws, totalVolumeX };\n\t\t});\n\n\t\tvar rects = d3.zip(values, totalVolumes)\n\t\t\t\t.map(([d, { x, ws }]) => {\n\t\t\t\t\tvar w1 = ws[0] || { type: \"up\", width: 0 };\n\t\t\t\t\tvar w2 = ws[1] || { type: \"down\", width: 0 };\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ty: yScale(d.x + d.dx),\n\t\t\t\t\t\theight: yScale(d.x - d.dx) - yScale(d.x),\n\t\t\t\t\t\tx,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\tw1: w1.width,\n\t\t\t\t\t\tw2: w2.width,\n\t\t\t\t\t\tstroke1: d3.functor(stroke)(w1),\n\t\t\t\t\t\tstroke2: d3.functor(stroke)(w2),\n\t\t\t\t\t\tfill1: d3.functor(fill)(w1),\n\t\t\t\t\t\tfill2: d3.functor(fill)(w2),\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\tvar sessionBg = {\n\t\t\tx: begin,\n\t\t\ty: last(rects).y,\n\t\t\theight: head(rects).y - last(rects).y + head(rects).height,\n\t\t\twidth: sessionWidth,\n\t\t};\n\n\t\treturn { rects, sessionBg };\n\t});\n\n\treturn {\n\t\trects: d3.merge(allRects.map(d => d.rects)),\n\t\tsessionBg: allRects.map(d => d.sessionBg),\n\t};\n}\n\n\nfunction drawOnCanvas(ctx, props, rects, sessionBg) {\n\tvar { opacity, sessionBackGround, sessionBackGroundOpacity, showSessionBackground } = props;\n\n\t// var { rects, sessionBg } = helper(props, xScale, yScale, plotData);\n\n\tif (showSessionBackground) {\n\t\tctx.fillStyle = hexToRGBA(sessionBackGround, sessionBackGroundOpacity);\n\n\t\tsessionBg.forEach(each => {\n\t\t\tvar { x, y, height, width } = each;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, width, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t});\n\t}\n\n\trects.forEach(each => {\n\t\tvar { x, y, height, w1, w2, stroke1, stroke2, fill1, fill2 } = each;\n\n\n\t\tif (w1 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill1, opacity);\n\t\t\tif (stroke1 !== \"none\") ctx.strokeStyle = stroke1;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, w1, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke1 !== \"none\") ctx.stroke();\n\t\t}\n\n\t\tif (w2 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill2, opacity);\n\t\t\tif (stroke2 !== \"none\") ctx.strokeStyle = stroke2;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x + w1, y, w2, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke2 !== \"none\") ctx.stroke();\n\t\t}\n\n\t});\n}\n\nexport default VolumeProfileSeries;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/VolumeProfileSeries.jsx\n **/","\nimport discontinuousTimeScaleProvider, { discontinuousTimeScaleProviderBuilder } from \"./discontinuousTimeScaleProvider\";\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\n\nexport {\n\tdiscontinuousTimeScaleProviderBuilder,\n\tdiscontinuousTimeScaleProvider,\n\tfinanceDiscontinuousScale\n};\n\nexport function defaultScaleProvider(xScale) {\n\treturn (data, xAccessor) => ({ data, xScale, xAccessor, displayXAccessor: xAccessor });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/index.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\nimport { head, last, slidingWindow, zipper, identity, isNotDefined } from \"../utils\";\n\nconst yearFormat = \"%Y\";\nconst quarterFormat = \"%b %Y\";\nconst monthFormat = \"%b\";\nconst weekFormat = \"%d %b\";\nconst dayFormat = \"%a %d\";\nconst hourFormat = \"%_I %p\";\nconst minuteFormat = \"%I:%M %p\";\nconst secondFormat = \"%I:%M:%S %p\";\n// const milliSecondFormat = d3.time.format(\"%L\");\n\nvar levelDefinition = [\n\n\t/* eslint-disable no-unused-vars */\n\t/* 17 */(d, date, i) => d.startOfYear && date.getFullYear() % 2 === 0 && yearFormat,\n\t/* 16 */(d, date, i) => d.startOfYear && yearFormat,\n\t/* 15 */(d, date, i) => d.startOfQuarter && quarterFormat,\n\t/* 14 */(d, date, i) => d.startOfMonth && monthFormat,\n\t/* 13 */(d, date, i) => d.startOfWeek && weekFormat,\n\t/* 12 */(d, date, i) => d.startOfDay && i % 2 === 0 && dayFormat,\n\t/* 11 */(d, date, i) => d.startOfDay && dayFormat,\n\t/* 10 */(d, date, i) => d.startOfHalfDay && hourFormat, // 12h\n\t/*  9 */(d, date, i) => d.startOfQuarterDay && hourFormat, // 6h\n\t/*  8 */(d, date, i) => d.startOfEighthOfADay && hourFormat, // 3h\n\t/*  7 */(d, date, i) => d.startOfHour && date.getHours() % 2 === 0 && hourFormat, // 2h -- REMOVE THIS\n\t/*  6 */(d, date, i) => d.startOfHour && hourFormat, // 1h\n\t/*  5 */(d, date, i) => d.startOf30Minutes && minuteFormat,\n\t/*  4 */(d, date, i) => d.startOf15Minutes && minuteFormat,\n\t/*  3 */(d, date, i) => d.startOf5Minutes && minuteFormat,\n\t/*  2 */(d, date, i) => d.startOfMinute && minuteFormat,\n\t/*  1 */(d, date, i) => d.startOf30Seconds && secondFormat,\n\t/*  0 */(d, date, i) => secondFormat,\n\t/* eslint-enable no-unused-vars */\n\n];\n\nfunction evaluateLevel(d, date, i) {\n\treturn levelDefinition\n\t\t.map((l, idx) => ({ level: levelDefinition.length - idx - 1, format: l(d, date, i) }))\n\t\t.find(l => !!l.format);\n}\n\nvar discontinuousIndexCalculator = slidingWindow()\n\t.windowSize(2)\n\t.undefinedValue((d, idx, di) => {\n\t\tvar i = di;\n\t\tvar row = {\n\t\t\tdate: d.getTime(),\n\t\t\tstartOf30Seconds: false,\n\t\t\tstartOfMinute: false,\n\t\t\tstartOf5Minutes: false,\n\t\t\tstartOf15Minutes: false,\n\t\t\tstartOf30Minutes: false,\n\t\t\tstartOfHour: false,\n\t\t\tstartOfEighthOfADay: false,\n\t\t\tstartOfQuarterDay: false,\n\t\t\tstartOfHalfDay: false,\n\t\t\tstartOfDay: true,\n\t\t\tstartOfWeek: false,\n\t\t\tstartOfMonth: false,\n\t\t\tstartOfQuarter: false,\n\t\t\tstartOfYear: false,\n\t\t};\n\t\tvar level = evaluateLevel(row, d, i);\n\t\treturn { ...row, index: i, ...level };\n\t});\n\nvar discontinuousIndexCalculatorLocalTime = discontinuousIndexCalculator\n\t.accumulator(([prevDate, nowDate], i, idx, di) => {\n\t\tvar startOf30Seconds = nowDate.getSeconds() % 30 === 0;\n\n\t\tvar startOfMinute = nowDate.getMinutes() !== prevDate.getMinutes();\n\t\tvar startOf5Minutes = startOfMinute && nowDate.getMinutes() % 5 <= prevDate.getMinutes() % 5;\n\t\tvar startOf15Minutes = startOfMinute && nowDate.getMinutes() % 15 <= prevDate.getMinutes() % 15;\n\t\tvar startOf30Minutes = startOfMinute && nowDate.getMinutes() % 30 <= prevDate.getMinutes() % 30;\n\n\t\tvar startOfHour = nowDate.getHours() !== prevDate.getHours();\n\n\t\tvar startOfEighthOfADay = startOfHour && nowDate.getHours() % 3 === 0;\n\t\tvar startOfQuarterDay = startOfHour && nowDate.getHours() % 6 === 0;\n\t\tvar startOfHalfDay = startOfHour && nowDate.getHours() % 12 === 0;\n\n\t\tvar startOfDay = nowDate.getDay() !== prevDate.getDay();\n\t\t// According to ISO calendar\n\t\t// Sunday = 0, Monday = 1, ... Saturday = 6\n\t\t// day of week of today < day of week of yesterday then today is start of week\n\t\tvar startOfWeek = nowDate.getDay() < prevDate.getDay();\n\t\t// month of today != month of yesterday then today is start of month\n\t\tvar startOfMonth = nowDate.getMonth() !== prevDate.getMonth();\n\t\t// if start of month and month % 3 === 0 then it is start of quarter\n\t\tvar startOfQuarter = startOfMonth && (nowDate.getMonth() % 3 <= prevDate.getMonth() % 3);\n\t\t// year of today != year of yesterday then today is start of year\n\t\tvar startOfYear = nowDate.getYear() !== prevDate.getYear();\n\n\t\tvar row = {\n\t\t\tdate: nowDate.getTime(),\n\t\t\tstartOf30Seconds,\n\t\t\tstartOfMinute,\n\t\t\tstartOf5Minutes,\n\t\t\tstartOf15Minutes,\n\t\t\tstartOf30Minutes,\n\t\t\tstartOfHour,\n\t\t\tstartOfEighthOfADay,\n\t\t\tstartOfQuarterDay,\n\t\t\tstartOfHalfDay,\n\t\t\tstartOfDay,\n\t\t\tstartOfWeek,\n\t\t\tstartOfMonth,\n\t\t\tstartOfQuarter,\n\t\t\tstartOfYear,\n\t\t};\n\t\tvar level = evaluateLevel(row, nowDate, i);\n\t\treturn { ...row, index: i + di, ...level };\n\t});\n\nfunction doStuff(realDateAccessor, inputDateAccessor, initialIndex) {\n\treturn function(data) {\n\t\tvar dateAccessor = realDateAccessor(inputDateAccessor);\n\t\tvar calculate = discontinuousIndexCalculatorLocalTime.source(dateAccessor).misc(initialIndex);\n\t\tvar index = calculate(data);\n\n\t\tvar map = d3.map();\n\t\tfor (var i = 0; i < data.length - 1; i++) {\n\n\t\t\tvar nextDate = dateAccessor(data[i + 1]);\n\t\t\tvar nowDate = dateAccessor(data[i]);\n\t\t\tvar diff = nextDate - nowDate;\n\n\t\t\tif (map.has(diff)) {\n\t\t\t\tvar count = parseInt(map.get(diff), 10) + 1;\n\t\t\t\tmap.set(diff, count);\n\t\t\t} else {\n\t\t\t\tmap.set(diff, 1);\n\t\t\t}\n\t\t}\n\n\t\tvar entries = map.entries().sort((a, b) => a.value < b.value);\n\n\t\t// For Renko/p&f\n\t\tvar interval = entries[0].value === 1\n\t\t\t? Math.round((dateAccessor(last(data)) - dateAccessor(head(data))) / data.length)\n\t\t\t: parseInt(entries[0].key, 10);\n\n\t\treturn { index, interval };\n\t};\n}\n\nexport function discontinuousTimeScaleProviderBuilder() {\n\tvar initialIndex = 0, realDateAccessor = identity;\n\tvar inputDateAccessor = d => d.date,\n\t\tindexAccessor = d => d.idx,\n\t\tindexMutator = (d, idx) => ({ ...d, idx }),\n\t\twithIndex, withInterval;\n\n\tvar discontinuousTimeScaleProvider = function(data) {\n\n\t\tvar index = withIndex;\n\t\tvar interval = withInterval;\n\t\tif (isNotDefined(index)) {\n\t\t\tconst response = doStuff(realDateAccessor, inputDateAccessor, initialIndex)(data);\n\t\t\tindex = response.index;\n\t\t\tinterval = response.interval;\n\t\t}\n\t\t// console.log(interval, entries[0].key);\n\n\t\tvar inputIndex = index.map(each => {\n\t\t\tvar { format } = each;\n\t\t\treturn {\n\t\t\t\t...each,\n\t\t\t\tdate: new Date(each.date),\n\t\t\t\tformat: d3.time.format(format),\n\t\t\t};\n\t\t});\n\n\t\tvar xScale = financeDiscontinuousScale(inputIndex, interval);\n\n\t\tvar mergedData = zipper()\n\t\t\t.combine(indexMutator);\n\n\t\tvar finalData = mergedData(data, inputIndex);\n\n\t\treturn {\n\t\t\tdata: finalData,\n\t\t\txScale,\n\t\t\txAccessor: d => d && indexAccessor(d).index,\n\t\t\tdisplayXAccessor: realDateAccessor(inputDateAccessor),\n\t\t};\n\t};\n\n\tdiscontinuousTimeScaleProvider.initialIndex = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn initialIndex;\n\t\t}\n\t\tinitialIndex = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.inputDateAccessor = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn inputDateAccessor;\n\t\t}\n\t\tinputDateAccessor = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexAccessor = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn indexAccessor;\n\t\t}\n\t\tindexAccessor = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexMutator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn indexMutator;\n\t\t}\n\t\tindexMutator = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.withIndex = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn withIndex;\n\t\t}\n\t\twithIndex = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.withInterval = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn withInterval;\n\t\t}\n\t\twithInterval = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.utc = function() {\n\t\trealDateAccessor = dateAccessor => d => {\n\t\t\tvar date = dateAccessor(d);\n\t\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\t\treturn new Date(date.getTime() + offsetInMillis);\n\t\t};\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexCalculator = function() {\n\t\treturn doStuff(realDateAccessor, inputDateAccessor, initialIndex);\n\t};\n\n\treturn discontinuousTimeScaleProvider;\n}\n\n\n\n/* discontinuousTimeScaleProvider.utc = function(data,\n\t\tdateAccessor,\n\t\tindexAccessor,\n\t\tindexMutator) {\n\tvar utcDateAccessor = d => {\n\t\tvar date = dateAccessor(d);\n\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\treturn new Date(date.getTime() + offsetInMillis);\n\t};\n\treturn discontinuousTimeScaleProvider(data, utcDateAccessor, indexAccessor, indexMutator);\n};*/\n\nexport default discontinuousTimeScaleProviderBuilder();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/discontinuousTimeScaleProvider.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isNotDefined, head, last } from \"../utils\";\n\nvar tickLevels = [\n\t{ target: 50e2, level: 0 },\n\t{ target: 50e3, level: 1 },\n\t{ target: 10e4, level: 2 },\n\t{ target: 28e4, level: 3 },\n\t{ target: 55e4, level: 4 },\n\t{ target: 11e5, level: 5 },\n\t{ target: 21e5, level: 6 },\n\t{ target: 43e5, level: 7 },\n\t{ target: 59e5, level: 8 }, // not tested\n\t{ target: 12e6, level: 9 }, // not tested\n\t{ target: 58e6, level: 10 }, // not tested\n\t{ target: 89e6, level: 11 },\n\t{ target: 11e7, level: 12 },\n\t{ target: 78e7, level: 13 },\n\t{ target: 16e8, level: 14 },\n\t{ target: 62e8, level: 15 },\n\t{ target: 10e20, level: 16 },\n];\n\nvar tickLevelBisector = d3.bisector(function(d) { return d.target; }).left;\n\nexport default function financeDiscontinuousScale(index,\n\t\tinterval,\n\t\tbackingLinearScale = d3.scale.linear()) {\n\n\tif (isNotDefined(index) || isNotDefined(interval))\n\t\tthrow new Error(\"Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale\");\n\n\tfunction scale(x) {\n\t\treturn backingLinearScale(x);\n\t}\n\tscale.invert = function(x) {\n\t\tvar inverted = backingLinearScale.invert(x);\n\t\treturn Math.round(inverted * 10000) / 10000;\n\t};\n\tscale.domain = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.domain();\n\t\tbackingLinearScale.domain(x);\n\t\treturn scale;\n\t};\n\tscale.range = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.range();\n\t\tbackingLinearScale.range(x);\n\t\treturn scale;\n\t};\n\tscale.rangeRound = function(x) {\n\t\treturn backingLinearScale.range(x);\n\t};\n\tscale.clamp = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.clamp();\n\t\tbackingLinearScale.clamp(x);\n\t\treturn scale;\n\t};\n\tscale.interpolate = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.interpolate();\n\t\tbackingLinearScale.interpolate(x);\n\t\treturn scale;\n\t};\n\tscale.ticks = function(m) {\n\n\t\tvar [domainStart, domainEnd] = backingLinearScale.domain();\n\t\tvar start = Math.max(Math.ceil(domainStart), head(index).index) + Math.abs(head(index).index);\n\t\tvar end = Math.min(Math.floor(domainEnd), last(index).index) + Math.abs(head(index).index);\n\n\t\t// console.log(index.length, domainStart, domainEnd, start, end)\n\n\t\tvar newM = ((end - start) / (domainEnd - domainStart)) * m;\n\t\t// newM = newM <= 0 ? m : newM;\n\t\tvar target = Math.round((end - start + 1) * interval / newM);\n\n\t\t// var subList = index.slice(start, end + 1);\n\t\tvar levelIndex = tickLevelBisector(tickLevels, target);\n\t\t// console.log(target, levelIndex)\n\t\tvar { level } = tickLevels[levelIndex];\n\n\t\t// console.log(target.toExponential(), level);\n\n\t\tvar backingTicks = backingLinearScale.ticks(m);\n\t\tvar distance = backingTicks.length > 0\n\t\t\t? (last(backingTicks) - head(backingTicks)) / (backingTicks.length - 1) / 4\n\t\t\t: 1;\n\n\t\tvar ticks = [];\n\t\tfor (let i = start; i < end + 1; i++) {\n\t\t\tif (index[i].level >= level) ticks.push(index[i].index);\n\t\t}\n\n\t\t// subList.filter(each => each.level >= level).map(d => d.index);\n\n\t\tvar ticksSet = d3.set(ticks);\n\t\t// console.log(ticks);\n\n\t\tvar d = Math.abs(head(index).index);\n\n\t\tfor (let i = 0; i < ticks.length - 1; i++) {\n\t\t\tfor (var j = i + 1; j < ticks.length; j++) {\n\t\t\t\tif (ticks[j] - ticks[i] < distance) {\n\t\t\t\t\tticksSet.remove(index[ticks[i] + d].level >= index[ticks[j] + d].level ? ticks[j] : ticks[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar tickValues = ticksSet.values().map(d => parseInt(d, 10));\n\t\treturn tickValues;\n\t};\n\tscale.tickFormat = function() {\n\t\treturn function(x) {\n\t\t\t// console.log(x)\n\t\t\tvar d = Math.abs(head(index).index);\n\t\t\tvar { format, date } = index[x + d];\n\t\t\treturn format(date);\n\t\t};\n\t};\n\tscale.nice = function(m) {\n\t\tbackingLinearScale.nice(m);\n\t\treturn scale;\n\t};\n\tscale.copy = function() {\n\t\treturn financeDiscontinuousScale(index, interval, backingLinearScale.copy());\n\t};\n\treturn scale;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/financeDiscontinuousScale.js\n **/","import EdgeIndicator from \"./EdgeIndicator\";\n\nimport CurrentCoordinate from \"./CurrentCoordinate\";\n\nimport MouseCoordinateX from \"./MouseCoordinateX\";\nimport MouseCoordinateY from \"./MouseCoordinateY\";\nimport CrossHairCursor from \"./CrossHairCursor\";\n\nexport {\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n\tCrossHairCursor,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/index.js\n **/","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { first, last, isDefined } from \"../utils\";\n\nclass EdgeIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar edge = helper(this.props, this.context, moreProps);\n\t\tvar props = {\n\t\t\t...this.props,\n\t\t\t...edge,\n\t\t};\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar edge = helper(this.props, this.context, moreProps);\n\t\tvar props = {\n\t\t\t...this.props,\n\t\t\t...edge,\n\t\t};\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tedgeClip\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nEdgeIndicator.propTypes = {\n\tyAccessor: PropTypes.func,\n\n\ttype: PropTypes.oneOf([\"horizontal\"]).isRequired,\n\tclassName: PropTypes.string,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\ttextFill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\titemType: PropTypes.oneOf([\"first\", \"last\"]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]),\n\tedgeAt: PropTypes.oneOf([\"left\", \"right\"]),\n\tdisplayFormat: PropTypes.func.isRequired,\n\trectHeight: PropTypes.number.isRequired,\n\trectWidth: PropTypes.number.isRequired,\n\tarrowWidth: PropTypes.number.isRequired,\n};\nEdgeIndicator.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nEdgeIndicator.defaultProps = {\n\tclassName: \"react-stockcharts-edgeindicator\",\n\n\ttype: \"horizontal\",\n\torient: \"left\",\n\tedgeAt: \"left\",\n\ttextFill: \"#FFFFFF\",\n\tdisplayFormat: d3.format(\".2f\"),\n\tyAxisPad: 0,\n\trectHeight: 20,\n\trectWidth: 50,\n\tarrowWidth: 10,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\tdx: 0,\n\thideLine: false,\n\tfill: \"#8a8a8a\",\n\topacity: 1,\n\tlineStroke: \"#000000\",\n\tlineOpacity: 0.3,\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { type: edgeType, displayFormat, itemType, edgeAt, yAxisPad, orient } = props;\n\tvar { yAccessor, fill, textFill, rectHeight, rectWidth, arrowWidth } = props;\n\tvar { fontFamily, fontSize } = props;\n\tvar { xAccessor } = context;\n\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t// var currentItem = ChartDataUtil.getCurrentItemForChartNew(currentItems, forChart);\n\tvar edge = null;\n\t// console.log(chartData.config.compareSeries.length);\n\n\tvar item = (itemType === \"first\" ? first(plotData, yAccessor) : last(plotData, yAccessor));\n\n\tif (isDefined(item)) {\n\t\tvar yValue = yAccessor(item),\n\t\t\txValue = xAccessor(item);\n\n\t\tvar x1 = Math.round(xScale(xValue)),\n\t\t\ty1 = Math.round(yScale(yValue));\n\n\t\tvar [left, right] = xScale.range();\n\t\tvar edgeX = edgeAt === \"left\"\n\t\t\t\t? left - yAxisPad\n\t\t\t\t: right + yAxisPad;\n\n\t\tedge = {\n\t\t\t// ...props,\n\t\t\tcoordinate: displayFormat(yValue),\n\t\t\tshow: true,\n\t\t\ttype: edgeType,\n\t\t\torient,\n\t\t\tedgeAt: edgeX,\n\t\t\tfill: d3.functor(fill)(item),\n\t\t\tfontFamily, fontSize,\n\t\t\ttextFill: d3.functor(textFill)(item),\n\t\t\trectHeight, rectWidth, arrowWidth,\n\t\t\tx1,\n\t\t\ty1,\n\t\t\tx2: edgeX,\n\t\t\ty2: y1,\n\t\t};\n\t}\n\treturn edge;\n}\n\nexport default EdgeIndicator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/EdgeIndicator.jsx\n **/","\"use strict\";\n\nimport React from \"react\";\n\nimport { hexToRGBA, isDefined } from \"../utils\";\n\n/* eslint-disable react/prop-types */\nexport function renderSVG(props) {\n\tvar { className } = props;\n\n\tvar edge = helper(props);\n\tif (edge === null) return null;\n\tvar line, coordinateBase, coordinate;\n\n\tif (isDefined(edge.line)) {\n\t\tline = <line\n\t\t\tclassName=\"react-stockcharts-cross-hair\" opacity={edge.line.opacity} stroke={edge.line.stroke}\n\t\t\tx1={edge.line.x1} y1={edge.line.y1}\n\t\t\tx2={edge.line.x2} y2={edge.line.y2} />;\n\t}\n\tif (isDefined(edge.coordinateBase)) {\n\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tvar path = edge.orient === \"left\"\n\t\t\t? `M0,0L0,${ rectHeight }L${ rectWidth },${ rectHeight }L${ rectWidth + arrowWidth },10L${ rectWidth },0L0,0L0,0`\n\t\t\t: `M0,${ arrowWidth }L${ arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },0L${ arrowWidth },0L0,${ arrowWidth }`;\n\n\t\tcoordinateBase = edge.orient === \"left\" || edge.orient === \"right\"\n\t\t\t? <g transform={`translate(${edge.coordinateBase.edgeXRect},${edge.coordinateBase.edgeYRect})`}>\n\t\t\t\t\t<path d={path} key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />\n\t\t\t\t</g>\n\t\t\t: <rect key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\tx={edge.coordinateBase.edgeXRect}\n\t\t\t\t\ty={edge.coordinateBase.edgeYRect}\n\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />;\n\n\t\tcoordinate = (<text key={2} x={edge.coordinate.edgeXText}\n\t\t\ty={edge.coordinate.edgeYText}\n\t\t\ttextAnchor={edge.coordinate.textAnchor}\n\t\t\tfontFamily={edge.coordinate.fontFamily}\n\t\t\tfontSize={edge.coordinate.fontSize}\n\t\t\tdy=\".32em\" fill={edge.coordinate.textFill} >{edge.coordinate.displayCoordinate}</text>);\n\t}\n\treturn (\n\t\t<g className={className}>\n\t\t\t{line}\n\t\t\t{coordinateBase}\n\t\t\t{coordinate}\n\t\t</g>\n\t);\n}\n/* eslint-enable react/prop-types */\n\nfunction helper(props) {\n\tvar { coordinate: displayCoordinate, show, type, orient, edgeAt, hideLine } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, lineStroke, lineOpacity, arrowWidth } = props;\n\tvar { rectWidth, rectHeight } = props;\n\tvar { x1, y1, x2, y2, dx } = props;\n\n\tif (!show) return null;\n\n\t// rectWidth = rectWidth ? rectWidth : (type === \"horizontal\") ? 60 : 100;\n\n\tvar edgeXRect, edgeYRect, edgeXText, edgeYText;\n\n\tif (type === \"horizontal\") {\n\n\t\tedgeXRect = dx + ((orient === \"right\") ? edgeAt + 1 : edgeAt - rectWidth - arrowWidth - 1);\n\t\tedgeYRect = y1 - (rectHeight / 2);\n\t\tedgeXText = dx + ((orient === \"right\") ? edgeAt + (rectWidth / 2) + arrowWidth : edgeAt - (rectWidth / 2) - arrowWidth);\n\t\tedgeYText = y1;\n\t} else {\n\t\tedgeXRect = x1 - (rectWidth / 2);\n\t\tedgeYRect = (orient === \"bottom\") ? edgeAt : edgeAt - rectHeight;\n\t\tedgeXText = x1;\n\t\tedgeYText = (orient === \"bottom\") ? edgeAt + (rectHeight / 2) : edgeAt - (rectHeight / 2);\n\t}\n\tvar coordinateBase, coordinate, textAnchor = \"middle\";\n\tif (isDefined(displayCoordinate)) {\n\t\tcoordinateBase = {\n\t\t\tedgeXRect, edgeYRect, rectHeight, rectWidth, fill, opacity, arrowWidth\n\t\t};\n\t\tcoordinate = {\n\t\t\tedgeXText, edgeYText, textAnchor, fontFamily, fontSize, textFill, displayCoordinate\n\t\t};\n\t}\n\n\tvar line = hideLine ? undefined : {\n\t\topacity: lineOpacity, stroke: lineStroke, x1, y1, x2, y2\n\t};\n\treturn {\n\t\tcoordinateBase, coordinate, line, orient\n\t};\n}\n\nexport function drawOnCanvas(ctx, props) {\n\tvar edge = helper(props);\n\n\tif (edge === null) return;\n\n\tif (isDefined(edge.coordinateBase)) {\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tctx.fillStyle = hexToRGBA(edge.coordinateBase.fill, edge.coordinateBase.opacity);\n\n\t\tvar x = edge.coordinateBase.edgeXRect;\n\t\tvar y = edge.coordinateBase.edgeYRect;\n\n\t\tctx.beginPath();\n\n\t\tif (edge.orient === \"right\") {\n\t\t\tctx.moveTo(x, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight);\n\t\t\tctx.lineTo(x + arrowWidth, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else if (edge.orient === \"left\") {\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + rectWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + rectWidth, y + rectHeight);\n\t\t\tctx.lineTo(x, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else {\n\t\t\tctx.rect(x, y, rectWidth, rectHeight);\n\t\t}\n\t\tctx.fill();\n\n\t\tctx.font = `${ edge.coordinate.fontSize }px ${edge.coordinate.fontFamily}`;\n\t\tctx.fillStyle = edge.coordinate.textFill;\n\t\tctx.textAlign = edge.coordinate.textAnchor === \"middle\" ? \"center\" : edge.coordinate.textAnchor;\n\t\tctx.textBaseline = \"middle\";\n\n\t\tctx.fillText(edge.coordinate.displayCoordinate, edge.coordinate.edgeXText, edge.coordinate.edgeYText);\n\t}\n\tif (isDefined(edge.line)) {\n\t\tctx.strokeStyle = hexToRGBA(edge.line.stroke, edge.line.opacity);\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(edge.line.x1, edge.line.y1);\n\t\tctx.lineTo(edge.line.x2, edge.line.y2);\n\t\tctx.stroke();\n\t}\n}\n\n// export default EdgeCoordinate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/EdgeCoordinateV2.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { isNotDefined } from \"../utils\";\n\nclass CurrentCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar circle = helper(this.props, this.context, moreProps);\n\t\tif (!circle) return null;\n\n\t\tctx.fillStyle = circle.fill;\n\t\tctx.beginPath();\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\t\tctx.fill();\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\n\t\tvar circle = helper(this.props, this.context, moreProps);\n\t\tif (!circle) return null;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={circle.fill} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\nCurrentCoordinate.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { fill, yAccessor, r } = props;\n\tvar { xAccessor } = context;\n\n\tvar { show, xScale, chartConfig: { yScale }, currentItem } = moreProps;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar xValue = xAccessor(currentItem);\n\tvar yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tvar x = Math.round(xScale(xValue));\n\tvar y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n}\n\nexport default CurrentCoordinate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/CurrentCoordinate.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateX extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseCoordinateX.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nMouseCoordinateX.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMouseCoordinateX.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 80,\n\trectHeight: 20,\n\torient: \"bottom\",\n\tat: \"bottom\",\n\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tsnapX: true,\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { height, xAccessor, displayXAccessor } = context;\n\tvar { show, currentItem, xScale, mouseXY } = moreProps;\n\t// var { chartConfig: { yScale, origin } } = moreProps;\n\n\tif (isNotDefined(currentItem)) return null;\n\n\tvar { snapX } = props;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tvar x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\tvar edgeAt = (at === \"bottom\")\n\t\t? height\n\t\t: 0;\n\n\tvar coordinate = snapX ? displayFormat(displayXAccessor(currentItem)) : displayFormat(xScale.invert(x));\n\tvar type = \"vertical\";\n\tvar y1 = 0, y2 = height;\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth: 0,\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1,\n\t\ty2\n\t};\n\treturn coordinateProps;\n}\n\n/* function drawOnCanvas(canvasContext, props) {\n\tvar { chartConfig, currentItem, xScale, mouseXY, currentCharts, show } = props;\n\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar edgeProps = helper(props, xScale, chartConfig, mouseXY, currentItem);\n\n\tctx.save();\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edgeProps);\n\n\tctx.restore();\n} */\n\nexport default MouseCoordinateX;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/MouseCoordinateX.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateY extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tclip={false}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseCoordinateY.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nMouseCoordinateY.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\t// height: PropTypes.number.isRequired,\n\t// margin: PropTypes.object.isRequired,\n\tchartId: PropTypes.number.isRequired,\n};\n\nMouseCoordinateY.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tdx: 0,\n\tarrowWidth: 10,\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { chartId, width } = context;\n\tvar { show, currentCharts, chartConfig: { yScale, origin }, mouseXY } = moreProps;\n\n\tif (isNotDefined(mouseXY)) return null;\n\n\tif (currentCharts.indexOf(chartId) < 0) return null;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n\n\tvar x1 = 0, x2 = width;\n\tvar edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tvar type = \"horizontal\";\n\tvar y = mouseXY[1] - origin[1];\n\tvar coordinate = displayFormat(yScale.invert(y));\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\n/* function drawOnCanvas(canvasContext, props) {\n\tvar { chartConfig, currentItem, xScale, mouseXY, show, currentCharts } = props;\n\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar edgeProps = helper(props, xScale, chartConfig, mouseXY, currentCharts, currentItem);\n\n\tctx.save();\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edgeProps);\n\n\tctx.restore();\n}\n*/\nexport default MouseCoordinateY;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/MouseCoordinateY.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\nimport PureComponent from \"../utils/PureComponent\";\n\nimport { hexToRGBA, isDefined, isNotDefined } from \"../utils\";\n\nclass CrossHairCursor extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar lines = helper(this.props, this.context, moreProps);\n\n\t\tif (isDefined(lines)) {\n\n\t\t\tvar { margin } = this.context;\n\t\t\tvar originX = 0.5 + margin.left;\n\t\t\tvar originY = 0.5 + margin.top;\n\n\t\t\tctx.save();\n\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tctx.translate(originX, originY);\n\n\t\t\tlines.forEach(line => {\n\n\t\t\t\tctx.strokeStyle = hexToRGBA(line.stroke, line.opacity);\n\t\t\t\tvar dashArray = line.strokeDasharray.split(\",\").map(d => +d);\n\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(line.x1, line.y1);\n\t\t\t\tctx.lineTo(line.x2, line.y2);\n\t\t\t\tctx.stroke();\n\t\t\t});\n\n\t\t\tctx.restore();\n\t\t}\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar lines = helper(this.props, this.context, moreProps);\n\n\t\tif (isNotDefined(lines)) return null;\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-crosshair ${className}`}>\n\t\t\t\t{lines.map((each, idx) =>\n\t\t\t\t\t<line key={idx} {...each} />)}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nCrossHairCursor.propTypes = {\n};\n\nCrossHairCursor.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\n\t// xScale for getting update event upon pan end\n\txScale: PropTypes.func.isRequired,\n};\n\nCrossHairCursor.defaultProps = {\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tstrokeDasharray: \"4, 2\",\n\tsnapX: true,\n};\n\nfunction helper(props, context, { mouseXY, xScale, currentItem, show }) {\n\tvar { height, width, xAccessor } = context;\n\tvar { snapX, stroke, opacity, strokeDasharray } = props;\n\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar line1 = {\n\t\tx1: 0,\n\t\tx2: width,\n\t\ty1: mouseXY[1],\n\t\ty2: mouseXY[1],\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\tvar x = snapX ? Math.round(xScale(xAccessor(currentItem))) : mouseXY[0];\n\n\tvar line2 = {\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1: 0,\n\t\ty2: height,\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\treturn [line1, line2];\n}\n\nexport default CrossHairCursor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/CrossHairCursor.jsx\n **/","\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerBand from \"./bollingerBand\";\nimport haikinAshi from \"./haikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport atr from \"./atr\";\nimport stochasticOscillator from \"./stochasticOscillator\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport change from \"./change\";\nimport elderImpulse from \"./elderImpulse\";\nimport compare from \"./compare\";\n\nimport * as defaultOptionsForComputation from \"./defaultOptionsForComputation\";\nimport * as defaultOptionsForAppearance from \"./defaultOptionsForAppearance\";\n\nexport {\n\tema,\n\tsma,\n\tbollingerBand,\n\thaikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\trsi,\n\tatr,\n\tstochasticOscillator,\n\tforceIndex,\n\telderRay,\n\tchange,\n\telderImpulse,\n\tcompare,\n\tdefaultOptionsForComputation,\n\tdefaultOptionsForAppearance,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/index.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge } from \"../utils\";\n\nimport { ema } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"EMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ema);\n\n\tvar underlyingAlgorithm = ema();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.ema = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.windowSize();\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/ema.js\n **/","// import slidingWindow from \"./slidingWindow\";\n// import merge from \"./merge\";\n// import zipper from \"./zipper\";\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerband from \"./bollingerband\";\nimport haikinAshi from \"./haikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\n\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport sto from \"./sto\";\nimport atr from \"./atr\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport compare from \"./compare\";\n\nexport {\n\t// slidingWindow,\n\t// merge,\n\t// zipper\n\tema,\n\tsma,\n\tbollingerband,\n\thaikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\n\trsi,\n\tsto,\n\tatr,\n\tforceIndex,\n\telderRay,\n\tcompare,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/index.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/exponentialMovingAverage.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport { isNotDefined, path } from \"../../utils\";\nimport { EMA as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar alpha = 2 / (windowSize + 1);\n\t\tvar previous;\n\t\tvar initialAccumulator = 0;\n\t\tvar skip = 0;\n\n\t\treturn data.map(function(d, i) {\n\t\t\tvar v = source(d, i);\n\t\t\tif (isNotDefined(previous) && isNotDefined(v)) {\n\t\t\t\tskip++;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i < windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i === windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\tvar initialValue = initialAccumulator / windowSize;\n\t\t\t\tprevious = initialValue;\n\t\t\t\treturn initialValue;\n\t\t\t} else {\n\t\t\t\tvar nextValue = v * alpha + (1 - alpha) * previous;\n\t\t\t\tprevious = nextValue;\n\t\t\t\treturn nextValue;\n\t\t\t}\n\t\t});\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/ema.js\n **/","\"use strict\";\n\nexport const BollingerBand = {\n\twindowSize: 20,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\tmultiplier: 2,\n\tmovingAverageType: \"sma\"\n};\n\nexport const ATR = {\n\twindowSize: 14,\n};\n\nexport const ForceIndex = {\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const ElderRay = {\n\twindowSize: 13,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n\tmovingAverageType: \"sma\",\n};\n\nexport const ElderImpulse = {\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const MACD = {\n\tfast: 12,\n\tslow: 26,\n\tsignal: 9,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\tfill: {\n\t\tdivergence: \"#4682B4\"\n\t},\n\tstroke: {\n\t\tmacd: \"#FF0000\",\n\t\tsignal: \"#00F300\",\n\t},\n};\n\nexport const FullStochasticOscillator = {\n\twindowSize: 12,\n\tkWindowSize: 3,\n\tdWindowSize: 3,\n};\n\nexport const RSI = {\n\twindowSize: 14,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const EMA = {\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\twindowSize: 10,\n};\n\nexport const SMA = {\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\twindowSize: 10,\n};\n\nexport const Kagi = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\twindowSize: 14,\n\treversal: 2,\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; },\n\tindexMutator: (d, idx) => { d.idx = idx; },\n};\n\nexport const Renko = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\twindowSize: 14,\n\tfixedBrickSize: 2,\n\tsource: d => ({ high: d.high, low: d.low }), // \"close\", \"hi/lo\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; },\n\tindexMutator: (d, idx) => { d.idx = idx; },\n\tindexAccessor: d => d.idx,\n};\n\nexport const PointAndFigure = {\n\tboxSize: 0.5,\n\treversal: 3,\n\tsource: d => ({ high: d.high, low: d.low }), // \"close\", \"hi/lo\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; },\n\tindexMutator: (d, idx) => { d.idx = idx; },\n\tindexAccessor: d => d.idx,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/defaultOptionsForComputation.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow } from \"../../utils\";\nimport { SMA as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar mean = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\treturn mean(data);\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/sma.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/bollingerBands.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\nimport { last, slidingWindow, zipper, path } from \"../../utils\";\n\nimport { BollingerBand as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, multiplier, movingAverageType, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tvar source = path(sourcePath);\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).sourcePath(sourcePath)\n\t\t\t: slidingWindow().windowSize(windowSize)\n\t\t\t\t.accumulator(values => d3.mean(values)).sourcePath(sourcePath);\n\n\t\tvar bollingerBandAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\t\t\t\tvar avg = last(values).mean;\n\t\t\t\tvar stdDev = d3.deviation(values, (each) => source(each.datum));\n\t\t\t\treturn {\n\t\t\t\t\ttop: avg + multiplier * stdDev,\n\t\t\t\t\tmiddle: avg,\n\t\t\t\t\tbottom: avg - multiplier * stdDev\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => ({ datum, mean }));\n\n\t\tvar tuples = zip(data, meanAlgorithm(data));\n\t\treturn bollingerBandAlgorithm(tuples);\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.multiplier = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn multiplier;\n\t\t}\n\t\tmultiplier = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/bollingerband.js\n **/","\"use strict\";\n\nimport { mappedSlidingWindow, identity } from \"../../utils\";\n\nexport default function() {\n\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\t\tvar algorithm = mappedSlidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(({ open, high, low, close }) => {\n\t\t\t\tclose = (open + high + low + close) / 4;\n\t\t\t\treturn { open, high, low, close };\n\t\t\t})\n\t\t\t.accumulator(([prev, now]) => {\n\t\t\t\t// console.log(prev, now);\n\t\t\t\tvar close = (now.open + now.high + now.low + now.close) / 4;\n\t\t\t\tvar open = (prev.open + prev.close) / 2;\n\t\t\t\tvar high = Math.max(open, now.high, close);\n\t\t\t\tvar low = Math.min(open, now.low, close);\n\t\t\t\treturn { open, high, low, close };\n\t\t\t});\n\n\t\treturn algorithm(data);\n\t}\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/haikinAshi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, isNotDefined, path } from \"../../utils\";\nimport atr from \"./atr\";\n\nimport { Kagi as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { reversalType, windowSize, reversal, sourcePath } = defaultOptions;\n\tvar { dateAccessor, dateMutator } = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tvar source = path(sourcePath);\n\t\tvar reversalThreshold;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(data);\n\t\t\treversalThreshold = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\treversalThreshold = d3.functor(reversal);\n\t\t}\n\n\t\tvar kagiData = [];\n\n\t\tvar prevPeak, prevTrough, direction;\n\t\tvar line = {};\n\n\t\tdata.forEach(function(d) {\n\t\t\tif (isNotDefined(line.from)) {\n\t\t\t\tdateMutator(line, dateAccessor(d));\n\t\t\t\tline.from = dateAccessor(d);\n\n\t\t\t\tif (!line.open) line.open = d.open;\n\t\t\t\tline.high = d.high;\n\t\t\t\tline.low = d.low;\n\t\t\t\tif (!line.close) line.close = source(d);\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t}\n\n\t\t\tif (!line.startOfYear) {\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tif (line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfQuarter) {\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (line.startOfQuarter && !line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfMonth) {\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tif (line.startOfMonth && !line.startOfQuarter) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!line.startOfWeek) {\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t\tif (line.startOfWeek && !line.startOfMonth) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tline.volume = (line.volume || 0) + d.volume;\n\t\t\tline.high = Math.max(line.high, d.high);\n\t\t\tline.low = Math.min(line.low, d.low);\n\t\t\tline.to = dateAccessor(d);\n\n\t\t\tvar priceMovement = (source(d) - line.close);\n\n\t\t\t// console.log(source(d), priceMovement)\n\t\t\tif ((line.close > line.open /* going up */ && priceMovement > 0 /* and moving in same direction */)\n\t\t\t\t\t|| (line.close < line.open /* going down */ && priceMovement < 0 /* and moving in same direction */)) {\n\t\t\t\tline.close = source(d);\n\t\t\t\tif (prevTrough && line.close < prevTrough) {\n\t\t\t\t\t// going below the prevTrough, so change from yang to yin\n\t\t\t\t\t// A yin line forms when a Kagi line breaks below the prior trough.\n\t\t\t\t\tline.changePoint = prevTrough;\n\t\t\t\t\tif (line.startAs !== \"yin\") {\n\t\t\t\t\t\tline.changeTo = \"yin\";\n\t\t\t\t\t\t// line.startAs = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (prevPeak && line.close > prevPeak) {\n\t\t\t\t\t// going above the prevPeak, so change from yin to yang\n\t\t\t\t\t// A yang line forms when a Kagi line breaks above the prior peak\n\t\t\t\t\tline.changePoint = prevPeak;\n\t\t\t\t\tif (line.startAs !== \"yang\") {\n\t\t\t\t\t\tline.changeTo = \"yang\";\n\t\t\t\t\t\t// line.startAs = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ((line.close > line.open /* going up */\n\t\t\t\t\t\t\t&& priceMovement < 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)\n\t\t\t\t\t|| (line.close < line.open /* going down */\n\t\t\t\t\t\t\t&& priceMovement > 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)) {\n\t\t\t\t// reverse direction\n\t\t\t\tvar nextLineOpen = line.close;\n\n\t\t\t\tdirection = (line.close - line.open) / Math.abs(line.close - line.open);\n\n\t\t\t\tvar nextChangePoint, nextChangeTo;\n\t\t\t\tif (direction < 0 /* if direction so far has been -ve*/) {\n\t\t\t\t\t// compare with line.close becomes prevTrough\n\t\t\t\t\tif (isNotDefined(prevPeak)) prevPeak = line.open;\n\t\t\t\t\tprevTrough = line.close;\n\t\t\t\t\tif (source(d) > prevPeak) {\n\t\t\t\t\t\tnextChangePoint = prevPeak;\n\t\t\t\t\t\tnextChangeTo = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isNotDefined(prevTrough)) prevTrough = line.open;\n\t\t\t\t\tprevPeak = line.close;\n\t\t\t\t\tif (source(d) < prevTrough) {\n\t\t\t\t\t\tnextChangePoint = prevTrough;\n\t\t\t\t\t\tnextChangeTo = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNotDefined(line.startAs)) {\n\t\t\t\t\tline.startAs = direction > 0 ? \"yang\" : \"yin\";\n\t\t\t\t}\n\n\t\t\t\tvar startAs = line.changeTo || line.startAs;\n\t\t\t\tline.added = true;\n\t\t\t\tkagiData.push(line);\n\t\t\t\tdirection = -1 * direction; // direction is reversed\n\n\t\t\t\tline = { ...line };\n\t\t\t\tline.open = nextLineOpen;\n\t\t\t\tline.close = source(d);\n\t\t\t\tline.startAs = startAs;\n\t\t\t\tline.changePoint = nextChangePoint;\n\t\t\t\tline.changeTo = nextChangeTo;\n\t\t\t\tline.added = false;\n\t\t\t\tline.from = undefined;\n\t\t\t\tline.volume = 0;\n\t\t\t} else {\n\t\t\t\t// console.log(\"MOVING IN REV DIR BUT..\", line.open, line.close, source(d));\n\t\t\t}\n\t\t\tline.current = source(d);\n\t\t\tvar dir = line.close - line.open;\n\t\t\tdir = dir / Math.abs(dir);\n\t\t\tline.reverseAt = dir > 0 ? line.close - reversalThreshold(d) : line.open - reversalThreshold(d);\n\t\t});\n\t\tif (!line.added) kagiData.push(line);\n\n\t\treturn kagiData;\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/kagi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow, last, isDefined } from \"../../utils\";\n\nexport default function() {\n\n\tvar windowSize = 9,\n\t\tsource = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction atr(data) {\n\n\t\tvar trueRangeAlgorithm = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.source(source)\n\t\t\t.undefinedValue(d => d.high - d.low) // the first TR value is simply the High minus the Low\n\t\t\t.accumulator(values => {\n\t\t\t\tvar prev = values[0];\n\t\t\t\tvar d = values[1];\n\t\t\t\treturn Math.max(d.high - d.low,\n\t\t\t\t\td.high - prev.close,\n\t\t\t\t\td.low - prev.close);\n\t\t\t});\n\n\t\tvar prevATR;\n\n\t\tvar atrAlgorithm = slidingWindow()\n\t\t\t.skipInitial(1) // trueRange starts from index 1 so ATR starts from 1\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\t\t\t\tvar tr = last(values);\n\t\t\t\tvar atr = isDefined(prevATR)\n\t\t\t\t\t? ((prevATR * (windowSize - 1)) + tr) / windowSize\n\t\t\t\t\t: d3.sum(values) / windowSize;\n\n\t\t\t\tprevATR = atr;\n\t\t\t\treturn atr;\n\t\t\t});\n\n\t\tvar newData = atrAlgorithm(trueRangeAlgorithm(data));\n\n\t\treturn newData;\n\t}\n\n\tatr.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn atr;\n\t};\n\n\tatr.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn atr;\n\t};\n\n\treturn atr;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/atr.js\n **/","\"use strict\";\n\nimport { isNotDefined } from \"../../utils\";\nimport { PointAndFigure as defaultOptions } from \"../defaultOptionsForComputation\";\n\nfunction createBox(d, dateAccessor, dateMutator) {\n\tvar box = {\n\t\topen: d.open,\n\t\tfromDate: dateAccessor(d),\n\t\ttoDate: dateAccessor(d),\n\t\tstartOfYear: d.startOfYear,\n\t\tstartOfQuarter: d.startOfQuarter,\n\t\tstartOfMonth: d.startOfMonth,\n\t\tstartOfWeek: d.startOfWeek\n\t};\n\tdateMutator(box, dateAccessor(d));\n\treturn box;\n}\n\nfunction updateColumns(columnData, dateAccessor, dateMutator) {\n\tcolumnData.forEach(function(d) {\n\t\t// var lastBox = d.boxes[d.boxes.length - 1];\n\n\t\td.startOfYear = false;\n\t\td.startOfQuarter = false;\n\t\td.startOfMonth = false;\n\t\td.startOfWeek = false;\n\n\t\td.boxes.forEach(function(eachBox) {\n\t\t\tif (isNotDefined(d.open)) d.open = eachBox.open;\n\t\t\td.close = eachBox.close;\n\t\t\td.high = Math.max(d.open, d.close);\n\t\t\td.low = Math.min(d.open, d.close);\n\n\t\t\tif (isNotDefined(d.fromDate)) d.fromDate = eachBox.fromDate;\n\t\t\tif (isNotDefined(d.date)) d.date = eachBox.date;\n\t\t\td.toDate = eachBox.toDate;\n\n\t\t\tif (eachBox.startOfYear) {\n\t\t\t\td.startOfYear = d.startOfYear || eachBox.startOfYear;\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfQuarter !== true && eachBox.startOfQuarter) {\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfMonth !== true && eachBox.startOfMonth) {\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfWeek !== true && eachBox.startOfWeek) {\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t});\n\n\t});\n\n\t// console.table(columnData);\n\t// console.table(rawData);\n\treturn columnData;\n}\n\n\nexport default function() {\n\tvar { reversal, boxSize, source } = defaultOptions;\n\tvar { dateAccessor, dateMutator } = defaultOptions;\n\n\tfunction calculator(rawData) {\n\t\tvar pricingMethod = source;\n\n\n\t\tvar columnData = [];\n\n\t\tvar column = {\n\t\t\t\tboxes: [],\n\t\t\t\topen: rawData[0].open\n\t\t\t}, box = createBox(rawData[0], dateAccessor, dateMutator);\n\n\t\tcolumnData.push(column);\n\n\t\trawData.forEach(function(d) {\n\t\t\tcolumn.volume = (column.volume || 0) + d.volume;\n\n\t\t\tif (!box.startOfYear) {\n\t\t\t\tbox.startOfYear = d.startOfYear;\n\t\t\t\tif (box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfYear && !box.startOfQuarter) {\n\t\t\t\tbox.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (box.startOfQuarter && !box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfQuarter && !box.startOfMonth) {\n\t\t\t\tbox.startOfMonth = d.startOfMonth;\n\t\t\t\tif (box.startOfMonth && !box.startOfQuarter) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!box.startOfMonth && !box.startOfWeek) {\n\t\t\t\tbox.startOfWeek = d.startOfWeek;\n\t\t\t\tif (box.startOfWeek && !box.startOfMonth) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (columnData.length === 1 && column.boxes.length === 0) {\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - column.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((column.open - pricingMethod(d).low), 0)); // downward movement\n\t\t\t\tcolumn.direction = upwardMovement > downwardMovement ? 1 : -1;\n\t\t\t\tif (boxSize * reversal < upwardMovement\n\t\t\t\t\t|| boxSize * reversal < downwardMovement) {\n\t\t\t\t\t// enough movement to trigger a reversal\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tbox.open = column.open;\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(box, dateAccessor, dateMutator);\n\t\t\t\t\t\t// box = cloneMe(box);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tbox.date = dateAccessor(d);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// one or more boxes already formed in the current column\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - box.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((pricingMethod(d).low - box.open), 0)); // downward movement\n\n\t\t\t\tif ((column.direction > 0 && upwardMovement > boxSize) /* rising column AND box can be formed */\n\t\t\t\t\t\t|| (column.direction < 0 && downwardMovement > boxSize) /* falling column AND box can be formed */ ) {\n\t\t\t\t\t// form another box\n\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t} else if ((column.direction > 0 && downwardMovement > boxSize * reversal) /* rising column and there is downward movement to trigger a reversal */\n\t\t\t\t\t\t|| (column.direction < 0 && upwardMovement > boxSize * reversal)/* falling column and there is downward movement to trigger a reversal */) {\n\t\t\t\t\t// reversal\n\n\t\t\t\t\tbox.open = box.open + -1 * column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.startOfYear = d.startOfYear;\n\t\t\t\t\t// box.startOfQuarter = d.startOfQuarter;\n\t\t\t\t\t// box.startOfMonth = d.startOfMonth;\n\t\t\t\t\t// box.startOfWeek = d.startOfWeek;\n\t\t\t\t\t// console.table(column.boxes);\n\t\t\t\t\t// var idx = index + 1;\n\t\t\t\t\tcolumn = {\n\t\t\t\t\t\tboxes: [],\n\t\t\t\t\t\tvolume: 0,\n\t\t\t\t\t\tdirection: -1 * column.direction\n\t\t\t\t\t};\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tvar prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolumnData.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tupdateColumns(columnData, dateAccessor, dateMutator);\n\n\t\treturn columnData;\n\t}\n\tcalculator.reversal = function(x) {\n\t\tif (!arguments.length) return reversal;\n\t\treversal = x;\n\t\treturn calculator;\n\t};\n\tcalculator.boxSize = function(x) {\n\t\tif (!arguments.length) return boxSize;\n\t\tboxSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) return source;\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/pointAndFigure.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge, isNotDefined } from \"../../utils\";\n\nimport atr from \"./atr\";\n\nimport { Renko as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { reversalType, fixedBrickSize, source, windowSize } = defaultOptions;\n\tvar { dateAccessor, dateMutator } = defaultOptions;\n\n\tfunction calculator(rawData) {\n\t\tvar pricingMethod = source, brickSize;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(rawData);\n\t\t\tbrickSize = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\tbrickSize = d3.functor(fixedBrickSize);\n\t\t}\n\n\t\tvar renkoData = [];\n\n\t\tvar index = 0, prevBrickClose = rawData[index].open, prevBrickOpen = rawData[index].open;\n\t\tvar brick = {}, direction = 0;\n\n\t\trawData.forEach(function(d, idx) {\n\t\t\tif (isNotDefined(brick.from)) {\n\t\t\t\tbrick.high = d.high;\n\t\t\t\tbrick.low = d.low;\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\n\t\t\t\tbrick.from = idx;\n\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t// indexMutator(brick, index++);\n\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t}\n\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\n\t\t\tvar prevCloseToHigh = (prevBrickClose - pricingMethod(d).high),\n\t\t\t\tprevCloseToLow = (prevBrickClose - pricingMethod(d).low),\n\t\t\t\tprevOpenToHigh = (prevBrickOpen - pricingMethod(d).high),\n\t\t\t\tprevOpenToLow = (prevBrickOpen - pricingMethod(d).low),\n\t\t\t\tpriceMovement = Math.min(\n\t\t\t\t\tMath.abs(prevCloseToHigh),\n\t\t\t\t\tMath.abs(prevCloseToLow),\n\t\t\t\t\tMath.abs(prevOpenToHigh),\n\t\t\t\t\tMath.abs(prevOpenToLow));\n\n\n\t\t\tbrick.high = Math.max(brick.high, d.high);\n\t\t\tbrick.low = Math.min(brick.low, d.low);\n\n\t\t\tif (!brick.startOfYear) {\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tif (brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfQuarter) {\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (brick.startOfQuarter && !brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfMonth) {\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tif (brick.startOfMonth && !brick.startOfQuarter) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!brick.startOfWeek) {\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\t\t\t\tif (brick.startOfWeek && !brick.startOfMonth) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// d.brick = JSON.stringify(brick);\n\t\t\tif (brickSize(d)) {\n\t\t\t\tvar noOfBricks = Math.floor(priceMovement / brickSize(d));\n\n\t\t\t\tbrick.open = (Math.abs(prevCloseToHigh) < Math.abs(prevOpenToHigh)\n\t\t\t\t\t|| Math.abs(prevCloseToLow) < Math.abs(prevOpenToLow))\n\t\t\t\t\t\t\t\t? prevBrickClose\n\t\t\t\t\t\t\t\t: prevBrickOpen;\n\n\t\t\t\tif (noOfBricks >= 1) {\n\t\t\t\t\tlet j = 0;\n\t\t\t\t\tfor (j = 0; j < noOfBricks; j++) {\n\t\t\t\t\t\tbrick.close = (brick.open < pricingMethod(d).high)\n\t\t\t\t\t\t\t\t\t\t// if brick open is less than current price it means it is green/hollow brick\n\t\t\t\t\t\t\t\t\t\t\t? brick.open + brickSize(d)\n\t\t\t\t\t\t\t\t\t\t\t: brick.open - brickSize(d);\n\t\t\t\t\t\tdirection = brick.close > brick.open ? 1 : -1;\n\t\t\t\t\t\tbrick.direction = direction;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\t// brick.diff = brick.open - brick.close;\n\t\t\t\t\t\t// brick.atr = d.atr;\n\t\t\t\t\t\tbrick.fullyFormed = true;\n\t\t\t\t\t\trenkoData.push(brick);\n\n\t\t\t\t\t\tprevBrickClose = brick.close;\n\t\t\t\t\t\tprevBrickOpen = brick.open;\n\n\t\t\t\t\t\tvar newBrick = {\n\t\t\t\t\t\t\thigh: brick.high,\n\t\t\t\t\t\t\tlow: brick.low,\n\t\t\t\t\t\t\topen: brick.close,\n\t\t\t\t\t\t\tstartOfYear: false,\n\t\t\t\t\t\t\tstartOfMonth: false,\n\t\t\t\t\t\t\tstartOfQuarter: false,\n\t\t\t\t\t\t\tstartOfWeek: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbrick = newBrick;\n\t\t\t\t\t\tbrick.from = idx;\n\t\t\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t\t\t// indexMutator(brick, index + j);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\t\t\t\t\t}\n\t\t\t\t\tindex = index + j - 1;\n\t\t\t\t\tbrick = {};\n\t\t\t\t} else {\n\t\t\t\t\tif (idx === rawData.length - 1) {\n\t\t\t\t\t\tbrick.close = direction > 0 ? pricingMethod(d).high : pricingMethod(d).low;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.fullyFormed = false;\n\t\t\t\t\t\trenkoData.push(brick);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\treturn renkoData;\n\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.fixedBrickSize = function(x) {\n\t\tif (!arguments.length) return fixedBrickSize;\n\t\tfixedBrickSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) return source;\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) return windowSize;\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/renko.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/macd.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport ema from \"./ema\";\n\nimport { isDefined, zipper } from \"../../utils\";\nimport { MACD as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { fast, slow, signal, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar fastEMA = ema()\n\t\t\t.windowSize(fast)\n\t\t\t.sourcePath(sourcePath);\n\t\tvar slowEMA = ema()\n\t\t\t.windowSize(slow)\n\t\t\t.sourcePath(sourcePath);\n\t\tvar signalEMA = ema()\n\t\t\t.windowSize(signal)\n\t\t\t.sourcePath(undefined);\n\n\t\tvar macdCalculator = zipper()\n\t\t\t.combine((fastEMA, slowEMA) => (isDefined(fastEMA) && isDefined(slowEMA)) ? fastEMA - slowEMA : undefined);\n\n\t\tvar macdArray = macdCalculator(fastEMA(data), slowEMA(data));\n\n\t\tvar undefinedArray = new Array(slow);\n\t\tvar signalArray = undefinedArray.concat(signalEMA(macdArray.slice(slow)));\n\n\t\tvar zip = zipper()\n\t\t\t.combine((macd, signal) => ({\n\t\t\t\tmacd,\n\t\t\t\tsignal,\n\t\t\t\tdivergence: (isDefined(macd) && isDefined(signal)) ? macd - signal : undefined,\n\t\t\t}));\n\n\t\tvar macd = zip(macdArray, signalArray);\n\n\t\treturn macd;\n\t}\n\n\tcalculator.fast = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn fast;\n\t\t}\n\t\tfast = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.slow = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn slow;\n\t\t}\n\t\tslow = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.signal = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn signal;\n\t\t}\n\t\tsignal = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\t/* calculator.options = function(options) {\n\t\tif (options) {\n\t\t\tvar { fast, slow, signal, source } = options;\n\t\t\tunderlyingAlgorithm\n\t\t\t\t.fast(fast)\n\t\t\t\t.slow(slow)\n\t\t\t\t.signal(signal)\n\t\t\t\t.source()\n\t\t}\n\t\treturn {\n\n\t\t}\n\t}; */\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/macd.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/relativeStrengthIndex.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { isDefined, last, slidingWindow, path } from \"../../utils\";\nimport { RSI as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar prevAvgGain, prevAvgLoss;\n\t\tvar rsiAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\n\t\t\t\tvar avgGain = isDefined(prevAvgGain)\n\t\t\t\t\t? (prevAvgGain * (windowSize - 1) + last(values).gain) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.gain);\n\n\t\t\t\tvar avgLoss = isDefined(prevAvgLoss)\n\t\t\t\t\t? (prevAvgLoss * (windowSize - 1) + last(values).loss) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.loss);\n\n\t\t\t\tvar relativeStrength = avgGain / avgLoss;\n\t\t\t\tvar rsi = 100 - (100 / (1 + relativeStrength));\n\n\t\t\t\tprevAvgGain = avgGain;\n\t\t\t\tprevAvgLoss = avgLoss;\n\n\t\t\t\treturn rsi;\n\t\t\t});\n\n\t\tvar gainsAndLossesCalculator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(() => [0, 0])\n\t\t\t.accumulator(tuple => {\n\t\t\t\tvar prev = tuple[0];\n\t\t\t\tvar now = tuple[1];\n\t\t\t\tvar change = source(now) - source(prev);\n\t\t\t\treturn {\n\t\t\t\t\tgain: Math.max(change, 0),\n\t\t\t\t\tloss: Math.abs(Math.min(change, 0)),\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar gainsAndLosses = gainsAndLossesCalculator(data);\n\n\t\tvar rsiData = rsiAlgorithm(gainsAndLosses);\n\n\t\treturn rsiData;\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/rsi.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/stochasticOscillator.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { last, slidingWindow, zipper } from \"../../utils\";\nimport { FullStochasticOscillator as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, kWindowSize, dWindowSize } = defaultOptions;\n\n\tvar source = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\tvar high = d => source(d).high,\n\t\tlow = d => source(d).low,\n\t\tclose = d => source(d).close;\n\n\tfunction calculator(data) {\n\t\tvar kWindow = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\n\t\t\t\tvar highestHigh = d3.max(values, high);\n\t\t\t\tvar lowestLow = d3.min(values, low);\n\n\t\t\t\tvar currentClose = close(last(values));\n\t\t\t\tvar k = (currentClose - lowestLow) / (highestHigh - lowestLow) * 100;\n\n\t\t\t\treturn k;\n\t\t\t});\n\n\t\tvar kSmoothed = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1)\n\t\t\t.windowSize(kWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar dWindow = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1 + kWindowSize - 1)\n\t\t\t.windowSize(dWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar stoAlgorithm = zipper()\n\t\t\t.combine((K, D) => ({ K, D }));\n\n\t\tvar kData = kSmoothed(kWindow(data));\n\t\tvar dData = dWindow(kData);\n\n\t\tvar newData = stoAlgorithm(kData, dData);\n\n\t\treturn newData;\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.kWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn kWindowSize;\n\t\t}\n\t\tkWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn dWindowSize;\n\t\t}\n\t\tdWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/sto.js\n **/","\"use strict\";\n\nimport { slidingWindow, path } from \"../../utils\";\nimport { ForceIndex as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { sourcePath } = defaultOptions;\n\tvar volumePath = \"volume\";\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar volume = path(volumePath);\n\n\t\tvar forceIndexCalulator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.accumulator(([prev, curr]) => (source(curr) - source(prev)) * volume(curr));\n\n\t\tvar forceIndex = forceIndexCalulator(data);\n\n\t\treturn forceIndex;\n\t}\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.volumePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn volumePath;\n\t\t}\n\t\tvolumePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/forceIndex.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/elderRay.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\n\nimport { ElderRay as defaultOptions } from \"../defaultOptionsForComputation\";\nimport { isDefined, zipper, slidingWindow } from \"../../utils\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath, movingAverageType } = defaultOptions;\n\tvar ohlc = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction calculator(data) {\n\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).sourcePath(sourcePath)\n\t\t\t: slidingWindow().windowSize(windowSize).accumulator(values => d3.mean(values)).sourcePath(sourcePath);\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => {\n\t\t\t\tvar bullPower = isDefined(mean) ? ohlc(datum).high - mean : undefined;\n\t\t\t\tvar bearPower = isDefined(mean) ? ohlc(datum).low - mean : undefined;\n\t\t\t\treturn { bullPower, bearPower };\n\t\t\t});\n\n\t\tvar newData = zip(data, meanAlgorithm(data));\n\t\treturn newData;\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.ohlc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn ohlc;\n\t\t}\n\t\tohlc = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/elderRay.js\n **/","\"use strict\";\n\nimport { first } from \"../../utils\";\n\nexport default function() {\n\tvar base = d => d.close;\n\tvar mainKeys = [];\n\tvar compareKeys = [];\n\n\tfunction calculator(data) {\n\t\tvar f = first(data);\n\t\tvar b = base(f);\n\t\tvar compareData = data.map(d => {\n\t\t\tvar result = {};\n\n\t\t\tmainKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - b) / b;\n\t\t\t});\n\n\t\t\tcompareKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - f[key]) / f[key];\n\t\t\t});\n\t\t\treturn result;\n\t\t});\n\t\t// console.log(compareData[20]);\n\t\treturn compareData;\n\t}\n\tcalculator.base = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn base;\n\t\t}\n\t\tbase = x;\n\t\treturn calculator;\n\t};\n\tcalculator.mainKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mainKeys;\n\t\t}\n\t\tmainKeys = x;\n\t\treturn calculator;\n\t};\n\tcalculator.compareKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn compareKeys;\n\t\t}\n\t\tcompareKeys = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/compare.js\n **/","\"use strict\";\n\nimport { overlayColors } from \"../utils\";\n\nvar i = 0;\n\nexport default function() {\n\n\tvar id = i++, accessor, stroke, fill, echo, type, tooltipLabel, domain, tickValues;\n\n\tfunction baseIndicator() {\n\t}\n\n\tbaseIndicator.id = function(x) {\n\t\tif (!arguments.length) return id;\n\t\tid = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.accessor = function(x) {\n\t\tif (!arguments.length) return accessor;\n\t\taccessor = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.stroke = function(x) {\n\t\tif (!arguments.length) return !stroke ? stroke = overlayColors(id) : stroke;\n\t\tstroke = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.fill = function(x) {\n\t\tif (!arguments.length) return !fill ? fill = overlayColors(id) : fill;\n\t\tfill = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.echo = function(x) {\n\t\tif (!arguments.length) return echo;\n\t\techo = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.type = function(x) {\n\t\tif (!arguments.length) return type;\n\t\ttype = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tooltipLabel = function(x) {\n\t\tif (!arguments.length) {\n\t\t\tif (typeof tooltipLabel === \"function\") return tooltipLabel();\n\t\t\treturn tooltipLabel;\n\t\t}\n\t\ttooltipLabel = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.domain = function(x) {\n\t\tif (!arguments.length) return domain;\n\t\tdomain = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tickValues = function(x) {\n\t\tif (!arguments.length) return tickValues;\n\t\ttickValues = x;\n\t\treturn baseIndicator;\n\t};\n\treturn baseIndicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/baseIndicator.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { sma } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"SMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.sma);\n\n\tvar underlyingAlgorithm = sma();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sma = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.windowSize();\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"undefinedValue\", \"sourcePath\", \"skipInitial\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/sma.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { BollingerBand as appearanceOptions } from \"./defaultOptionsForAppearance\";\nimport baseIndicator from \"./baseIndicator\";\nimport { bollingerband } from \"./algorithm\";\n\nconst ALGORITHM_TYPE = \"BollingerBand\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.bollingerBand)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.fill(appearanceOptions.fill);\n\n\tvar underlyingAlgorithm = bollingerband();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.bollingerBand = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\n\tbase.tooltipLabel(() => `BB (${underlyingAlgorithm.windowSize()}, ${underlyingAlgorithm.multiplier()}`\n\t\t+ `, ${underlyingAlgorithm.movingAverageType()}): `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/bollingerBand.js\n **/","\"use strict\";\n\nexport const BollingerBand = {\n\tstroke: {\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\",\n\t},\n\tfill: \"#4682B4\",\n};\n\nexport const ElderImpulse = {\n\tstroke: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#FF0000\",\n\t\tneutral: \"#0000FF\",\n\t}\n};\n\nexport const MACD = {\n\tfill: {\n\t\tdivergence: \"#4682B4\"\n\t},\n\tstroke: {\n\t\tmacd: \"#FF0000\",\n\t\tsignal: \"#00F300\",\n\t},\n};\n\nexport const FullStochasticOscillator = {\n\tstroke: {\n\t\tD: \"#17becf\",\n\t\tK: \"#ff7f0e\",\n\t},\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/defaultOptionsForAppearance.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { haikinAshi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nimport { merge } from \"../utils\";\n\nconst ALGORITHM_TYPE = \"HaikinAshi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ha);\n\n\tvar underlyingAlgorithm = haikinAshi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.ha = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/haikinAshi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { kagi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Kagi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = kagi();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/kagi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { pointAndFigure } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"PointAndFigure\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = pointAndFigure();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/pointAndFigure.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { renko } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Renko\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = renko();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/renko.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { macd } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { MACD as appearanceOptions } from \"./defaultOptionsForAppearance\";\n\nconst ALGORITHM_TYPE = \"MACD\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.fill(appearanceOptions.fill)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.accessor(d => d.macd);\n\n\tvar underlyingAlgorithm = macd();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.macd = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.slow() + underlyingAlgorithm.signal();\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\", \"fast\", \"slow\", \"signal\", \"options\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/macd.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { rsi } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar overSold = 70,\n\t\tmiddle = 50,\n\t\toverBought = 30;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.rsi);\n\n\tvar underlyingAlgorithm = rsi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.rsi = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\", \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/rsi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { atr } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { ATR as defaultOptions } from \"./defaultOptionsForComputation\";\n\nconst ALGORITHM_TYPE = \"ATR\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.atr);\n\n\tvar underlyingAlgorithm = atr()\n\t\t.windowSize(defaultOptions.period);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.atr = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/atr.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { sto } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { FullStochasticOscillator as appearanceOptions } from \"./defaultOptionsForAppearance\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar overSold = 80,\n\t\toverBought = 20,\n\t\tmiddle = 50;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.accessor(d => d.sto);\n\n\tvar underlyingAlgorithm = sto();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sto = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}`\n\t\t\t+ `, ${underlyingAlgorithm.kWindowSize()}, ${underlyingAlgorithm.dWindowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"kWindowSize\", \"dWindowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/stochasticOscillator.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { forceIndex } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ForceIndex\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.forceIndex);\n\n\tvar underlyingAlgorithm = forceIndex();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.forceIndex = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/forceIndex.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { elderRay } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderRay\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = elderRay();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderRay = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(`${ALGORITHM_TYPE}: `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/elderRay.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, slidingWindow } from \"../utils\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Change\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(2)\n\t\t.source(d => d.close)\n\t\t.accumulator(([prev, curr]) => {\n\t\t\tvar absoluteChange = curr - prev;\n\t\t\tvar percentChange = absoluteChange * 100 / prev;\n\t\t\treturn { absoluteChange, percentChange };\n\t\t});\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\n\t\t\tdatum.percentChange = indicator.percentChange;\n\t\t});\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/change.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isDefined, isNotDefined, merge, slidingWindow } from \"../utils\";\n\nimport { ElderImpulse as appearanceOptions } from \"./defaultOptionsForAppearance\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderImpulse\";\n\nexport default function() {\n\n\tvar macdSource, emaSource;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t// .stroke(d => stroke[d.elderImpulse])\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.fill(undefined);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(2)\n\t\t.undefinedValue(\"neutral\")\n\t\t.accumulator(([prev, curr]) => {\n\t\t\tif (isNotDefined(macdSource)) throw new Error(`macdSource not defined for ${ALGORITHM_TYPE} calculator`);\n\t\t\tif (isNotDefined(emaSource)) throw new Error(`emaSource not defined for ${ALGORITHM_TYPE} calculator`);\n\n\t\t\tif (isDefined(macdSource(prev)) && isDefined(emaSource(prev))) {\n\t\t\t\tvar prevMACDDivergence = macdSource(prev).divergence;\n\t\t\t\tvar currMACDDivergence = macdSource(curr).divergence;\n\n\t\t\t\tvar prevEMA = emaSource(prev);\n\t\t\t\tvar currEMA = emaSource(curr);\n\n\t\t\t\tif (currMACDDivergence >= prevMACDDivergence\n\t\t\t\t\t&& currEMA >= prevEMA) return \"up\";\n\n\t\t\t\tif (currMACDDivergence <= prevMACDDivergence\n\t\t\t\t\t&& currEMA <= prevEMA) return \"down\";\n\t\t\t}\n\t\t\treturn \"neutral\";\n\t\t});\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderImpulse = indicator; });\n\n\tvar indicator = function(data) {\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.macdSource = function(x) {\n\t\tif (!arguments.length) return macdSource;\n\t\tmacdSource = x;\n\t\treturn indicator;\n\t};\n\tindicator.emaSource = function(x) {\n\t\tif (!arguments.length) return emaSource;\n\t\temaSource = x;\n\t\treturn indicator;\n\t};\n\td3.rebind(indicator, base, \"id\", \"echo\", \"type\", \"stroke\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/elderImpulse.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { compare } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Compare\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.compare);\n\n\tvar underlyingAlgorithm = compare()\n\t\t.base(d => d.close)\n\t\t.mainKeys([\"open\", \"high\", \"low\", \"close\"]);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.compare = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"base\", \"mainKeys\", \"compareKeys\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/compare.js\n **/","\"use strict\";\n\nimport { merge, slidingWindow } from \"../utils\";\nimport { identity } from \"../utils\";\n\nexport default function() {\n\n\tvar windowSize = 1,\n\t\taccumulator = identity,\n\t\tmergeAs = identity;\n\n\tfunction algorithm(data) {\n\n\t\tvar defaultAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(accumulator);\n\n\t\tvar calculator = merge()\n\t\t\t.algorithm(defaultAlgorithm)\n\t\t\t.merge(mergeAs);\n\n\t\tvar newData = calculator(data);\n\n\t\treturn newData;\n\t}\n\n\talgorithm.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn algorithm;\n\t};\n\n\talgorithm.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn algorithm;\n\t};\n\talgorithm.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mergeAs;\n\t\t}\n\t\tmergeAs = x;\n\t\treturn algorithm;\n\t};\n\n\treturn algorithm;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/algorithm/index.js\n **/","\"use strict\";\n\n\nimport Annotate from \"./Annotate\";\nimport LabelAnnotation from \"./LabelAnnotation\";\nimport SvgPathAnnotation from \"./SvgPathAnnotation\";\nimport Label from \"./Label\";\n\nexport { Annotate, LabelAnnotation, SvgPathAnnotation, Label };\n\nconst halfWidth = 10;\nconst bottomWidth = 3;\nconst height = 20;\n\nexport function buyPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x - halfWidth} ${y + halfWidth} `\n\t\t+ \"Z\";\n}\n\nexport function sellPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x - halfWidth} ${y - halfWidth} `\n\t\t+ \"Z\";\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Annotate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { className, usingProps, with: Annotation } = this.props;\n\t\tvar data = helper(this.props, plotData);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-enable-interaction ${className}`}>\n\t\t\t\t{data.map((d, idx) => <Annotation key={idx}\n\t\t\t\t\t\t{...usingProps}\n\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\tyScale={yScale}\n\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\tplotData={plotData}\n\t\t\t\t\t\tdatum={d} />)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAnnotate.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\twith: PropTypes.func,\n\twhen: PropTypes.func,\n\tusingProps: PropTypes.object,\n};\n\nAnnotate.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nAnnotate.defaultProps = {\n\tclassName: \"react-stockcharts-annotate react-stockcharts-default-cursor\",\n};\n\nfunction helper({ when }, plotData) {\n\treturn plotData.filter(when);\n}\n\nexport default Annotate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/Annotate.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\n\t\tvar { xAccessor, xScale, yScale } = this.props;\n\n\t\tvar { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<text x={xPos} y={yPos}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttextAnchor={textAnchor}>{text}</text>\n\t\t</g>);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: d3.functor(text)(datum),\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.func,\n\ty: PropTypes.func,\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/LabelAnnotation.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass SvgPathAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, stroke, opacity } = this.props;\n\t\tvar { xAccessor, xScale, yScale, path } = this.props;\n\n\t\tvar { x, y, fill, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className} onClick={this.handleClick}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<path d={path({ x, y })} stroke={stroke} fill={fill} opacity={opacity} />\n\t\t</g>);\n\t}\n}\n\nfunction helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\tx: xPos,\n\t\ty: yPos,\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nSvgPathAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\tpath: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n};\n\nSvgPathAnnotation.defaultProps = {\n\tclassName: \"react-stockcharts-svgpathannotation\",\n\topacity: 1,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nexport default SvgPathAnnotation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/SvgPathAnnotation.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\n\nimport { isDefined, hexToRGBA } from \"../utils\";\nimport LabelAnnotation, { defaultProps, helper } from \"./LabelAnnotation\";\n\nclass Label extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas2(ctx, this.props, this.context, moreProps);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tcanvasToDraw={this.props.selectCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { chartConfig } = moreProps;\n\n\t\treturn <LabelAnnotation yScale={getYScale(chartConfig)} {...this.props} text={getText(this.props)}/>;\n\t}\n}\n\nfunction getText(props) {\n\treturn d3.functor(props.text)(props);\n}\n\nfunction getYScale(chartConfig) {\n\treturn Array.isArray(chartConfig) ? undefined : chartConfig.yScale;\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\tselectCanvas: PropTypes.func.isRequired,\n\ttext: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n};\n\nLabel.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\tmargin: PropTypes.object.isRequired,\n};\n\nLabel.defaultProps = {\n\t...defaultProps,\n\tselectCanvas: canvases => canvases.bg,\n};\n\nfunction drawOnCanvas2(ctx, props, context, moreProps) {\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tvar { canvasOriginX, canvasOriginY, margin } = context;\n\n\tif (isDefined(canvasOriginX))\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\telse\n\t\tctx.translate(margin.left + 0.5, margin.top + 0.5);\n\n\tdrawOnCanvas(ctx, props, context, moreProps);\n\n\tctx.restore();\n\n}\n\nfunction drawOnCanvas(ctx, props, context, moreProps) {\n\tvar { textAnchor, fontFamily, fontSize, opacity, rotate } = props;\n\tvar { xScale, chartConfig } = moreProps;\n\tvar { xAccessor } = context;\n\n\tvar { xPos, yPos, fill, text } = helper(props, xAccessor, xScale, getYScale(chartConfig));\n\n\tvar radians = (rotate / 180) * Math.PI;\n\tctx.save();\n\tctx.translate(xPos, yPos);\n\tctx.rotate(radians);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tctx.beginPath();\n\tctx.fillText(text, 0, 0);\n\tctx.restore();\n}\n\n\nexport default Label;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/Label.jsx\n **/","\"use strict\";\n\n\nimport XAxis from \"./XAxis\";\nimport YAxis from \"./YAxis\";\n\nexport { XAxis, YAxis };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/index.js\n **/","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport Axis from \"./Axis\";\n\nclass XAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newXDomain) {\n\t\tvar { xAxisZoom } = this.context;\n\t\txAxisZoom(newXDomain);\n\t}\n\trender() {\n\t\tvar { showTicks } = this.props;\n\t\tvar moreProps = helper(this.props, this.context);\n\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomEnabled={showTicks}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\n\nXAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\txZoomHeight: 25,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\n};\n\nXAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nfunction helper(props, context) {\n\tvar { axisAt, xZoomHeight, orient } = props;\n\tvar { width, height } = context;\n\n\tvar axisLocation, x = 0, w = width, h = xZoomHeight;\n\n\tif (axisAt === \"top\") axisLocation = 0;\n\telse if (axisAt === \"bottom\") axisLocation = height;\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\n\telse axisLocation = axisAt;\n\n\tvar y = (orient === \"top\") ? -xZoomHeight : 0;\n\n\treturn {\n\t\ttransform: [0, axisLocation],\n\t\trange: [0, width],\n\t\tgetScale: moreProps => moreProps.xScale,\n\t\tbg: { x, y, h, w },\n\t};\n}\nexport default XAxis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/XAxis.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport AxisZoomCapture from \"./AxisZoomCapture\";\n\nimport { first, last, hexToRGBA, isNotDefined, isDefined, identity } from \"../utils\";\n\nclass Axis extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { showDomain, showTicks, transform, range, getScale } = this.props;\n\n\t\tctx.save();\n\t\tctx.translate(transform[0], transform[1]);\n\n\t\tif (showDomain) drawAxisLine(ctx, this.props, range);\n\t\tif (showTicks) {\n\t\t\tvar tickProps = tickHelper(this.props, getScale(moreProps));\n\t\t\tdrawTicks(ctx, tickProps);\n\t\t}\n\n\t\tctx.restore();\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar { showDomain, showTicks, range, getScale } = this.props;\n\n\t\tvar ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n\t\tvar domain = showDomain ? axisLineSVG(this.props, range) : null;\n\n\t\treturn <g className={className}>\n\t\t\t{ticks}\n\t\t\t{domain}\n\t\t</g>;\n\t}\n\tgetMoreProps() {\n\t\treturn this.refs.propProvider.getMoreProps();\n\t}\n\trender() {\n\t\tvar { bg, axisZoomCallback, zoomCursorClassName, zoomEnabled, getScale } = this.props;\n\t\tvar { transform, getMouseDelta, edgeClip } = this.props;\n\n\t\tvar zoomCapture = zoomEnabled\n\t\t\t? <AxisZoomCapture\n\t\t\t\tbg={bg}\n\t\t\t\tgetScale={getScale}\n\t\t\t\tgetMoreProps={this.getMoreProps}\n\t\t\t\tgetMouseDelta={getMouseDelta}\n\t\t\t\taxisZoomCallback={axisZoomCallback}\n\t\t\t\tzoomCursorClassName={zoomCursorClassName} />\n\t\t\t: null;\n\n\t\treturn <g transform={`translate(${ transform[0] }, ${ transform[1] })`}>\n\t\t\t{zoomCapture}\n\t\t\t<GenericChartComponent ref=\"propProvider\"\n\t\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\t\tclip={false}\n\t\t\t\tedgeClip={edgeClip}\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t\tdrawOnPan\n\t\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nAxis.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\tzoomEnabled: PropTypes.bool,\n\tzoomCursorClassName: PropTypes.string,\n\ttransform: PropTypes.arrayOf(PropTypes.number).isRequired,\n\trange: PropTypes.arrayOf(PropTypes.number).isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tbg: PropTypes.object.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n};\n\nAxis.defaultProps = {\n\tzoomEnabled: false,\n\tzoomCursorClassName: \"\",\n\tedgeClip: false,\n};\n\nAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nfunction tickTransform_svg_axisX(scale, tick) {\n\treturn [Math.round(scale(tick)), 0];\n}\n\nfunction tickTransform_svg_axisY(scale, tick) {\n\treturn [0, Math.round(scale(tick))];\n}\n\nfunction tickHelper(props, scale) {\n\tvar { orient, innerTickSize, tickFormat, tickPadding, fontSize, fontFamily } = props;\n\tvar { ticks: tickArguments, tickValues, tickStroke, tickStrokeOpacity } = props;\n\n\tif (tickArguments) tickArguments = [tickArguments];\n\n\tvar ticks = isNotDefined(tickValues)\n\t\t? (isDefined(scale.ticks)\n\t\t\t? scale.ticks.apply(scale, tickArguments)\n\t\t\t: scale.domain())\n\t\t: tickValues;\n\n\tvar baseFormat = scale.tickFormat\n\t\t\t? scale.tickFormat.apply(scale, tickArguments)\n\t\t\t: identity;\n\n\tvar format = isNotDefined(tickFormat)\n\t\t? baseFormat\n\t\t: d => baseFormat(d) ? tickFormat(d) : \"\";\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n\n\tvar tickTransform, x, y, x2, y2, dy, canvas_dy, textAnchor;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\ttickTransform = tickTransform_svg_axisX;\n\t\tx2 = 0;\n\t\ty2 = sign * innerTickSize;\n\t\tx = 0;\n\t\ty = sign * tickSpacing;\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\n\t\ttextAnchor = \"middle\";\n\t} else {\n\t\ttickTransform = tickTransform_svg_axisY;\n\t\tx2 = sign * innerTickSize;\n\t\ty2 = 0;\n\t\tx = sign * tickSpacing;\n\t\ty = 0;\n\t\tdy = \".32em\";\n\t\tcanvas_dy = (fontSize * .32);\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\n\t}\n\treturn { ticks, scale, tickTransform, tickStroke, tickStrokeOpacity, dy, canvas_dy, x, y, x2, y2, textAnchor, fontSize, fontFamily, format };\n}\n\n/* eslint-disable react/prop-types */\nfunction axisLineSVG(props, range) {\n\tvar { orient, outerTickSize } = props;\n\tvar { domainClassName, fill, stroke, strokeWidth, opacity } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\n\tvar d;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n\t} else {\n\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n\t}\n\n\treturn (\n\t\t<path\n\t\t\tclassName={domainClassName}\n\t\t\td={d}\n\t\t\tfill={fill}\n\t\t\topacity={opacity}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={strokeWidth} >\n\t\t</path>\n\t);\n}\n/* eslint-enable react/prop-types */\n\n\nfunction drawAxisLine(ctx, props, range) {\n\t// props = { ...AxisLine.defaultProps, ...props };\n\n\tvar { orient, outerTickSize, stroke, strokeWidth, opacity } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.beginPath();\n\n\tif (xAxis) {\n\t\tctx.moveTo(first(range), sign * outerTickSize);\n\t\tctx.lineTo(first(range), 0);\n\t\tctx.lineTo(last(range), 0);\n\t\tctx.lineTo(last(range), sign * outerTickSize);\n\t} else {\n\t\tctx.moveTo(sign * outerTickSize, first(range));\n\t\tctx.lineTo(0, first(range));\n\t\tctx.lineTo(0, last(range));\n\t\tctx.lineTo(sign * outerTickSize, last(range));\n\t}\n\tctx.stroke();\n}\n\nfunction Tick(props) {\n\tvar { transform, tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily } = props;\n\tvar { x, y, x2, y2, dy } = props;\n\treturn (\n\t\t<g className=\"tick\" transform={`translate(${ transform[0] }, ${ transform[1] })`} >\n\t\t\t<line shapeRendering=\"crispEdges\" opacity={tickStrokeOpacity} stroke={tickStroke} x2={x2} y2={y2} />\n\t\t\t<text\n\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\tfill={tickStroke}\n\t\t\t\tfontSize={fontSize}\n\t\t\t\tfontFamily={fontFamily}\n\t\t\t\ttextAnchor={textAnchor}>\n\t\t\t\t{props.children}\n\t\t\t</text>\n\t\t</g>\n\t);\n}\n\nTick.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tx2: PropTypes.number.isRequired,\n\ty2: PropTypes.number.isRequired,\n\tdy: PropTypes.string.isRequired,\n\ttransform: PropTypes.array,\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfontFamily: PropTypes.string,\n};\n\nfunction axisTicksSVG(props, scale) {\n\tvar result = tickHelper(props, scale);\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, tickTransform } = result;\n\tvar { fontSize, fontFamily, ticks, format } = result;\n\n\tvar { dy, x, y, x2, y2 } = result;\n\n\treturn (\n\t\t<g>\n\t\t\t{ticks.map((tick, idx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Tick key={idx} transform={tickTransform(scale, tick)}\n\t\t\t\t\t\ttickStroke={tickStroke} tickStrokeOpacity={tickStrokeOpacity}\n\t\t\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\t\t\tx2={x2} y2={y2} textAnchor={textAnchor}\n\t\t\t\t\t\tfontSize={fontSize} fontFamily={fontFamily}>{format(tick)}</Tick>\n\t\t\t\t);\n\t\t\t})}\n\t\t</g>\n\t);\n}\n\nfunction drawTicks(ctx, result) {\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily, ticks } = result;\n\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\n\n\tctx.font = `${ fontSize }px ${fontFamily}`;\n\tctx.fillStyle = tickStroke;\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\t// ctx.textBaseline = 'middle';\n\n\tticks.forEach((tick) => {\n\t\tdrawEachTick(ctx, tick, result);\n\t});\n}\n\nfunction drawEachTick(ctx, tick, result) {\n\tvar { scale, tickTransform, canvas_dy, x, y, x2, y2, format } = result;\n\n\tvar origin = tickTransform(scale, tick);\n\n\tctx.beginPath();\n\n\tctx.moveTo(origin[0], origin[1]);\n\tctx.lineTo(origin[0] + x2, origin[1] + y2);\n\tctx.stroke();\n\n\tctx.fillText(format(tick), origin[0] + x, origin[1] + y + canvas_dy);\n}\n\nexport default Axis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/Axis.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { first, last, isDefined } from \"../utils\";\nimport { mousePosition, d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\n\nfunction sign(x) {\n\treturn (x > 0) - (x < 0);\n}\n\nclass AxisZoomCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.state = {\n\t\t\tstartPosition: null\n\t\t};\n\t}\n\thandleDragStart(e) {\n\t\tvar { getScale, getMoreProps } = this.props;\n\t\tvar startScale = getScale(getMoreProps());\n\n\t\tif (startScale.invert) {\n\t\t\td3.select(d3Window(this.refs.capture))\n\t\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\t\tvar startXY = mousePosition(e);\n\t\t\tvar leftX = e.pageX - startXY[0],\n\t\t\t\ttopY = e.pageY - startXY[1];\n\n\t\t\tthis.setState({\n\t\t\t\tstartPosition: {\n\t\t\t\t\tstartXY,\n\t\t\t\t\tleftX,\n\t\t\t\t\ttopY,\n\t\t\t\t\tstartScale,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\te.preventDefault();\n\n\t\tvar { startPosition } = this.state;\n\t\tvar { getMouseDelta } = this.props;\n\n\t\tif (isDefined(startPosition)) {\n\t\t\tvar { startScale } = startPosition;\n\t\t\tvar { startXY, leftX, topY } = startPosition;\n\n\t\t\tvar mouseXY = [e.pageX - leftX, e.pageY - topY];\n\n\t\t\tvar diff = getMouseDelta(startXY, mouseXY);\n\n\t\t\tvar center = d3.mean(startScale.range());\n\n\t\t\tvar tempRange = startScale.range()\n\t\t\t\t.map(d => d + sign(d - center) * diff);\n\n\t\t\tvar newDomain = tempRange.map(startScale.invert);\n\n\t\t\tif (sign(last(startScale.range()) - first(startScale.range())) === sign(last(tempRange) - first(tempRange))) {\n\n\t\t\t\tvar { axisZoomCallback } = this.props;\n\t\t\t\t// console.log(startXScale.domain(), newXDomain)\n\t\t\t\taxisZoomCallback(newDomain);\n\t\t\t}\n\t\t}\n\t}\n\thandleDragEnd() {\n\t\td3.select(d3Window(this.refs.capture))\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\t\tthis.setState({\n\t\t\tstartPosition: null,\n\t\t});\n\t}\n\trender() {\n\t\tvar { bg, zoomCursorClassName } = this.props;\n\n\t\tvar cursor = isDefined(this.state.startPosition)\n\t\t\t? zoomCursorClassName\n\t\t\t: \"react-stockcharts-default-cursor\";\n\n\t\treturn <rect\n\t\t\tclassName={`react-stockcharts-enable-interaction ${cursor}`}\n\t\t\tref=\"capture\"\n\t\t\tx={bg.x} y={bg.y} opacity={0} height={bg.h} width={bg.w}\n\t\t\tonMouseDown={this.handleDragStart} />;\n\t}\n}\n\nAxisZoomCapture.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\n\tbg: PropTypes.object.isRequired,\n\tzoomCursorClassName: PropTypes.string.isRequired,\n\tgetMoreProps: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n};\n\nAxisZoomCapture.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nexport default AxisZoomCapture;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/AxisZoomCapture.jsx\n **/","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport Axis from \"./Axis\";\n\nclass YAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newYDomain) {\n\t\tvar { chartId, yAxisZoom } = this.context;\n\t\tyAxisZoom(chartId, newYDomain);\n\t}\n\trender() {\n\t\tvar moreProps = helper(this.props, this.context);\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\tedgeClip\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ns-resize-cursor\" />;\n\t}\n}\n\nYAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"left\", \"right\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\tyZoomWidth: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\n\nYAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-y-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tfill: \"none\",\n\tstroke: \"#FFFFFF\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tyZoomWidth: 40,\n\t// zoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1],\n};\n\nYAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tyAxisZoom: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n};\n\nfunction helper(props, context) {\n\tvar { axisAt, yZoomWidth, orient } = props;\n\tvar { width, height } = context;\n\n\tvar axisLocation, y = 0, w = yZoomWidth, h = height;\n\n\tif (axisAt === \"left\") {\n\t\taxisLocation = 0;\n\t} else if (axisAt === \"right\") {\n\t\taxisLocation = width;\n\t} else if (axisAt === \"middle\") {\n\t\taxisLocation = (width) / 2;\n\t} else {\n\t\taxisLocation = axisAt;\n\t}\n\n\tvar x = (orient === \"left\") ? -yZoomWidth : 0;\n\n\treturn {\n\t\ttransform: [axisLocation, 0],\n\t\trange: [0, height],\n\t\tgetScale: moreProps => moreProps.chartConfig.yScale,\n\t\tbg: { x, y, h, w },\n\t\tzoomEnabled: context.chartConfig.yPan,\n\t};\n}\nexport default YAxis;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/YAxis.jsx\n **/","import MACDTooltip from \"./MACDTooltip\";\n// import TooltipContainer from \"./TooltipContainer\";\nimport OHLCTooltip from \"./OHLCTooltip\";\nimport SingleValueTooltip from \"./SingleValueTooltip\";\nimport MovingAverageTooltip from \"./MovingAverageTooltip\";\nimport BollingerBandTooltip from \"./BollingerBandTooltip\";\nimport RSITooltip from \"./RSITooltip\";\nimport StochasticTooltip from \"./StochasticTooltip\";\nimport HoverTooltip from \"./HoverTooltip\";\n\nexport {\n\tMACDTooltip,\n//\tTooltipContainer,\n\tOHLCTooltip,\n\tSingleValueTooltip,\n\tMovingAverageTooltip,\n\tBollingerBandTooltip,\n\tRSITooltip,\n\tStochasticTooltip,\n\tHoverTooltip\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/index.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass MACDTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\n\t\tvar macdValue = currentItem && yAccessor(currentItem);\n\n\t\tvar macd = (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || \"n/a\";\n\t\tvar signal = (macdValue && macdValue.signal && displayFormat(macdValue.signal)) || \"n/a\";\n\t\tvar divergence = (macdValue && macdValue.divergence && displayFormat(macdValue.divergence)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>MACD (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.slow()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>, </ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.fast()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().macd}>{macd}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Signal (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().signal}>{calculator.signal()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().signal}>{signal}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Divergence: </ToolTipTSpanLabel><tspan fill={calculator.fill().divergence}>{divergence}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nMACDTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMACDTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n};\n\nMACDTooltip.defaultProps = {\n\torigin: [0, 0],\n\tdisplayFormat: d3.format(\".2f\"),\n};\n\nexport default MACDTooltip;\n// export default MACDTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/MACDTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipText extends Component {\n\trender() {\n\t\treturn <text\n\t\t\tfontFamily={this.props.fontFamily}\n\t\t\tfontSize={this.props.fontSize}\n\t\t\t{...this.props}\n\t\t\tclassName=\"react-stockcharts-tooltip\">{this.props.children}</text>;\n\t}\n}\n\nToolTipText.propTypes = {\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nToolTipText.defaultProps = {\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 11,\n};\n\nexport default ToolTipText;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/ToolTipText.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipTSpanLabel extends Component {\n\trender() {\n\t\treturn <tspan className=\"react-stockcharts-tooltip-label\" fill=\"#4682B4\" {...this.props}>{this.props.children}</tspan>;\n\t}\n}\n\nToolTipTSpanLabel.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n\nexport default ToolTipTSpanLabel;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/ToolTipTSpanLabel.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass OHLCTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar { onClick, xDisplayFormat, fontFamily, fontSize, accessor, volumeFormat, ohlcFormat } = this.props;\n\n\t\tvar displayDate, open, high, low, close, volume;\n\n\t\tdisplayDate = open = height = low = close = volume = \"n/a\";\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))\n\t\t\t\t&& isDefined(accessor(currentItem).close)) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\tvolume = volumeFormat(item.volume);\n\n\t\t\tdisplayDate = xDisplayFormat(item.date);\n\t\t\topen = ohlcFormat(item.open);\n\t\t\thigh = ohlcFormat(item.high);\n\t\t\tlow = ohlcFormat(item.low);\n\t\t\tclose = ohlcFormat(item.close);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-toottip-hover ${className}`}\n\t\t\t\ttransform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label\" x={0} dy=\"5\">Date: </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan key=\"value\">{displayDate}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_O\"> O: </ToolTipTSpanLabel><tspan key=\"value_O\">{open}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_H\"> H: </ToolTipTSpanLabel><tspan key=\"value_H\">{high}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_L\"> L: </ToolTipTSpanLabel><tspan key=\"value_L\">{low}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_C\"> C: </ToolTipTSpanLabel><tspan key=\"value_C\">{close}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_Vol\"> Vol: </ToolTipTSpanLabel><tspan key=\"value_Vol\">{volume}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nOHLCTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nOHLCTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\taccessor: PropTypes.func.isRequired,\n\txDisplayFormat: PropTypes.func.isRequired,\n\tohlcFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tvolumeFormat: PropTypes.func,\n};\n\nOHLCTooltip.defaultProps = {\n\taccessor: (d) => { return { date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume }; },\n\txDisplayFormat: d3.time.format(\"%Y-%m-%d\"),\n\tvolumeFormat: d3.format(\".4s\"),\n\tohlcFormat: d3.format(\".2f\"),\n\torigin: [0, 0],\n};\n\nexport default OHLCTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/OHLCTooltip.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\nimport { isDefined, identity, noop } from \"../utils\";\n\nclass SingleValueTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\n\t\tvar { onClick, fontFamily, fontSize, labelStroke, valueStroke } = this.props;\n\t\tvar { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\n\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\n\t\tvar yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelStroke}>{`${xLabel}: `}</ToolTipTSpanLabel> : null}\n\t\t\t\t\t{ xLabel ? <tspan fill={valueStroke}>{`${xDisplayValue} `}</tspan> : null}\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelStroke}>{`${yLabel}: `}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={valueStroke} >{yDisplayValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nSingleValueTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nSingleValueTooltip.propTypes = {\n\txDisplayFormat: PropTypes.func,\n\tyDisplayFormat: PropTypes.func.isRequired,\n\txLabel: PropTypes.string,\n\tyLabel: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n\tlabelStroke: PropTypes.string.isRequired,\n\tvalueStroke: PropTypes.string,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nSingleValueTooltip.defaultProps = {\n\torigin: [0, 0],\n\tlabelStroke: \"#4682B4\",\n\tvalueStroke: \"#000000\",\n\tyDisplayFormat: d3.format(\".2f\"),\n\txAccessor: noop,\n\tyAccessor: identity,\n};\n\nexport default SingleValueTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/SingleValueTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass SingleMAToolTip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick, forChart, options } = this.props;\n\t\tonClick({ chartId: forChart, ...options }, e);\n\t}\n\trender() {\n\t\tvar translate = \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\";\n\t\treturn (\n\t\t\t<g transform={translate}>\n\t\t\t\t<line x1={0} y1={2} x2={0} y2={28} stroke={this.props.color} strokeWidth=\"4px\"/>\n\t\t\t\t<ToolTipText x={5} y={11}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{this.props.displayName}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan x=\"5\" dy=\"15\">{this.props.value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t\t<rect x={0} y={0} width={55} height={30}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tfill=\"none\" stroke=\"none\" />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nSingleMAToolTip.propTypes = {\n\torigin: PropTypes.array.isRequired,\n\tcolor: PropTypes.string.isRequired,\n\tdisplayName: PropTypes.string.isRequired,\n\tvalue: PropTypes.string.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforChart: PropTypes.number.isRequired,\n\toptions: PropTypes.object.isRequired,\n};\n\nclass MovingAverageTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { height, chartId } = this.context;\n\t\tvar { chartConfig, currentItem } = moreProps;\n\n\t\tvar { className, onClick, width, fontFamily, fontSize, origin: originProp, calculators, displayFormat } = this.props;\n\n\t\tvar config = chartConfig;\n\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} className={className}>\n\t\t\t\t{calculators\n\t\t\t\t\t.map((each, idx) => {\n\t\t\t\t\t\tvar yValue = currentItem && each.accessor()(currentItem);\n\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\tmaType: each.type(),\n\t\t\t\t\t\t\tperiod: each.windowSize(),\n\t\t\t\t\t\t\tsourcePath: each.sourcePath(),\n\t\t\t\t\t\t\techo: each.echo()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar yDisplayValue = yValue ? displayFormat(yValue) : \"n/a\";\n\t\t\t\t\t\treturn <SingleMAToolTip\n\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\torigin={[width * idx, 0]}\n\t\t\t\t\t\t\tcolor={each.stroke()}\n\t\t\t\t\t\t\tdisplayName={each.tooltipLabel()}\n\t\t\t\t\t\t\tvalue={yDisplayValue}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tforChart={chartId} onClick={onClick}\n\t\t\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize} />;\n\t\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nMovingAverageTooltip.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\tchartId: PropTypes.number.isRequired,\n};\n\nMovingAverageTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\twidth: PropTypes.number,\n\tcalculators: PropTypes.array.isRequired,\n\tforDataSeries: PropTypes.arrayOf(PropTypes.number),\n};\n\nMovingAverageTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-moving-average-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n\twidth: 65,\n};\n\nexport default MovingAverageTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/MovingAverageTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, displayFormat, calculator } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\t\tvar accessor = calculator.accessor();\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar tooltipLabel = d3.functor(calculator.tooltipLabel());\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\n\t\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{`${ top }, ${ middle }, ${ bottom }`}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nBollingerBandTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforDataSeries: PropTypes.number,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n};\n\nexport default BollingerBandTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/BollingerBandTooltip.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass RSITooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\n\t\tvar rsi = isDefined(currentItem) && yAccessor(currentItem);\n\t\tvar value = (rsi && displayFormat(rsi)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{calculator.tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nRSITooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nRSITooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nRSITooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default RSITooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/RSITooltip.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass StochasticTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat, children } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar stroke = calculator.stroke();\n\t\tvar stochastic = currentItem && yAccessor(currentItem);\n\n\t\tvar K = (stochastic && stochastic.K && displayFormat(stochastic.K)) || \"n/a\";\n\t\tvar D = (stochastic && stochastic.D && displayFormat(stochastic.D)) || \"n/a\";\n\t\tvar label = children || \"Stochastic\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{`${ label } %K(`}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{`${ calculator.windowSize() }, ${ calculator.kWindowSize() }`}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{K}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> %D (</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{calculator.dWindowSize()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{D}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nStochasticTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nStochasticTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nStochasticTooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default StochasticTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/StochasticTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\n\nimport { first, last, isNotDefined, hexToRGBA } from \"../utils\";\n\nclass HoverTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar pointer = helper(this.props, moreProps, this.context);\n\n\t\tif (isNotDefined(pointer)) return null;\n\t\tdrawOnCanvas(ctx, this.props, this.context, pointer);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar pointer = helper(this.props, moreProps, this.context);\n\n\t\tif (isNotDefined(pointer)) return null;\n\n\t\tvar { bgFill, bgOpacity, backgroundShapeSVG } = this.props;\n\t\tvar { height } = this.context;\n\n\t\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<rect x={centerX - drawWidth / 2} y={0} width={drawWidth} height={height} fill={bgFill} opacity={bgOpacity} />\n\t\t\t\t<g className=\"react-stockcharts-tooltip-content\" transform={`translate(${x}, ${y})`}>\n\t\t\t\t\t{backgroundShapeSVG(this.props)}\n\t\t\t\t\t{tooltipSVG(this.props, content)}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nHoverTooltip.propTypes = {\n\tbackgroundShapeSVG: PropTypes.func,\n\tbgwidth: PropTypes.number.isRequired,\n\tbgheight: PropTypes.number.isRequired,\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\ttooltipContent: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.func\n\t]).isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n};\n\nHoverTooltip.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n};\n\nHoverTooltip.defaultProps = {\n\tbgwidth: 150,\n\tbgheight: 50,\n\ttooltipSVG: tooltipSVG,\n\ttooltipCanvas: tooltipCanvas,\n\torigin: origin,\n\tfill: \"#D4E2FD\",\n\tbgFill: \"#D4E2FD\",\n\tbgOpacity: 0.5,\n\tstroke: \"#9B9BFF\",\n\tfontFill: \"#000000\",\n\topacity: 0.8,\n\tbackgroundShapeSVG: backgroundShapeSVG,\n\tbackgroundShapeCanvas: backgroundShapeCanvas,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n};\n\nconst PADDING = 5;\n\n\n/* eslint-disable react/prop-types */\nfunction backgroundShapeSVG({ bgheight, bgwidth, fill, stroke, opacity }) {\n\treturn <rect height={bgheight} width={bgwidth} fill={fill} opacity={opacity} stroke={stroke} />;\n}\n\nfunction tooltipSVG({ fontFamily, fontSize, fontFill }, content) {\n\tvar tspans = [];\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\ttspans.push(<tspan key={`L-${i}`} x={10} dy={fontSize} fill={y.stroke}>{y.label}</tspan>);\n\t\ttspans.push(<tspan key={`${i}`}>: </tspan>);\n\t\ttspans.push(<tspan key={`V-${i}`}>{y.value}</tspan>);\n\t}\n\treturn <text fontFamily={fontFamily} fontSize={fontSize} fill={fontFill}>\n\t\t<tspan x={10} y={15}>{content.x}</tspan>\n\t\t{tspans}\n\t</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction backgroundShapeCanvas({ bgheight, bgwidth, fill, stroke, opacity }, ctx) {\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.strokeStyle = stroke;\n\tctx.beginPath();\n\tctx.rect(0, 0, bgwidth, bgheight);\n\tctx.fill();\n\tctx.stroke();\n}\n\nfunction tooltipCanvas({ fontFamily, fontSize, fontFill }, content, ctx) {\n\tctx.font = `${fontSize}px ${fontFamily}`;\n\tctx.fillStyle = fontFill;\n\tctx.textAlign = \"left\";\n\n\tconst X = 10;\n\tconst Y = 15;\n\tctx.fillText(content.x, X, Y);\n\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\tlet textY = Y + (fontSize * (i + 1));\n\t\tctx.fillStyle = y.stroke || fontFill;\n\t\tctx.fillText(y.label, X, textY);\n\n\t\tctx.fillStyle = fontFill;\n\t\tctx.fillText(\": \" + y.value, X + ctx.measureText(y.label).width, textY);\n\t}\n}\n\nfunction origin(mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale) {\n\tvar y = last(mouseXY);\n\n\tvar snapX = xScale(xAccessor(currentItem));\n\tvar originX = (snapX - bgwidth - PADDING * 2 < 0) ? snapX + PADDING : snapX - bgwidth - PADDING;\n\t// originX = (x - width - PADDING * 2 < 0) ? x + PADDING : x - width - PADDING;\n\n\tvar originY = y - bgheight / 2;\n\treturn [originX, originY];\n}\n\nfunction drawOnCanvas(ctx, props, context, pointer) {\n\n\tvar { height, margin } = context;\n\tvar { bgFill, bgOpacity } = props;\n\tvar { backgroundShapeCanvas, tooltipCanvas } = props;\n\n\tvar originX = 0.5 + margin.left;\n\tvar originY = 0.5 + margin.top;\n\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(originX, originY);\n\n\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\tctx.fillStyle = hexToRGBA(bgFill, bgOpacity);\n\tctx.beginPath();\n\tctx.rect(centerX - drawWidth / 2, 0, drawWidth, height);\n\tctx.fill();\n\n\tctx.translate(x, y);\n\tbackgroundShapeCanvas(props, ctx);\n\ttooltipCanvas(props, content, ctx);\n\n\tctx.restore();\n}\n\nfunction helper(props, moreProps, context) {\n\tvar { show, xScale, mouseXY, currentItem, plotData } = moreProps;\n\tvar { bgheight, bgwidth, origin, tooltipContent } = props;\n\tvar { xAccessor, displayXAccessor } = context;\n\n\tif (!show || isNotDefined(currentItem)) return;\n\n\tvar xValue = xAccessor(currentItem);\n\n\tif (!show || isNotDefined(xValue)) return;\n\n\tvar [x, y] = origin(mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale);\n\n\tvar content = tooltipContent({ currentItem, xAccessor: displayXAccessor });\n\tvar centerX = xScale(xValue);\n\tvar drawWidth = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData)))) / (plotData.length - 1);\n\n\treturn { x, y, content, centerX, drawWidth };\n}\n\nexport default HoverTooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/HoverTooltip.jsx\n **/","\nimport TypeChooser from \"./TypeChooser\";\nimport ChartWidthMixin from \"./ChartWidthMixin\";\nimport SaveChartAsImage from \"./SaveChartAsImage\";\nimport fitWidth from \"./fitWidth\";\n\nexport {\n\tTypeChooser,\n\tChartWidthMixin,\n\tSaveChartAsImage,\n\tfitWidth\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass TypeChooser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttype: this.props.type\n\t\t};\n\t\tthis.handleTypeChange = this.handleTypeChange.bind(this);\n\t}\n\thandleTypeChange(e) {\n\t\t// console.log(e.target.value);\n\t\tthis.setState({\n\t\t\ttype: e.target.value\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<label forHtml=\"type\">Type: </label>\n\t\t\t\t<select name=\"type\" id=\"type\" onChange={this.handleTypeChange} value={this.state.type} >\n\t\t\t\t\t<option value=\"svg\">svg</option>\n\t\t\t\t\t<option value=\"hybrid\">canvas + svg</option>\n\t\t\t\t</select>\n\t\t\t\t{this.props.children(this.state.type)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTypeChooser.propTypes = {\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]),\n\tchildren: PropTypes.func.isRequired,\n};\n\nTypeChooser.defaultProps = {\n\ttype: \"hybrid\"\n};\n\nexport default TypeChooser;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/TypeChooser.jsx\n **/","\"use strict\";\n\nimport ReactDOM from \"react-dom\";\n\nvar ChartWidthMixin = {\n\thandleWindowResize() {\n\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t// console.log(this.refs, el, this);\n\n\t\tvar w = el.parentNode.clientWidth;\n\t\t// console.log(\"width = \", w);\n\t\tthis.setState({\n\t\t\twidth: w\n\t\t});\n\t},\n\tcomponentWillUnmount() {\n\t\t// console.log(\"unmounting...\")\n\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t},\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t// console.log(this.refs, el);\n\t\tvar w = el.parentNode.clientWidth;\n\n\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\tthis.setState({\n\t\t\twidth: w\n\t\t});\n\t\t/* eslint-enable react/no-did-mount-set-state */\n\t},\n};\n\nexport default ChartWidthMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/ChartWidthMixin.jsx\n **/","\"use strict\";\n\nimport saveAsPng from \"save-svg-as-png\";\nimport { isDefined } from \"../utils\";\n\nvar SaveChartAsImage = {\n\tsave(doc, container, background, cb) {\n\t\tsaveAsPng.svgAsDataUri(container.getElementsByTagName(\"svg\")[0], {}, function(uri) {\n\t\t\tvar image = new Image();\n\t\t\timage.onload = function() {\n\t\t\t\tvar canvas = doc.createElement(\"canvas\");\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\t\t\t\tvar context = canvas.getContext(\"2d\");\n\n\t\t\t\tif (isDefined(background)) {\n\t\t\t\t\tcontext.fillStyle = background;\n\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t}\n\t\t\t\tvar canvasList = container.getElementsByTagName(\"canvas\");\n\t\t\t\tfor (var i = 0; i < canvasList.length; i++) {\n\t\t\t\t\tvar each = canvasList[i];\n\t\t\t\t\tif (isDefined(each)) {\n\t\t\t\t\t\tvar parent = each.parentNode.parentNode.getBoundingClientRect();\n\t\t\t\t\t\tvar rect = each.getBoundingClientRect();\n\t\t\t\t\t\tcontext.drawImage(each, rect.left - parent.left, rect.top - parent.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.drawImage(image, 0, 0);\n\t\t\t\tcb(canvas.toDataURL(\"image/png\"));\n\t\t\t};\n\t\t\timage.src = uri;\n\t\t});\n\t},\n\tsaveWithWhiteBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"white\", cb);\n\t},\n\tsaveWithDarkBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"#303030\", cb);\n\t},\n\tsaveWithBG(doc, container, background, cb) {\n\t\treturn this.save(doc, container, background, cb);\n\t},\n\tsaveChartAsImage(container) {\n\t\tthis.saveWithWhiteBG(document, container, function(src) {\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\ta.setAttribute(\"href\", src);\n\t\t\ta.setAttribute(\"download\", \"Chart.png\");\n\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.addEventListener(\"click\", function(/* e */) {\n\t\t\t\ta.parentNode.removeChild(a);\n\t\t\t});\n\n\t\t\ta.click();\n\t\t});\n\t}\n};\n\nexport default SaveChartAsImage;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/SaveChartAsImage.js\n **/","(function() {\n  var out$ = typeof exports != 'undefined' && exports || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">';\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    var images = el.querySelectorAll('image');\n    var left = images.length;\n    if (left == 0) {\n      callback();\n    }\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        href = href || image.getAttribute('href');\n        img.src = href;\n        img.onload = function() {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n          left--;\n          if (left == 0) {\n            callback();\n          }\n        }\n        img.onerror = function() {\n          console.log(\"Could not load \"+href);\n          left--;\n          if (left == 0) {\n            callback();\n          }\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, selectorRemap) {\n    var css = \"\";\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0; j < rules.length; j++) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var match = null;\n            try {\n              match = el.querySelector(rule.selectorText);\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + rule.selectorText + '\"', err);\n            }\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              css += selector + \" { \" + rule.style.cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              css += rule.cssText + '\\n';\n            }\n          }\n        }\n      }\n    }\n    return css;\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    options = options || {};\n    options.scale = options.scale || 1;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      clone.setAttribute(\"width\", width * options.scale);\n      clone.setAttribute(\"height\", height * options.scale);\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      outer.appendChild(clone);\n\n      var css = styles(el, options.selectorRemap);\n      var s = document.createElement('style');\n      s.setAttribute('type', 'text/css');\n      s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n      var defs = document.createElement('defs');\n      defs.appendChild(s);\n      clone.insertBefore(defs, clone.firstChild);\n\n      var svg = doctype + outer.innerHTML;\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    out$.svgAsDataUri(el, options, function(uri) {\n      var image = new Image();\n      image.onload = function() {\n        var canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        if(options && options.backgroundColor){\n          context.fillStyle = options.backgroundColor;\n          context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        var a = document.createElement('a'), png;\n        try {\n          png = canvas.toDataURL('image/png');\n        } catch (e) {\n          if (e instanceof SecurityError) {\n            console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n            return;\n          } else {\n            throw e;\n          }\n        }\n        cb(png);\n      }\n      image.src = uri;\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      var a = document.createElement('a');\n      a.download = name;\n      a.href = uri;\n      document.body.appendChild(a);\n      a.addEventListener(\"click\", function(e) {\n        a.parentNode.removeChild(a);\n      });\n      a.click();\n    });\n  }\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/save-svg-as-png/saveSvgAsPng.js\n ** module id = 120\n ** module chunks = 0 2\n **/","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nexport default function fitWidth(WrappedComponent, withRef = true) {\n\tclass ResponsiveComponent extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.handleWindowResize = this.handleWindowResize.bind(this);\n\t\t\tthis.getWrappedInstance = this.getWrappedInstance.bind(this);\n\t\t}\n\t\tcomponentDidMount() {\n\t\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t\tvar w = el.parentNode.clientWidth;\n\n\t\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t\t/* eslint-enable react/no-did-mount-set-state */\n\t\t}\n\t\tcomponentWillUnmount() {\n\t\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t\t}\n\t\thandleWindowResize() {\n\t\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t\tvar w = el.parentNode.clientWidth;\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t}\n\t\tgetWrappedInstance() {\n\t\t\treturn this.refs.component;\n\t\t}\n\t\trender() {\n\t\t\tvar ref = withRef ? { ref: \"component\" } : {};\n\n\t\t\tif (this.state && this.state.width) {\n\t\t\t\treturn <WrappedComponent width={this.state.width} {...this.props} {...ref} />;\n\t\t\t} else {\n\t\t\t\treturn <div />;\n\t\t\t}\n\t\t}\n\t}\n\n\tResponsiveComponent.displayName = `fitWidth(${ getDisplayName(WrappedComponent) })`;\n\n\treturn ResponsiveComponent;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/fitWidth.jsx\n **/","import TrendLine from \"./TrendLine\";\nimport FibonacciRetracement from \"./FibonacciRetracement\";\nimport ClickCallback from \"./ClickCallback\";\nimport Brush from \"./Brush\";\n\nexport {\n\tTrendLine,\n\tFibonacciRetracement,\n\tClickCallback,\n\tBrush,\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { isDefined, isNotDefined, noop } from \"../utils\";\n\nimport { getValueFromOverride } from \"./utils\";\n\nimport InteractiveLine from \"./InteractiveLine\";\nimport MouseLocationIndicator from \"./MouseLocationIndicator\";\n\n\nclass TrendLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawLine = this.handleDrawLine.bind(this);\n\t\tthis.handleDragLine = this.handleDragLine.bind(this);\n\t\tthis.handleDragLineComplete = this.handleDragLineComplete.bind(this);\n\n\t\tthis.state = this.props.init;\n\t}\n\tremoveLast() {\n\t\tvar { trends } = this.state;\n\t\tif (isDefined(trends) && trends.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\ttrends: trends.slice(0, trends.length - 1),\n\t\t\t});\n\t\t}\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tcurrent: null,\n\t\t\toverride: null,\n\t\t});\n\t}\n\thandleDragLine(index, newXYValue) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\t...newXYValue\n\t\t\t}\n\t\t});\n\t}\n\thandleDragLineComplete() {\n\t\tvar { trends, override } = this.state;\n\t\tvar newTrends = trends\n\t\t\t.map((each, idx) => idx === override.index\n\t\t\t\t? {\n\t\t\t\t\tstart: [override.x1Value, override.y1Value],\n\t\t\t\t\tend: [override.x2Value, override.y2Value],\n\t\t\t\t}\n\t\t\t\t: each);\n\t\tthis.setState({\n\t\t\ttrends: newTrends,\n\t\t\toverride: null\n\t\t});\n\t}\n\thandleDrawLine(xyValue) {\n\t\tvar { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: current.start,\n\t\t\t\t\tend: xyValue,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleStartAndEnd(xyValue) {\n\t\tvar { current, trends } = this.state;\n\n\t\tif (isNotDefined(current) || isNotDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: xyValue,\n\t\t\t\t\tend: null,\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tthis.props.onStart();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttrends: trends.concat({ start: current.start, end: xyValue }),\n\t\t\t\tcurrent: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onComplete();\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { stroke, opacity, strokeWidth } = this.props;\n\t\tvar { enabled, snap, shouldDisableSnap, snapTo, type } = this.props;\n\t\tvar { currentPositionRadius, currentPositionStroke } = this.props;\n\t\tvar { currentPositionOpacity, currentPositionStrokeWidth } = this.props;\n\t\tvar { trends, current, override } = this.state;\n\n\t\tvar tempLine = isDefined(current) && isDefined(current.end)\n\t\t\t? <InteractiveLine type={type}\n\t\t\t\t\tx1Value={current.start[0]} y1Value={current.start[1]}\n\t\t\t\t\tx2Value={current.end[0]} y2Value={current.end[1]}\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity} />\n\t\t\t: null;\n\n\t\treturn <g>\n\t\t\t{trends.map((each, idx) =>\n\t\t\t\t<InteractiveLine key={idx} withEdge\n\t\t\t\t\techo={idx} type={type}\n\t\t\t\t\tdefaultClassName=\"react-stockcharts-enable-interaction react-stockcharts-move-cursor\"\n\t\t\t\t\tx1Value={getValueFromOverride(override, idx, \"x1Value\", each.start[0])}\n\t\t\t\t\ty1Value={getValueFromOverride(override, idx, \"y1Value\", each.start[1])}\n\t\t\t\t\tx2Value={getValueFromOverride(override, idx, \"x2Value\", each.end[0])}\n\t\t\t\t\ty2Value={getValueFromOverride(override, idx, \"y2Value\", each.end[1])}\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}\n\t\t\t\t\tonDrag={this.handleDragLine}\n\t\t\t\t\tonEdge1Drag={this.handleDragLine}\n\t\t\t\t\tonEdge2Drag={this.handleDragLine}\n\t\t\t\t\tonDragComplete={this.handleDragLineComplete}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t{tempLine}\n\t\t\t<MouseLocationIndicator\n\t\t\t\tenabled={enabled}\n\t\t\t\tsnap={snap}\n\t\t\t\tshouldDisableSnap={shouldDisableSnap}\n\t\t\t\tsnapTo={snapTo}\n\t\t\t\tr={currentPositionRadius}\n\t\t\t\tstroke={currentPositionStroke}\n\t\t\t\topacity={currentPositionOpacity}\n\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawLine} />\n\t\t</g>;\n\t}\n}\n\n\nTrendLine.propTypes = {\n\tsnap: PropTypes.bool.isRequired,\n\tshow: PropTypes.bool,\n\tenabled: PropTypes.bool.isRequired,\n\tsnapTo: PropTypes.func,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonComplete: PropTypes.func.isRequired,\n\tinteractive: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tcurrentPositionStroke: PropTypes.string,\n\tcurrentPositionStrokeWidth: PropTypes.number,\n\tcurrentPositionOpacity: PropTypes.number,\n\tcurrentPositionRadius: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]),\n\tendPointCircleFill: PropTypes.string,\n\tendPointCircleRadius: PropTypes.number,\n\tinit: PropTypes.object.isRequired,\n};\n\nTrendLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nTrendLine.defaultProps = {\n\tstroke: \"#000000\",\n\ttype: \"XLINE\",\n\topacity: 0.7,\n\tstrokeWidth: 2,\n\tonStart: noop,\n\tonComplete: noop,\n\tshouldDisableSnap: e => (e.button === 2 || e.shiftKey),\n\tcurrentPositionStroke: \"#000000\",\n\tcurrentPositionOpacity: 1,\n\tcurrentPositionStrokeWidth: 3,\n\tcurrentPositionRadius: 4,\n\tendPointCircleFill: \"#000000\",\n\tendPointCircleRadius: 5,\n\tinit: { trends: [] },\n};\n\nexport default TrendLine;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/TrendLine.jsx\n **/","import { isDefined } from \"../utils\";\n\nexport function getValueFromOverride(override, index, key, defaultValue) {\n\tif (isDefined(override) && override.index === index)\n\t\treturn override[key];\n\treturn defaultValue;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/utils.js\n **/","import React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\nimport { head, last, noop } from \"../utils\";\nimport { getCurrentItem } from \"../utils/ChartDataUtil\";\n\nclass InteractiveLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\n\t\tthis.handleEdgeDrag1 = this.handleEdgeDrag1.bind(this);\n\t\tthis.handleEdgeDrag2 = this.handleEdgeDrag2.bind(this);\n\t\tthis.handleEdgeDragEnd = this.handleEdgeDragEnd.bind(this);\n\t}\n\thandleMouseDown(e) {\n\t\te.preventDefault();\n\n\t\tvar win = d3Window(this.refs.component.getRef(\"capture\"));\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\tvar mouseXY = [e.pageX, e.pageY];\n\n\t\tvar { x1Value, x2Value, y1Value, y2Value } = this.props;\n\n\t\tthis.moveStartPosition = {\n\t\t\tmouseXY,\n\t\t\tx1Value, x2Value, y1Value, y2Value\n\t\t};\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { mouseXY, x1Value, x2Value, y1Value, y2Value } = this.moveStartPosition;\n\t\tvar x1 = xScale(x1Value);\n\t\tvar y1 = yScale(y1Value);\n\t\tvar x2 = xScale(x2Value);\n\t\tvar y2 = yScale(y2Value);\n\n\t\tvar newPos = [e.pageX, e.pageY];\n\n\t\tvar dx = mouseXY[0] - newPos[0];\n\t\tvar dy = mouseXY[1] - newPos[1];\n\n\t\tvar newX1Value = xAccessor(getCurrentItem(xScale, xAccessor, [x1 - dx, y1 - dy], plotData));\n\t\tvar newY1Value = yScale.invert(y1 - dy);\n\t\tvar newX2Value = xAccessor(getCurrentItem(xScale, xAccessor, [x2 - dx, y2 - dy], plotData));\n\t\tvar newY2Value = yScale.invert(y2 - dy);\n\n\t\tthis.props.onDrag(this.props.echo, {\n\t\t\tx1Value: newX1Value,\n\t\t\ty1Value: newY1Value,\n\t\t\tx2Value: newX2Value,\n\t\t\ty2Value: newY2Value,\n\t\t\tdx, dy\n\t\t}, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, e);\n\t}\n\thandleDragEnd() {\n\t\tvar e = d3.event;\n\t\tthis.moveStartPosition = null;\n\n\t\tvar win = d3Window(this.refs.component.getRef(\"capture\"));\n\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.props.onDragComplete(this.props.echo, e);\n\t}\n\thandleEdgeDrag1(edge, origEdge, e) {\n\t\tvar [newCX, newCY] = edge;\n\t\tvar [cx, cy] = origEdge;\n\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { x2Value, y2Value } = this.props;\n\n\t\tvar newXValue = xAccessor(getCurrentItem(xScale, xAccessor, [newCX, newCY], plotData));\n\t\tvar newYValue = yScale.invert(newCY);\n\t\tvar oldXValue = xAccessor(getCurrentItem(xScale, xAccessor, [cx, cy], plotData));\n\t\tvar oldYValue = yScale.invert(cy);\n\n\t\tthis.props.onEdge1Drag(this.props.echo, {\n\t\t\tx1Value: newXValue,\n\t\t\ty1Value: newYValue,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, {\n\t\t\tx1Value: oldXValue,\n\t\t\ty1Value: oldYValue,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, e);\n\t}\n\thandleEdgeDrag2(edge, origEdge, e) {\n\t\tvar [newCX, newCY] = edge;\n\t\tvar [cx, cy] = origEdge;\n\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { x1Value, y1Value } = this.props;\n\n\t\tvar newXValue = xAccessor(getCurrentItem(xScale, xAccessor, [newCX, newCY], plotData));\n\t\tvar newYValue = yScale.invert(newCY);\n\t\tvar oldXValue = xAccessor(getCurrentItem(xScale, xAccessor, [cx, cy], plotData));\n\t\tvar oldYValue = yScale.invert(cy);\n\n\t\tthis.props.onEdge2Drag(this.props.echo, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value: newXValue,\n\t\t\ty2Value: newYValue,\n\t\t}, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value: oldXValue,\n\t\t\ty2Value: oldYValue,\n\t\t}, e);\n\t}\n\thandleEdgeDragEnd(e) {\n\t\tthis.props.onDragComplete(this.props.echo, e);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { x1Value, x2Value, y1Value, y2Value, withEdge, type } = this.props;\n\t\tvar { defaultClassName, stroke, strokeWidth, opacity } = this.props;\n\t\tvar { r, edgeFill, edgeStroke, edgeStrokeWidth, children } = this.props;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar modLine = generateLine(type,\n\t\t\t[x1Value, y1Value],\n\t\t\t[x2Value, y2Value], xAccessor, plotData);\n\n\t\tvar x1 = xScale(modLine.x1);\n\t\tvar y1 = yScale(modLine.y1);\n\t\tvar x2 = xScale(modLine.x2);\n\t\tvar y2 = yScale(modLine.y2);\n\t\tvar childrenToRender = children(moreProps, this.props, modLine);\n\n\t\treturn <g ref=\"capture\">\n\t\t\t<line\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\t\topacity={opacity} />\n\t\t\t<line className={defaultClassName}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\tstroke={stroke} strokeWidth={8} opacity={0} />\n\t\t\t{withEdge ? <ClickableCircle className={defaultClassName}\n\t\t\t\tonDrag={this.handleEdgeDrag1}\n\t\t\t\tonDragComplete={this.handleEdgeDragEnd}\n\t\t\t\tcx={x1} cy={y1} r={r}\n\t\t\t\tfill={edgeFill} stroke={edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\thoverOpacity={1} /> : null }\n\t\t\t{withEdge ? <ClickableCircle className={defaultClassName}\n\t\t\t\tonDrag={this.handleEdgeDrag2}\n\t\t\t\tonDragComplete={this.handleEdgeDragEnd}\n\t\t\t\tcx={x2} cy={y2} r={r}\n\t\t\t\tfill={edgeFill} stroke={edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\thoverOpacity={1} /> : null }\n\t\t\t{childrenToRender}\n\t\t</g>;\n\n\t}\n\trender() {\n\t\t// console.log(\"FOO\")\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nfunction generateLine(type, start, end, xAccessor, plotData) {\n\t/* if (end[0] - start[0] === 0) {\n\t\t// vertical line\n\t\tthrow new Error(\"Trendline cannot be a vertical line\")\n\t} */\n\tvar m /* slope */ = end[0] === start[0] ? 0 : (end[1] - start[1]) / (end[0] - start[0]);\n\t// console.log(end[0] - start[0], m)\n\tvar b /* y intercept */ = -1 * m * end[0] + end[1];\n\t// y = m * x + b\n\tvar x1 = type === \"XLINE\"\n\t\t? xAccessor(head(plotData))\n\t\t: start[0]; // RAY or LINE start is the same\n\n\tvar y1 = m * x1 + b;\n\n\tvar x2 = type === \"XLINE\"\n\t\t? xAccessor(last(plotData))\n\t\t: type === \"RAY\"\n\t\t\t? end[0] > start[0] ? xAccessor(last(plotData)) : xAccessor(head(plotData))\n\t\t\t: end[0];\n\tvar y2 = m * x2 + b;\n\treturn { x1, y1, x2, y2 };\n}\n\nInteractiveLine.propTypes = {\n\tx1Value: PropTypes.any.isRequired,\n\tx2Value: PropTypes.any.isRequired,\n\ty1Value: PropTypes.any.isRequired,\n\ty2Value: PropTypes.any.isRequired,\n\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]).isRequired,\n\tonDrag: PropTypes.func.isRequired,\n\tonEdge1Drag: PropTypes.func.isRequired,\n\tonEdge2Drag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tedgeFill: PropTypes.string.isRequired,\n\tdefaultClassName: PropTypes.string,\n\techo: PropTypes.any,\n\tedgeStroke: PropTypes.string.isRequired,\n\tedgeStrokeWidth: PropTypes.number.isRequired,\n\twithEdge: PropTypes.bool.isRequired,\n\tchildren: PropTypes.func.isRequired,\n};\n\nInteractiveLine.defaultProps = {\n\tonDrag: noop,\n\tonEdge1Drag: noop,\n\tonEdge2Drag: noop,\n\tonDragComplete: noop,\n\tedgeStrokeWidth: 3,\n\tedgeStroke: \"#000000\",\n\tedgeFill: \"#FFFFFF\",\n\tr: 10,\n\twithEdge: false,\n\tstrokeWidth: 1,\n\tchildren: noop,\n};\n\nInteractiveLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nclass ClickableCircle extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t};\n\t}\n\thandleMouseEnter() {\n\t\tthis.setState({\n\t\t\thover: true,\n\t\t});\n\t}\n\thandleMouseLeave() {\n\t\tthis.setState({\n\t\t\thover: false,\n\t\t});\n\t}\n\thandleMouseDown(e) {\n\t\te.preventDefault();\n\n\t\tvar win = d3Window(this.refs.edge);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\tvar mouseXY = [e.pageX, e.pageY];\n\n\t\tvar { cx, cy } = this.props;\n\n\t\tthis.moveStartPosition = {\n\t\t\tmouseXY,\n\t\t\tcx, cy,\n\t\t};\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\tvar newPos = [e.pageX, e.pageY];\n\n\t\tvar { mouseXY, cx, cy } = this.moveStartPosition;\n\n\t\tvar dx = mouseXY[0] - newPos[0];\n\t\tvar dy = mouseXY[1] - newPos[1];\n\n\t\tvar newCX = cx - dx;\n\t\tvar newCY = cy - dy;\n\n\t\tthis.props.onDrag([newCX, newCY], [cx, cy], e);\n\t}\n\thandleDragEnd() {\n\t\tvar e = d3.event;\n\t\tthis.moveStartPosition = null;\n\n\t\tvar win = d3Window(this.refs.edge);\n\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.props.onDragComplete(e);\n\t}\n\trender() {\n\t\tvar { className, cx, cy, r, fill, stroke, strokeWidth, hoverOpacity } = this.props;\n\t\tvar opacity = this.state.hover ? hoverOpacity : 0;\n\t\treturn <circle ref=\"edge\" className={className}\n\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tcx={cx} cy={cy} r={r}\n\t\t\t\tfill={fill} stroke={stroke}\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\topacity={opacity} />;\n\t}\n}\n\nClickableCircle.propTypes = {\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\thoverOpacity: PropTypes.number.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tr: PropTypes.number.isRequired,\n\tcx: PropTypes.number.isRequired,\n\tcy: PropTypes.number.isRequired,\n\tclassName: PropTypes.string.isRequired,\n};\n\n\nClickableCircle.defaultProps = {\n\tonDrag: noop,\n\tonDragComplete: noop,\n};\n\n\nexport default InteractiveLine;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/InteractiveLine.jsx\n **/","import React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, getClosestValue } from \"../utils\";\nimport { noop, shallowEqual } from \"../utils\";\n// import { getCurrentCharts } from \"../utils/ChartDataUtil\";\n\nclass MouseLocationIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\n\t\tthis.handleMousePosChange = this.handleMousePosChange.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.xy = this.xy.bind(this);\n\n\t\tthis.mutableState = {};\n\t}\n\thandleMouseDown(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onMouseDown([xValue, yValue], e);\n\t\t}\n\t}\n\thandleClick(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onClick([xValue, yValue], e);\n\t\t}\n\t}\n\txy(moreProps, e) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { mouseXY, currentItem, xScale, chartConfig: { yScale } } = moreProps;\n\t\tvar { enabled, snap, shouldDisableSnap, snapTo } = this.props;\n\n\t\tif (enabled && isDefined(currentItem) && isDefined(e)) {\n\n\t\t\tvar xValue = xAccessor(currentItem);\n\t\t\tvar yValue = snap && !shouldDisableSnap(e)\n\t\t\t\t? getClosestValue(snapTo(currentItem), yScale.invert(mouseXY[1]))\n\t\t\t\t: yScale.invert(mouseXY[1]);\n\n\t\t\tvar x = xScale(xValue);\n\t\t\tvar y = yScale(yValue);\n\n\t\t\treturn { xValue, yValue, x, y };\n\t\t}\n\t}\n\thandleMousePosChange(e) {\n\t\t// var { idx, onMouseEnter } = this.props;\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar prevMoreProps = this.refs.component.getPrevMoreProps();\n\n\t\tif (!shallowEqual(moreProps.mousXY, prevMoreProps.mouseXY)) {\n\t\t\tvar pos = this.xy(moreProps, e);\n\t\t\t// console.log(\"HERE11\", pos)\n\t\t\tif (isDefined(pos)) {\n\t\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\t\tthis.mutableState = { x, y };\n\t\t\t\tthis.props.onMouseMove([xValue, yValue], e);\n\t\t\t}\n\t\t}\n\t\t// console.log(this.refs.component.getRef(\"capture\"))\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { enabled, r, stroke, strokeWidth, opacity } = this.props;\n\t\tvar { x, y } = this.mutableState;\n\t\tvar { show } = moreProps;\n\t\t// console.log(\"HERE\")\n\n\t\t// console.log(stroke, strokeWidth, opacity)\n\t\treturn enabled && show && isDefined(x)\n\t\t\t? <circle ref=\"capture\"\n\t\t\t\tclassName=\"react-stockcharts-avoid-interaction\"\n\t\t\t\tcx={x}\n\t\t\t\tcy={y}\n\t\t\t\tr={r}\n\t\t\t\tstroke={stroke}\n\t\t\t\topacity={opacity}\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth} />\n\t\t\t: null;\n\n\t}\n\trender() {\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tonMouseMove={this.handleMousePosChange}\n\t\t\tisHover={d3.functor(true)}\n\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseLocationIndicator.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tsnap: PropTypes.bool.isRequired,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tsnapTo: PropTypes.func,\n\n\tonMouseMove: PropTypes.func.isRequired,\n\tonMouseDown: PropTypes.func.isRequired,\n\tonClick: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n};\n\nMouseLocationIndicator.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nMouseLocationIndicator.defaultProps = {\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n\tonClick: noop,\n\tshouldDisableSnap: d3.functor(false),\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n};\n\nexport default MouseLocationIndicator;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/MouseLocationIndicator.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { isDefined, isNotDefined, head, last, noop } from \"../utils\";\n\nimport InteractiveLine from \"./InteractiveLine\";\nimport MouseLocationIndicator from \"./MouseLocationIndicator\";\n\nclass FibonacciRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawRetracement = this.handleDrawRetracement.bind(this);\n\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\n\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.state = this.props.init;\n\t}\n\tremoveLast() {\n\t\tvar { retracements } = this.state;\n\t\tif (isDefined(retracements) && retracements.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\tretracements: retracements.slice(0, retracements.length - 1),\n\t\t\t});\n\t\t}\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tcurrent: null,\n\t\t\toverride: null,\n\t\t});\n\t}\n\thandleStartAndEnd(xyValue) {\n\t\tvar { current, retracements } = this.state;\n\n\t\tif (isNotDefined(current) || isNotDefined(current.x1)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tx1: xyValue[0],\n\t\t\t\t\ty1: xyValue[1],\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tthis.props.onStart();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tretracements: retracements.concat({ ...current, x2: xyValue[0], y2: xyValue[1] }),\n\t\t\t\tcurrent: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onComplete();\n\t\t\t});\n\t\t}\n\t}\n\thandleDrawRetracement(xyValue) {\n\t\tvar { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.x1)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\t...current,\n\t\t\t\t\tx2: xyValue[0],\n\t\t\t\t\ty2: xyValue[1],\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDrag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\t\tvar dy = origXYValue.y1Value - newXYValue.y1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: newXYValue.x1Value,\n\t\t\t\ty1: retracements[index].y1 - dy,\n\t\t\t\tx2: newXYValue.x2Value,\n\t\t\t\ty2: retracements[index].y2 - dy,\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge1Drag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\n\t\tvar dx = origXYValue.x1Value - newXYValue.x1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1 - dx,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2,\n\t\t\t\ty2: retracements[index].y2,\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge2Drag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\n\t\tvar dx = origXYValue.x2Value - newXYValue.x2Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2 - dx,\n\t\t\t\ty2: retracements[index].y2,\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete() {\n\t\tvar { retracements, override } = this.state;\n\n\t\tif (isDefined(override)) {\n\t\t\tvar { index, ...rest } = override;\n\n\t\t\tvar newRetracements = retracements\n\t\t\t\t.map((each, idx) => idx === index\n\t\t\t\t\t? rest\n\t\t\t\t\t: each);\n\n\t\t\tthis.setState({\n\t\t\t\toverride: null,\n\t\t\t\tretracements: newRetracements\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { retracements, current, override } = this.state;\n\t\tvar { stroke, strokeWidth, opacity, fontFamily, fontSize, fontStroke, type } = this.props;\n\n\t\tvar lineType = type === \"EXTEND\" ? \"XLINE\" : \"LINE\";\n\n\t\tvar { enabled } = this.props;\n\n\t\tvar currentRetracement = null;\n\t\tif (isDefined(current) && isDefined(current.x2)) {\n\t\t\tvar lines = helper(current);\n\t\t\tvar dir = head(lines).y1 > last(lines).y1 ? 3 : -1.3;\n\n\t\t\tcurrentRetracement = lines.map((line, idx) => {\n\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\treturn <InteractiveLine key={idx}\n\t\t\t\t\ttype={lineType}\n\t\t\t\t\tx1Value={line.x1}\n\t\t\t\t\ty1Value={line.y}\n\t\t\t\t\tx2Value={line.x2}\n\t\t\t\t\ty2Value={line.y}\n\n\t\t\t\t\tchildProps={{ dir, text, fontFamily, fontSize, fontStroke }}\n\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}>\n\t\t\t\t\t{retracementText}\n\t\t\t\t</InteractiveLine>;\n\t\t\t});\n\t\t}\n\n\t\treturn <g>\n\t\t\t{retracements.map((each, idx) => {\n\t\t\t\tvar lines = helper(isDefined(override) && override.index === idx ? override : each);\n\n\t\t\t\tvar dir = head(lines).y1 > last(lines).y1 ? 3 : -1.3;\n\t\t\t\treturn lines.map((line, j) => {\n\t\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\t\treturn <InteractiveLine key={`${idx}-${j}`} withEdge\n\t\t\t\t\t\techo={{ index: idx, idx: j }} type={lineType}\n\t\t\t\t\t\tdefaultClassName=\"react-stockcharts-enable-interaction react-stockcharts-move-cursor\"\n\t\t\t\t\t\tx1Value={line.x1}\n\t\t\t\t\t\ty1Value={line.y}\n\t\t\t\t\t\tx2Value={line.x2}\n\t\t\t\t\t\ty2Value={line.y}\n\n\t\t\t\t\t\tchildProps={{ dir, text, fontFamily, fontSize, fontStroke }}\n\n\t\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}\n\t\t\t\t\t\tonEdge1Drag={this.handleEdge1Drag}\n\t\t\t\t\t\tonEdge2Drag={this.handleEdge2Drag}\n\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\tonDragComplete={this.handleDragComplete}>\n\t\t\t\t\t\t{retracementText}\n\t\t\t\t\t</InteractiveLine>;\n\t\t\t\t});\n\t\t\t})}\n\t\t\t{currentRetracement}\n\t\t\t<MouseLocationIndicator\n\t\t\t\tenabled={enabled}\n\t\t\t\tsnap={false}\n\t\t\t\tr={0}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawRetracement} />\n\t\t</g>;\n\t}\n}\n\n/* eslint-disable react/prop-types */\n\nfunction retracementText({ xScale, chartConfig }, props, modLine) {\n\tvar { text, dir, fontStroke, fontFamily, fontSize } = props.childProps;\n\tvar { x1, y1, x2 } = modLine;\n\treturn <text\n\t\tx={xScale(Math.min(x1, x2)) + 10}\n\t\ty={chartConfig.yScale(y1) + dir * 4}\n\t\tfontFamily={fontFamily}\n\t\tfontSize={fontSize}\n\t\tfill={fontStroke}>{text}</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction helper({ x1, y1, x2, y2 }) {\n\tvar dy = y2 - y1;\n\tvar retracements = [100, 61.8, 50, 38.2, 23.6, 0]\n\t\t.map(each => ({\n\t\t\tpercent: each,\n\t\t\tx1,\n\t\t\tx2,\n\t\t\ty: (y2 - (each / 100) * dy),\n\t\t}));\n\n\treturn retracements;\n}\n\nFibonacciRetracement.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.object,\n\tplotData: PropTypes.array,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tinteractive: PropTypes.object,\n\twidth: PropTypes.number,\n\tstrokeWidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontStroke: PropTypes.string,\n\tonStart: PropTypes.func,\n\tonComplete: PropTypes.func,\n\ttype: PropTypes.oneOf([\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\n\t\t\"BOUND\", // extends between the set bounds\n\t]).isRequired,\n\tmouseXY: PropTypes.array,\n\tcurrentItem: PropTypes.object,\n\tinteractiveState: PropTypes.object,\n\toverrideInteractive: PropTypes.func,\n\tchildProps: PropTypes.any,\n\tinit: PropTypes.object.isRequired,\n};\n\nFibonacciRetracement.defaultProps = {\n\tenabled: true,\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 0.4,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 10,\n\tfontStroke: \"#000000\",\n\ttype: \"EXTEND\",\n\tinit: { retracements: [] },\n\tonStart: noop,\n\tonComplete: noop,\n};\n\nexport default FibonacciRetracement;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/FibonacciRetracement.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport { noop } from \"../utils\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass ClickCallback extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { displayXAccessor } = this.context;\n\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar yValue = yScale.invert(mouseXY[1]);\n\t\tvar xValue = displayXAccessor(currentItem);\n\t\tthis.props.onClick({\n\t\t\txy: [xValue, yValue],\n\t\t\tmouseXY,\n\t\t\tcurrentItem\n\t\t}, e);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={d3.functor(null)}\n\t\t\tisHover={d3.functor(true)}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t/>;\n\t}\n}\n\nClickCallback.drawOnCanvas = noop;\n\nClickCallback.propTypes = {\n\tonClick: PropTypes.func.isRequired,\n};\nClickCallback.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n};\n\nClickCallback.defaultProps = {\n\tonClick: (e) => { console.log(e); },\n};\n\nexport default ClickCallback;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/ClickCallback.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { isDefined, noop } from \"../utils\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Brush extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawBrush = this.handleDrawBrush.bind(this);\n\t\tthis.state = {};\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tx1: null, y1: null,\n\t\t\tx2: null, y2: null,\n\t\t\tstartItem: null,\n\t\t\tstartClick: null,\n\t\t\trect: null,\n\t\t});\n\t}\n\thandleDrawBrush() {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\txScale,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { enabled } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { startClick, startItem } = this.state;\n\n\t\tif (enabled && isDefined(startItem)) {\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar y1Value = yScale.invert(startClick[1]);\n\t\t\tvar y2Value = yScale.invert(mouseXY[1]);\n\n\t\t\tvar x1 = xScale(xAccessor(startItem));\n\t\t\tvar y1 = yScale(y1Value);\n\t\t\tvar x2 = xScale(xAccessor(currentItem));\n\t\t\tvar y2 = yScale(y2Value);\n\n\t\t\tvar height = Math.abs(y2 - y1);\n\t\t\tvar width = Math.abs(x2 - x1);\n\n\t\t\tthis.setState({\n\t\t\t\trect: {\n\t\t\t\t\tx: Math.min(x1, x2),\n\t\t\t\t\ty: Math.min(y1, y2),\n\t\t\t\t\theight,\n\t\t\t\t\twidth,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleStartAndEnd(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { displayXAccessor } = this.context;\n\t\tvar { enabled, onBrush } = this.props;\n\n\t\tif (enabled) {\n\t\t\tvar { x1, y1, startItem, startClick } = this.state;\n\t\t\tvar { yScale } = chartConfig;\n\t\t\tvar xValue = displayXAccessor(currentItem);\n\t\t\tvar yValue = yScale.invert(mouseXY[1]);\n\n\t\t\tif (isDefined(startItem)) {\n\t\t\t\t// brush complete\n\t\t\t\tonBrush({\n\t\t\t\t\tx1,\n\t\t\t\t\ty1,\n\t\t\t\t\tx2: displayXAccessor(currentItem),\n\t\t\t\t\ty2: yValue,\n\t\t\t\t\tstartItem,\n\t\t\t\t\tcurrentItem,\n\t\t\t\t\tstartClick,\n\t\t\t\t\tmouseXY,\n\t\t\t\t}, e);\n\t\t\t\tthis.terminate();\n\t\t\t} else {\n\t\t\t\t// brush start\n\t\t\t\tthis.setState({\n\t\t\t\t\tx1: xValue,\n\t\t\t\t\ty1: yValue,\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t\tstartItem: currentItem,\n\t\t\t\t\tstartClick: mouseXY,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tvar { rect } = this.state;\n\t\tvar { fill, stroke, opacity } = this.props;\n\t\tvar rectProps = { fill, stroke, opacity };\n\n\t\treturn <g>\n\t\t\t{ isDefined(rect) ? <rect {...rect} {...rectProps} /> : null }\n\t\t\t<GenericChartComponent ref=\"component\"\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tisHover={d3.functor(true)}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawBrush}\n\t\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nBrush.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonBrush: PropTypes.func.isRequired,\n\n\ttype: PropTypes.oneOf([\"1D\", \"2D\"]),\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tinteractiveState: PropTypes.object,\n};\nBrush.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n};\n\nBrush.defaultProps = {\n\ttype: \"2D\",\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tfill: \"#3h3h3h\",\n\tonBrush: noop,\n\tonStart: noop,\n};\n\nexport default Brush;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/Brush.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js?outputStyle=expanded!./re-stock.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js?outputStyle=expanded!./re-stock.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js?outputStyle=expanded!./re-stock.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./docs/stylesheets/re-stock.scss\n ** module id = 130\n ** module chunks = 0 2\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Move down content because we have a fixed navbar that is 50px tall */\\n/*! normalize.css v3.0.2 | MIT License | git.io/normalize */\\n/* #MainContainer {\\n   position: fixed;\\n   top: 50px;\\n   padding-left: 100px;\\n} */\\naside table {\\n  border: 1;\\n  border-spacing: 1px;\\n  border-collapse: collapse;\\n  max-width: 100%;\\n  margin-bottom: 20px;\\n}\\n\\naside table tbody > tr > td,\\naside table tbody > tr > th,\\naside table tfoot > tr > td,\\naside table tfoot > tr > th,\\naside table thead > tr > td,\\naside table thead > tr > th {\\n  padding: 8px;\\n  line-height: 1.42857;\\n  vertical-align: top;\\n  border-top: 1px solid #DDD;\\n}\\n\\na.button {\\n  background: transparent url(\" + require(\"../images/github-button.png\") + \") 0 0 no-repeat;\\n  width: 203px;\\n  height: 80px;\\n  padding-left: 60px;\\n  color: #fff !important;\\n}\\n\\na.button small {\\n  display: inline;\\n  font-size: 13px;\\n  margin-top: 15px;\\n}\\n\\n.dark {\\n  background: #303030;\\n}\\n\\n.dark .react-stockcharts-tooltip {\\n  fill: white;\\n}\\n\\n.dark .react-stockcharts-tooltip-label {\\n  fill: yellow;\\n}\\n\\n.jumbotron {\\n  background: steelblue;\\n  padding: 0px;\\n  color: white;\\n}\\n\\n.jumbotron a {\\n  color: yellow;\\n}\\n\\n.top-spacing {\\n  padding-top: 10px;\\n}\\n\\n.navbar {\\n  background-color: steelblue;\\n}\\n\\n.navbar a {\\n  color: white;\\n}\\n\\n/*\\n * Top navigation\\n * Hide default border to remove 1px line.\\n */\\n.navbar-fixed-top {\\n  border: 0;\\n}\\n\\n/*\\n * Sidebar\\n */\\n/* Hide for mobile, show later */\\n.sidebar {\\n  display: none;\\n}\\n\\n@media (min-width: 768px) {\\n  .sidebar {\\n    position: fixed;\\n    top: 51px;\\n    bottom: 0;\\n    left: 0;\\n    z-index: 1000;\\n    display: block;\\n    padding: 5px 20px;\\n    overflow-x: hidden;\\n    overflow-y: auto;\\n    /* Scrollable contents if viewport is shorter than content. */\\n    background-color: #f5f5f5;\\n    border-right: 1px solid #eee;\\n  }\\n}\\n\\n/* Sidebar navigation */\\n.nav-sidebar {\\n  margin-right: -21px;\\n  /* 20px padding + 1px border */\\n  margin-bottom: 20px;\\n  margin-left: -20px;\\n}\\n\\n.nav-sidebar > li > a {\\n  padding-right: 20px;\\n  padding-left: 20px;\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n  font-size: 13px;\\n}\\n\\n.nav-sidebar > .active a, .nav-sidebar > .active a:hover, .nav-sidebar > .active a:focus {\\n  color: #fff;\\n  background-color: #428bca;\\n}\\n\\n/*\\n * Main content\\n */\\n.main {\\n  padding: 20px;\\n}\\n\\n@media (min-width: 768px) {\\n  .main {\\n    padding-right: 40px;\\n    padding-left: 40px;\\n  }\\n}\\n\\n.main .page-header {\\n  margin-top: 0;\\n}\\n\\nimg[alt=\\\"Done\\\"] {\\n  max-width: 20px;\\n  max-height: 20px;\\n  padding-bottom: 4px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader?outputStyle=expanded!./docs/stylesheets/re-stock.scss\n ** module id = 131\n ** module chunks = 0 2\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 132\n ** module chunks = 0 2\n **/","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMoAAABQCAQAAADykSIGAAAF1UlEQVR4Ae3df4zXdR3A8cfnvnccd7i7gwMiCCE6BzlwImVFpqgnykANZ66RawHTQJrnVizJymwENKUcJSBjsEqyJrIEQiHQSoutWBA4BYwLGCi/Tu7O7pDv/fj0R2vfHdx9J3ef7925vR9/v/577j6/vrfXO9IjgrhYkb4K0OR9jc4BEMUATHe7z/mEAkF3anLI3/3e85rbRvm4VSr1pOAV9zmUiXK17cq96+de8IbzChQrkdLihLQgSfmGSmlwRiug0Bh3qjJAjZvsJYoZ5W/KbfZVZ2XkGaifFm9rFiTnI4o1OOVCJdaZ5owJjkYx291sszvELjRYP41OCpJSZIgWx7S6WMomU2x1WxTfbqMaFWpdLM/HpJzUKEhGuRJn1WrfcLuVmxrFq822yCPaV6a/ejWCZAzTx3Fp7etjoflWRPEbPunTdnU4NkzacUEyRoocFmtf5FYv2hfFaQWKvN/h2Eixw4LuiJKnwgFNURwjL8vYCK2OCLrn8jVMNf+LUijdCy5f4UZfpn8mSn+14Ubfk4/EmWfdTJQRmbHwSNwjL4+Zt8IT/48yKuvYSUEuP7O0/X7SlPlLyTbWLElBH0OktKjXqIkLvjTGmRt9trGkBfkGKtLWOWc0k4kSZR0LcqFYscJ2fuTKRMk6FnSnTBQfWiHKEP9W7y+e95y0D6LUvab5jGbDnZcDIcr9nga8bYkVmmVzmW97UAngVtvkQIiy2mwZ/1Sl3kRjXWGoQVJa1Kl1yn67xX5sqIzvWSgHQpQtpuisp82RAyHKq67TWevcKwdClM2m6qxlquRAiLLIAp31davkQIgy0xqd9QdTNUlYiDLCHmU67wnzBQlHedFtuqLFp+wRJBjls3bqqvW+JEgwymqzdVXaEGcFiUU5ariuu9NGQUJRStVKwncsFiQUpcJbkrDUtwQJRRltvyQsN0+QUJThjkrCEgsECUXp65wkPOqHgoSi8I4huu4BKwSJRdlqsq4Lvz8mGuVhi3XdYKcFlxylwGilWuRpViCtSKMydQbbKE/XHDRDpEytYucUapKvRUqdg9KCDqOMV60OQLFhykGeRW7QNcs9q1mk1buOawRQapTdgg6jEBmjVEqMBu84BRjpdf103ikV3gMMMlQpYk1qHRDLKvylcFCD9txlvUjnxKZ7QXv6GS22W9DJ/5D8srX6unSt5lkpyEkUxllpoktz2GwvCxKNUmCsY04DmOwbJiv0Qeyy0q+kBQlHqfQSfukh9QBK3WCiq1UYKaWtFsdUe9NOrzksyEkUbvQbg+11vTptPWSpPG21+qYnBTmOwpV2Krno/xwne0nkYrEptgpyHIW5lqPKMhk73KR9fzJJkPMo+Q65HL/wU3vFRrvHo1IAjuJyAK1KNAhyHIUqTwLS6ANIe8YsrJYyE8+6RwpjHBDkPEqBLSpd6BXbLMYKzMUCU12Hq+wT5DwKhR43RwEyfm3fBVHGmdF9UUIU+KhbXKHASc2W9Y4oIUrGOHtDlA9/lCBECVGe0uLBEKWno3zBn7HO6xZjCR7GAmN9Bdd7VdCx9o8gyETJMpTNGjMxX6nvYoG0pVio1hNYa5b2BfnKFWurUY1mmShZhjpymcfNwT9MskElrhLbhx2m+6NrsNJ8/3Epwsav813Z9zXej5ywzQaft12e5ebhKQ9odYvXzHCjQR6x26UIu/GOJLMZ73cq/MwqMSL3qfKWL+qcsEWyuvftkAz7Vo/0vm2rYTPx2d63lzjs8D7f+zZ4hyMIWgkHEPSuKCXqNETxm8YYb084gKBXXL4m2GV/FK/1NY/5Qa+4fIUb/WO+b00U3+05p1Wo7/EbfXgkLvMv5e6K4iJbTLLB3eIefSQOL4+RjabZoTKKucY25dab5b0ee3kMn1lKPWOaGteqjmLyTfJbA5zxE5sc0BQOIOjWD5L9XOkOcw1Qo9Ieohj6mGCRSYKe9LL7M8fUQr6BprjZtUZJCbrTOdX+apNNkIkiHEDQm/wXb4bZSIeJkMcAAAAASUVORK5CYII=\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./docs/images/github-button.png\n ** module id = 133\n ** module chunks = 0 2\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 134\n ** module chunks = 0 2\n **/","\"use strict\";\n\nimport React from \"react\";\nimport d3 from \"d3\";\n\nimport { ChartCanvas, Chart, series, scale, coordinates, tooltip, axes, annotation, indicator, helper } from \"../../../src/\";\n\nvar { CandlestickSeries, BarSeries, LineSeries, AreaSeries, StochasticSeries, BollingerSeries } = series;\nvar { discontinuousTimeScaleProvider } = scale;\nvar { CrossHairCursor, MouseCoordinateX, MouseCoordinateY, CurrentCoordinate } = coordinates;\nvar { EdgeIndicator } = coordinates;\n\nvar { OHLCTooltip, MovingAverageTooltip, BollingerBandTooltip, StochasticTooltip } = tooltip;\n\nvar { XAxis, YAxis } = axes;\nvar { stochasticOscillator, ema, bollingerBand } = indicator;\nvar { fitWidth } = helper;\n\nclass CandleStickChartWithDarkTheme extends React.Component {\n\trender() {\n\t\tvar height = 750;\n\t\tvar { data, type, width } = this.props;\n\n\t\tvar margin = {left: 70, right: 70, top:20, bottom: 30};\n\n\t\tvar gridHeight = height - margin.top - margin.bottom;\n\t\tvar gridWidth = width - margin.left - margin.right;\n\n\t\tvar showGrid = true;\n\t\tvar yGrid = showGrid ? { innerTickSize: -1 * gridWidth, tickStrokeOpacity: 0.2 } : {};\n\t\tvar xGrid = showGrid ? { innerTickSize: -1 * gridHeight, tickStrokeOpacity: 0.2 } : {};\n\n\t\tvar ema20 = ema()\n\t\t\t.id(0)\n\t\t\t.windowSize(20)\n\t\t\t.merge((d, c) => {d.ema20 = c})\n\t\t\t.accessor(d => d.ema20);\n\n\t\tvar ema50 = ema()\n\t\t\t.id(2)\n\t\t\t.windowSize(50)\n\t\t\t.merge((d, c) => {d.ema50 = c})\n\t\t\t.accessor(d => d.ema50);\n\n\t\tvar slowSTO = stochasticOscillator()\n\t\t\t.windowSize(14)\n\t\t\t.kWindowSize(1)\n\t\t\t.stroke({ D: \"#ea2bff\", K: \"#74d400\", top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" })\n\t\t\t.merge((d, c) => {d.slowSTO = c})\n\t\t\t.accessor(d => d.slowSTO);\n\t\tvar fastSTO = stochasticOscillator()\n\t\t\t.windowSize(14)\n\t\t\t.kWindowSize(3)\n\t\t\t.stroke({ D: \"#ea2bff\", K: \"#74d400\", top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" })\n\t\t\t.merge((d, c) => {d.fastSTO = c})\n\t\t\t.accessor(d => d.fastSTO);\n\t\tvar fullSTO = stochasticOscillator()\n\t\t\t.windowSize(14)\n\t\t\t.kWindowSize(3)\n\t\t\t.dWindowSize(4)\n\t\t\t.stroke({ D: \"#ea2bff\", K: \"#74d400\" })\n\t\t\t.merge((d, c) => {d.fullSTO = c})\n\t\t\t.accessor(d => d.fullSTO);\n\n\t\tvar bb = bollingerBand()\n\t\t\t.stroke({ top: \"#964B00\", middle: \"#8c9900\", bottom: \"#964B00\" })\n\t\t\t.fill(\"#adffaf\");\n\n\t\treturn (\n\t\t\t<ChartCanvas width={width} height={750}\n\t\t\t\t\tmargin={margin} type={type}\n\t\t\t\t\tseriesName=\"MSFT\"\n\t\t\t\t\tdata={data} calculator={[ema20, ema50, slowSTO, fastSTO, fullSTO, bb]}\n\t\t\t\t\txAccessor={d => d.date} xScaleProvider={discontinuousTimeScaleProvider}\n\t\t\t\t\txExtents={[new Date(2012, 0, 1), new Date(2012, 6, 2)]}>\n\t\t\t\t<Chart id={1} height={325}\n\t\t\t\t\t\tyExtents={d => [d.high, d.low]}\n\t\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}>\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} {...yGrid}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\" />\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0}\n\t\t\t\t\t\t\tstroke=\"#FFFFFF\" opacity={0.5}/>\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<CandlestickSeries\n\t\t\t\t\t\t\twickStroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\n\t\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"} />\n\n\t\t\t\t\t<LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()}/>\n\t\t\t\t\t<LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()}/>\n\n\t\t\t\t\t<BollingerSeries calculator={bb} />\n\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema20.accessor()} fill={ema20.stroke()} />\n\t\t\t\t\t<CurrentCoordinate yAccessor={ema50.accessor()} fill={ema50.stroke()} />\n\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}/>\n\n\t\t\t\t\t<OHLCTooltip origin={[-40, -10]}/>\n\t\t\t\t\t<MovingAverageTooltip onClick={(e) => console.log(e)} origin={[-38, 10]} \n\t\t\t\t\t\tcalculators={[ema20, ema50]}/>\n\t\t\t\t\t<BollingerBandTooltip origin={[-38, 60]} calculator={bb} />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={2}\n\t\t\t\t\t\tyExtents={d => d.volume}\n\t\t\t\t\t\theight={100} origin={(w, h) => [0, h - 475]} >\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={d3.format(\"s\")}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\t\t\t\t\t<BarSeries\n\t\t\t\t\t\t\tyAccessor={d => d.volume}\n\t\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"} />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={3}\n\t\t\t\t\t\tyExtents={slowSTO.domain()}\n\t\t\t\t\t\theight={125} origin={(w, h) => [0, h - 375]} padding={{ top: 10, bottom: 10 }} >\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0}\n\t\t\t\t\t\t\tstroke=\"#FFFFFF\" opacity={0.5} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} tickValues={slowSTO.tickValues()}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries calculator={slowSTO}\n\t\t\t\t\t\t\tstroke={{ top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" }}/>\n\t\t\t\t\t<StochasticTooltip calculator={slowSTO} origin={[-38, 15]}>Fast STO</StochasticTooltip>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={4}\n\t\t\t\t\t\tyExtents={fastSTO.domain()}\n\t\t\t\t\t\theight={125} origin={(w, h) => [0, h - 250]} padding={{ top: 10, bottom: 10 }} >\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0}\n\t\t\t\t\t\t\tstroke=\"#FFFFFF\" opacity={0.5} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} tickValues={fastSTO.tickValues()}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries calculator={fastSTO}\n\t\t\t\t\t\t\tstroke={{ top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" }}/>\n\t\t\t\t\t<StochasticTooltip calculator={fastSTO} origin={[-38, 15]}>Slow STO</StochasticTooltip>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={5}\n\t\t\t\t\t\tyExtents={fullSTO.domain()}\n\t\t\t\t\t\theight={125} origin={(w, h) => [0, h - 125]} padding={{ top: 10, bottom: 10 }} >\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" {...xGrid}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\" stroke=\"#FFFFFF\" />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} tickValues={fullSTO.tickValues()}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\n\t\t\t\t\t<MouseCoordinateX\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={d3.time.format(\"%Y-%m-%d\")} />\n\t\t\t\t\t<MouseCoordinateY\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries calculator={fullSTO}\n\t\t\t\t\t\t\tstroke={{ top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" }}/>\n\t\t\t\t\t<StochasticTooltip calculator={fullSTO} origin={[-38, 15]}>Full STO</StochasticTooltip>\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor stroke=\"#FFFFFF\" />\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\nCandleStickChartWithDarkTheme.propTypes = {\n\tdata: React.PropTypes.array.isRequired,\n\twidth: React.PropTypes.number.isRequired,\n\ttype: React.PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nCandleStickChartWithDarkTheme.defaultProps = {\n\ttype: \"svg\",\n};\nCandleStickChartWithDarkTheme = fitWidth(CandleStickChartWithDarkTheme);\n\nexport default CandleStickChartWithDarkTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./docs/lib/charts/CandleStickChartWithDarkTheme.jsx\n **/","module.exports = \"<h1>React Stockcharts</h1>\\n<p>Highly customizable stock charts built with <a href=\\\"http://facebook.github.io/react/\\\">React JS</a> and <a href=\\\"http://d3js.org/\\\">d3</a></p>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./docs/md/MAIN.md\n ** module id = 301\n ** module chunks = 2\n **/"],"sourceRoot":""}