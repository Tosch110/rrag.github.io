{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*","webpack:///webpack/bootstrap e84e4d5ff5b223a403a5","webpack:///external \"React\"","webpack:///external \"d3\"","webpack:///./src/index.js","webpack:///./src/lib/utils/index.js","webpack:///./src/lib/GenericChartComponent.jsx","webpack:///./src/lib/indicator/baseIndicator.js","webpack:///./src/lib/indicator/algorithm/index.js","webpack:///./src/lib/indicator/defaultOptionsForComputation.js","webpack:///./src/lib/tooltip/ToolTipTSpanLabel.jsx","webpack:///./src/lib/tooltip/ToolTipText.jsx","webpack:///./src/lib/series/LineSeries.jsx","webpack:///./src/lib/GenericComponent.jsx","webpack:///./src/lib/indicator/defaultOptionsForAppearance.js","webpack:///./src/lib/series/StraightLine.jsx","webpack:///./src/lib/utils/identity.js","webpack:///./src/lib/utils/noop.js","webpack:///external \"ReactDOM\"","webpack:///./src/lib/indicator/algorithm/ema.js","webpack:///./src/lib/series/StackedBarSeries.jsx","webpack:///./src/lib/coordinates/EdgeCoordinateV2.jsx","webpack:///./src/lib/indicator/algorithm/atr.js","webpack:///./src/lib/utils/ChartDataUtil.js","webpack:///./src/lib/utils/PureComponent.js","webpack:///./src/lib/Chart.jsx","webpack:///./src/lib/annotation/LabelAnnotation.jsx","webpack:///./src/lib/axes/Axis.jsx","webpack:///./src/lib/interactive/InteractiveLine.jsx","webpack:///./src/lib/interactive/MouseLocationIndicator.jsx","webpack:///./src/lib/scale/financeDiscontinuousScale.js","webpack:///./src/lib/series/AreaOnlySeries.jsx","webpack:///./src/lib/series/BarSeries.jsx","webpack:///./src/lib/utils/shallowEqual.js","webpack:///./src/lib/utils/zipper.js","webpack:///./src/lib/BackgroundText.jsx","webpack:///./src/lib/ChartCanvas.jsx","webpack:///./src/lib/algorithm/index.js","webpack:///./src/lib/annotation/index.js","webpack:///./src/lib/axes/index.js","webpack:///./src/lib/coordinates/index.js","webpack:///./src/lib/helper/index.js","webpack:///./src/lib/indicator/index.js","webpack:///./src/lib/interactive/index.js","webpack:///./src/lib/scale/index.js","webpack:///./src/lib/series/index.js","webpack:///./src/lib/tooltip/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/lib/CanvasContainer.jsx","webpack:///./src/lib/EventCapture.jsx","webpack:///./src/lib/annotation/Annotate.jsx","webpack:///./src/lib/annotation/Label.jsx","webpack:///./src/lib/annotation/SvgPathAnnotation.jsx","webpack:///./src/lib/axes/AxisZoomCapture.jsx","webpack:///./src/lib/axes/XAxis.jsx","webpack:///./src/lib/axes/YAxis.jsx","webpack:///./src/lib/coordinates/CrossHairCursor.jsx","webpack:///./src/lib/coordinates/CurrentCoordinate.jsx","webpack:///./src/lib/coordinates/EdgeIndicator.jsx","webpack:///./src/lib/coordinates/MouseCoordinateX.jsx","webpack:///./src/lib/coordinates/MouseCoordinateY.jsx","webpack:///./src/lib/helper/SaveChartAsImage.js","webpack:///./src/lib/helper/TypeChooser.jsx","webpack:///./src/lib/helper/fitWidth.jsx","webpack:///./src/lib/indicator/algorithm/bollingerband.js","webpack:///./src/lib/indicator/algorithm/change.js","webpack:///./src/lib/indicator/algorithm/compare.js","webpack:///./src/lib/indicator/algorithm/elderRay.js","webpack:///./src/lib/indicator/algorithm/forceIndex.js","webpack:///./src/lib/indicator/algorithm/heikinAshi.js","webpack:///./src/lib/indicator/algorithm/kagi.js","webpack:///./src/lib/indicator/algorithm/macd.js","webpack:///./src/lib/indicator/algorithm/pointAndFigure.js","webpack:///./src/lib/indicator/algorithm/renko.js","webpack:///./src/lib/indicator/algorithm/rsi.js","webpack:///./src/lib/indicator/algorithm/sma.js","webpack:///./src/lib/indicator/algorithm/sto.js","webpack:///./src/lib/indicator/atr.js","webpack:///./src/lib/indicator/bollingerBand.js","webpack:///./src/lib/indicator/change.js","webpack:///./src/lib/indicator/compare.js","webpack:///./src/lib/indicator/elderImpulse.js","webpack:///./src/lib/indicator/elderRay.js","webpack:///./src/lib/indicator/ema.js","webpack:///./src/lib/indicator/forceIndex.js","webpack:///./src/lib/indicator/heikinAshi.js","webpack:///./src/lib/indicator/kagi.js","webpack:///./src/lib/indicator/macd.js","webpack:///./src/lib/indicator/pointAndFigure.js","webpack:///./src/lib/indicator/renko.js","webpack:///./src/lib/indicator/rsi.js","webpack:///./src/lib/indicator/sma.js","webpack:///./src/lib/indicator/stochasticOscillator.js","webpack:///./src/lib/interactive/Brush.jsx","webpack:///./src/lib/interactive/ClickCallback.jsx","webpack:///./src/lib/interactive/FibonacciRetracement.jsx","webpack:///./src/lib/interactive/TrendLine.jsx","webpack:///./src/lib/interactive/utils.js","webpack:///./src/lib/scale/discontinuousTimeScaleProvider.js","webpack:///./src/lib/scale/evaluator.js","webpack:///./src/lib/series/AreaSeries.jsx","webpack:///./src/lib/series/BollingerSeries.jsx","webpack:///./src/lib/series/CandlestickSeries.jsx","webpack:///./src/lib/series/CircleMarker.jsx","webpack:///./src/lib/series/ElderRaySeries.jsx","webpack:///./src/lib/series/GroupedBarSeries.jsx","webpack:///./src/lib/series/KagiSeries.jsx","webpack:///./src/lib/series/MACDSeries.jsx","webpack:///./src/lib/series/OHLCSeries.jsx","webpack:///./src/lib/series/OverlayBarSeries.jsx","webpack:///./src/lib/series/PointAndFigureSeries.jsx","webpack:///./src/lib/series/RSISeries.jsx","webpack:///./src/lib/series/RenkoSeries.jsx","webpack:///./src/lib/series/ScatterSeries.jsx","webpack:///./src/lib/series/StochasticSeries.jsx","webpack:///./src/lib/series/VolumeProfileSeries.jsx","webpack:///./src/lib/tooltip/BollingerBandTooltip.jsx","webpack:///./src/lib/tooltip/HoverTooltip.jsx","webpack:///./src/lib/tooltip/MACDTooltip.jsx","webpack:///./src/lib/tooltip/MovingAverageTooltip.jsx","webpack:///./src/lib/tooltip/OHLCTooltip.jsx","webpack:///./src/lib/tooltip/RSITooltip.jsx","webpack:///./src/lib/tooltip/SingleValueTooltip.jsx","webpack:///./src/lib/tooltip/StochasticTooltip.jsx","webpack:///./src/lib/utils/accumulatingWindow.js","webpack:///./src/lib/utils/mappedSlidingWindow.js","webpack:///./src/lib/utils/merge.js","webpack:///./src/lib/utils/slidingWindow.js","webpack:///./~/lodash.flattendeep/index.js","webpack:///./~/save-svg-as-png/saveSvgAsPng.js"],"names":["series","scale","coordinates","indicator","algorithm","annotation","axes","tooltip","helper","interactive","utils","version","ChartCanvas","Chart","GenericChartComponent","GenericComponent","BackgroundText","path","getClosestItemIndexes2","getClosestValue","d3Window","getClosestItemIndexes","getClosestItem","rebind","head","tail","last","isDefined","isNotDefined","isObject","touchPosition","mousePosition","clearCanvas","capitalizeFirst","hexToRGBA","accumulatingWindow","mappedSlidingWindow","merge","identity","noop","shallowEqual","slidingWindow","zipper","key","Array","isArray","length","obj","defaultValue","index","array","value","accessor","left","bisector","Math","max","right","min","item","values","currentValue","diff","map","each","reduce","diff1","diff2","abs","node","d3win","ownerDocument","defaultView","document","MOUSEMOVE","MOUSEUP","log","lo","hi","mid","round","closest","console","overlayColors","category10","target","source","mappings","apply","arguments","Object","keys","forEach","targetName","method","Error","i","undefined","slice","first","d","touch","e","container","rect","getBoundingClientRect","x","clientX","clientLeft","y","clientY","top","clientTop","xy","currentTarget","canvasList","ratio","setTransform","clearRect","canvas","width","height","str","charAt","toUpperCase","substring","inputHex","opacity","hex","replace","indexOf","multiplier","r","parseInt","g","b","result","getAxisCanvas","props","context","listener","bind","preCanvasDraw","postCanvasDraw","ctx","save","canvasOriginX","canvasOriginY","margin","clip","edgeClip","beginPath","translate","restore","moreProps","chartConfigList","chartConfig","chartId","filter","id","propTypes","defaultProps","contextTypes","number","isRequired","object","contexts","stroke","fill","echo","type","tooltipLabel","domain","tickValues","baseIndicator","ema","sma","bollingerband","heikinAshi","kagi","pointAndFigure","renko","macd","rsi","sto","atr","forceIndex","elderRay","compare","change","BollingerBand","windowSize","sourcePath","movingAverageType","ATR","ForceIndex","ElderRay","ElderImpulse","MACD","fast","slow","signal","FullStochasticOscillator","kWindowSize","dWindowSize","RSI","EMA","SMA","Kagi","reversalType","reversal","Renko","fixedBrickSize","PointAndFigure","boxSize","ToolTipTSpanLabel","children","ToolTipText","fontFamily","fontSize","string","LineSeries","renderSVG","drawOnCanvas","isHover","highlightOnHover","yAccessor","hoverTolerance","mouseXY","currentItem","xScale","plotData","yScale","origin","xAccessor","radius","invert","cy","cx","hovering1","pow","l","x1","y1","x2","y2","m","desiredY","hovering2","strokeWidth","hoverStrokeWidth","defined","hovering","lineWidth","strokeStyle","points","push","segment","dataSeries","svg","line","className","onClick","onDoubleClick","onContextMenu","moveTo","lineTo","func","bool","isNaN","suscriberId","getMoreProps","draw","updateMoreProps","evaluateType","executeMouseMove","getRef","drawOnNextTick","state","updateCount","ref","refs","prevMoreProps","assign","drawOnMouseMove","onMouseMove","onMouseDown","drawOnMouseExitOfCanvas","drawOnPan","debug","chartCanvasType","canvasDraw","setState","subscribe","componentWillReceiveProps","unsubscribe","componentDidUpdate","nextProps","nextContext","canvasToDraw","hoverCanvasToDraw","getCanvasContexts","svgDraw","suffix","style","functor","drawOnHover","mouseCoord","oneOfType","themes","light","middle","bottom","up","down","neutral","divergence","D","K","dark","StraightLine","yValue","calculator","data","alpha","previous","initialAccumulator","skip","v","initialValue","nextValue","undefinedLength","drawOnCanvasHelper","svgHelper","getBarsSVG2","drawOnCanvas2","getBars","StackedBarSeries","layout","stack","baseAt","direction","oneOf","widthRatio","range","stackFn","defaultPostAction","postRotateAction","rotateXY","bars","doStuff","convertToArray","swapScales","modifiedYAccessor","modifiedXAccessor","modifiedXScale","modifiedYScale","postProcessor","idx","nest","entries","outer","fillStyle","after","spaceBetweenBar","getClassName","getFill","getBase","bw","barWidth","eachBarWidth","offset","layers","eachYAccessor","datum","y0","h","groupOffset","groupWidth","edge","coordinateBase","coordinate","rectWidth","rectHeight","arrowWidth","orient","edgeXRect","edgeYRect","edgeXText","edgeYText","textAnchor","textFill","displayCoordinate","show","edgeAt","hideLine","lineStroke","lineOpacity","dx","closePath","font","textAlign","textBaseline","fillText","open","high","low","close","trueRangeAlgorithm","undefinedValue","accumulator","prev","prevATR","atrAlgorithm","skipInitial","tr","sum","newData","getChartOrigin","getDimensions","getNewChartConfig","getCurrentCharts","getChartConfigWithUpdatedYScales","getCurrentItem","contextWidth","contextHeight","originCoordinates","chartProps","chartWidth","chartHeight","availableWidth","availableHeight","innerDimension","Children","padding","yExtentsProp","yExtents","flipYScale","yExtentsCalculator","yPan","currentCharts","eachConfig","config","setRange","rangeRoundPoints","yDomainFromYExtents","yValues","eachExtent","allYValues","realYDomain","extent","set","dy","chartsToPan","yDomains","yDomainDY","prevYDomain","combine","yPanEnabled","another","copy","updatedChartConfig","xValue","a","PureComponent","nextState","propName","componentName","yMousePointerDisplayLocation","yMousePointerDisplayFormat","shape","linear","childContextTypes","LabelAnnotation","handleClick","rotate","xPos","yPos","text","xFunc","yFunc","Axis","showDomain","showTicks","transform","getScale","drawAxisLine","tickProps","tickHelper","drawTicks","ticks","axisTicksSVG","axisLineSVG","propProvider","bg","axisZoomCallback","zoomCursorClassName","zoomEnabled","getMouseDelta","zoomCapture","innerTickSize","outerTickSize","tickFormat","tickPadding","tickSize","arrayOf","tickTransform_svg_axisX","tick","tickTransform_svg_axisY","tickArguments","tickStroke","tickStrokeOpacity","baseFormat","format","sign","tickSpacing","tickTransform","canvas_dy","domainClassName","xAxis","Tick","drawEachTick","InteractiveLine","handleMouseDown","handleDrag","handleDragEnd","handleEdgeDrag1","handleEdgeDrag2","handleEdgeDragEnd","preventDefault","win","component","select","on","pageX","pageY","x1Value","x2Value","y1Value","y2Value","moveStartPosition","event","newPos","newX1Value","newY1Value","newX2Value","newY2Value","onDrag","onDragComplete","origEdge","newCX","newCY","newXValue","newYValue","oldXValue","oldYValue","onEdge1Drag","onEdge2Drag","withEdge","defaultClassName","edgeFill","edgeStroke","edgeStrokeWidth","modLine","generateLine","childrenToRender","start","end","any","ClickableCircle","handleMouseEnter","handleMouseLeave","hover","hoverOpacity","MouseLocationIndicator","handleMousePosChange","mutableState","pos","enabled","snap","shouldDisableSnap","snapTo","getPrevMoreProps","mousXY","handleContextMenu","financeDiscontinuousScale","tickLevels","level","tickLevelBisector","interval","backingLinearScale","inverted","rangeRound","clamp","interpolate","domainStart","domainEnd","ceil","floor","newM","levelIndex","backingTicks","distance","ticksSet","j","remove","date","nice","AreaOnlySeries","base","newBase","points0","points1","areaSeries","area","concat","x0","BarSeries","isDate","prototype","toString","call","isEqual","val1","val2","getTime","numKeysA","numKeysB","hasOwnProperty","zip","n","d3_zipLength","zips","componentDidMount","strokeOpacity","getText","strokeText","CANDIDATES_FOR_RESET","shouldResetChart","thisProps","every","getCursorStyle","useCrossHairStyleCursor","tooltipStyle","getXScaleDirection","flipXScale","calculateFullData","inputData","plotFull","xScaleProp","inputXAccesor","xScaleProvider","indexAccessor","indexMutator","wholeData","dimensions","evaluate","useWholeData","scaleProvider","displayXAccessor","fullData","filterData","firstItem","lastItem","resetChart","firstCalculation","calculateState","initialPlotData","postCalculator","updateChart","newState","initialXScale","prevLastItem","lastItemVisible","updatedXScale","setXRange","newStart","newEnd","xExtentsProp","xExtents","getDataInfo","handleMouseMove","handleZoom","handlePinchZoom","handlePan","handlePanEnd","handleDoubleClick","xAxisZoom","yAxisZoom","calculateStateForDomain","pinchCoordinates","subscriptions","interactiveState","chartContainer","canvases","callback","triggerEvent","inputType","requestAnimationFrame","clearMouseCanvas","pinch","touch1Pos","touch2Pos","topLeft","bottomRight","initialPinch","finalPinch","initialPinchXScale","initialChartConfig","iTL","iBR","fTL","fBR","xDash","yDash","newDomain","updatedScale","clearThreeCanvas","zoomDirection","c","clearBothCanvas","onLoadMore","panOrigin","hackyWayToStopPanBeyondBounds__plotData","hackyWayToStopPanBeyondBounds__domain","panStartXScale","panHelper","reset","interaction","isInteractionEnabled","calculatedState","sourceChartConfig","zIndex","defaultFocus","drawMode","cursor","position","seriesName","yExtentsProvider","mouseCoordinates","at","ohlcv","volume","mergeAs","defaultAlgorithm","buyPath","sellPath","Annotate","SvgPathAnnotation","Label","halfWidth","bottomWidth","XAxis","YAxis","EdgeIndicator","CurrentCoordinate","MouseCoordinateX","MouseCoordinateY","CrossHairCursor","TypeChooser","SaveChartAsImage","fitWidth","defaultOptionsForComputation","defaultOptionsForAppearance","bollingerBand","stochasticOscillator","elderImpulse","TrendLine","FibonacciRetracement","ClickCallback","Brush","defaultScaleProvider","discontinuousTimeScaleProviderBuilder","discontinuousTimeScaleProvider","ScatterSeries","CircleMarker","AreaSeries","CandlestickSeries","OHLCSeries","GroupedBarSeries","KagiSeries","PointAndFigureSeries","RenkoSeries","MACDSeries","BollingerSeries","RSISeries","StochasticSeries","ElderRaySeries","VolumeProfileSeries","MACDTooltip","OHLCTooltip","SingleValueTooltip","MovingAverageTooltip","BollingerBandTooltip","RSITooltip","StochasticTooltip","HoverTooltip","CanvasContainer","setDrawCanvas","drawCanvas","getContext","getTouchProps","EventCapture","handleEnter","handleLeave","handleWheel","handleTouchStart","handleTouchMove","handleTouchEnd","handleRightClick","lastTouch","mouseInteraction","panInProgress","focus","onMouseEnter","onMouseLeave","zoom","onZoom","zoomMultiplier","zoomDir","deltaY","mouseMove","stopPropagation","onPanEnd","panStart","panHappened","capture","contextMenuClicked","pan","persist","setTimeout","panEnabled","onPan","clicked","touches","touchXY","touch1","onPinchZoom","touch2","panSpeedMultiplier","usingProps","Annotation","with","when","selectCanvas","getYScale","radians","PI","AxisZoomCapture","handleDragStart","startPosition","startScale","startXY","leftX","topY","center","mean","tempRange","w","newXDomain","axisAt","showGrid","xZoomHeight","axisLocation","newYDomain","yZoomWidth","lines","originX","originY","dashArray","strokeDasharray","split","setLineDash","snapX","line1","line2","circle","arc","itemType","displayFormat","yAxisPad","edgeType","edgeX","coordinateProps","doc","background","cb","svgAsDataUri","getElementsByTagName","uri","image","Image","onload","createElement","fillRect","parent","parentNode","drawImage","toDataURL","src","saveWithWhiteBG","saveWithBG","saveWithDarkBG","saveChartAsImage","setAttribute","body","appendChild","addEventListener","removeChild","click","handleTypeChange","getDisplayName","Series","name","displayName","WrappedComponent","withRef","ResponsiveComponent","handleWindowResize","getWrappedInstance","saveNode","setTestCanvas","testCanvas","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","el","clientWidth","getRatio","removeEventListener","findDOMNode","meanAlgorithm","bollingerBandAlgorithm","avg","stdDev","deviation","tuples","algo","curr","absoluteChange","percentChange","mainKeys","compareKeys","f","compareData","ohlc","bullPower","bearPower","volumePath","forceIndexCalulator","now","dateAccessor","dateMutator","reversalThreshold","atrCalculator","kagiData","prevPeak","prevTrough","from","startOfYear","startOfQuarter","startOfMonth","startOfWeek","to","priceMovement","changePoint","startAs","changeTo","nextLineOpen","nextChangePoint","nextChangeTo","added","current","dir","reverseAt","fastEMA","slowEMA","signalEMA","macdCalculator","macdArray","undefinedArray","signalArray","rawData","pricingMethod","columnData","column","boxes","box","createBox","upwardMovement","downwardMovement","toDate","noOfBoxes","prevBoxClose","fromDate","updateColumns","eachBox","brickSize","renkoData","prevBrickClose","prevBrickOpen","brick","prevCloseToHigh","prevCloseToLow","prevOpenToHigh","prevOpenToLow","noOfBricks","fullyFormed","newBrick","prevAvgGain","prevAvgLoss","rsiAlgorithm","avgGain","gain","avgLoss","loss","relativeStrength","gainsAndLossesCalculator","tuple","gainsAndLosses","rsiData","kWindow","highestHigh","lowestLow","currentClose","k","kSmoothed","dWindow","stoAlgorithm","kData","dData","ALGORITHM_TYPE","underlyingAlgorithm","period","mergedAlgorithm","macdSource","emaSource","prevMACDDivergence","currMACDDivergence","prevEMA","currEMA","ha","overSold","overBought","handleStartAndEnd","handleDrawBrush","startItem","startClick","onBrush","terminate","rectProps","onStart","handleDrawRetracement","handleEdge1Drag","handleEdge2Drag","handleDragComplete","init","retracements","override","xyValue","onComplete","newXYValue","origXYValue","rest","newRetracements","fontStroke","lineType","currentRetracement","toFixed","percent","retracementText","childProps","overrideInteractive","handleDrawLine","handleDragLine","handleDragLineComplete","trends","newTrends","currentPositionRadius","currentPositionStroke","currentPositionOpacity","currentPositionStrokeWidth","tempLine","endPointCircleFill","endPointCircleRadius","button","shiftKey","getValueFromOverride","yearFormat","quarterFormat","monthFormat","weekFormat","dayFormat","hourFormat","minuteFormat","secondFormat","levelDefinition","getFullYear","startOfDay","startOfHalfDay","startOfQuarterDay","startOfEighthOfADay","startOfHour","getHours","startOf30Minutes","startOf15Minutes","startOf5Minutes","startOfMinute","startOf30Seconds","evaluateLevel","find","discontinuousIndexCalculator","di","row","discontinuousIndexCalculatorLocalTime","prevDate","nowDate","getSeconds","getMinutes","getDay","getMonth","getYear","realDateAccessor","inputDateAccessor","initialIndex","calculate","misc","nextDate","has","count","get","sort","withIndex","withInterval","response","inputIndex","Date","time","mergedData","finalData","utc","offsetInMillis","getTimezoneOffset","indexCalculator","mappedData","composedCalculator","compose","calculatedData","timeEnd","scaleProvider2","realXAccessor","extentsWrapper","inputXAccessor","inputDomain","currentPlotData","currentDomain","filteredData","getFilteredResponse","realInputDomain","canShowTheseManyPeriods","showMax","newXScale","newWidth","arrayLength","threshold","newLeftIndex","newRightIndex","funcs","composed","args","yAccessorForTop","yAccessorForMiddle","yAccessorForBottom","yAccessorForScalledBottom","areaClassName","wickClassName","candleClassName","getWicksSVG","getCandlesSVG","classNames","wickStroke","candleStrokeWidth","wickData","getWickData","wicks","shapeRendering","y3","y4","candleData","getCandleData","candles","wickNest","candleNest","strokeKey","strokeValues","inner","classNameProp","wickStrokeProp","fillProp","strokeProp","cw","candleWidth","Circle","point","drawOnCanvasWithNoStateChange","yAccessorTop","yAccessorBullTop","yAccessorBearTop","yAccessorBullBottom","yAccessorBearBottom","yAccessorForBarBase","yAccessorNumber","fillForEachBar","divergenceStroke","zeroLineStroke","zeroLineOpacity","paths","plot","yang","yin","currentValueStroke","begin","prevX","lastPlot","kagiLine","yAccessorForMACD","yAccessorForSignal","yAccessorForDivergence","yAccessorForDivergenceBase","getHorizontalLine","barData","getOHLCBars","openX1","openY","openX2","closeX1","closeY","closeX2","classNamesProp","strokeFunc","classNameFunc","OverlayBarSeries","innerBars","columns","getColumns","col","columnWidth","boxHeight","offsetX","offsetY","rx","ry","ellipse","anyBox","xOffset","getRenko","partial","svgfill","markerProps","Marker","marker","markerProvider","mProps","fillKey","fillGroup","fillValues","strokeGroup","yAccessorForD","yAccessorForK","seriesStroke","rects","sessionBg","showSessionBackground","sessionBackGround","sessionBackGroundOpacity","sessionBgSvg","w1","fill1","stroke1","w2","fill2","stroke2","bins","maxProfileWidthPercent","bySession","sessionStart","partialStartOK","partialEndOK","realXScale","sessionBuilder","discardTillStart","discardTillEnd","accumulateTill","sessions","allRects","session","finish","sessionWidth","histogram","rollup","sortKeys","descending","ascending","leaves","volumeInBins","arr","volumeValues","totalVolumes","totalVolume","volumes","totalVolumeX","ws","originProp","forDataSeries","pointer","bgFill","bgOpacity","backgroundShapeSVG","content","centerX","drawWidth","tooltipSVG","bgwidth","bgheight","tooltipContent","tooltipCanvas","fontFill","backgroundShapeCanvas","PADDING","tspans","label","X","Y","textY","measureText","macdValue","SingleMAToolTip","forChart","options","color","calculators","ox","oy","yDisplayValue","xDisplayFormat","volumeFormat","ohlcFormat","displayDate","labelStroke","valueStroke","yDisplayFormat","xLabel","yLabel","xDisplayValue","stochastic","accumulatedWindow","accumulatorIdx","size","windowData","undef","mapped","shift","pop","skipUndefined","mergeCompute","sourceFunction"],"mappings":"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AW,QAAQ;AACnB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7VA;AACA,wFAA2F;;AAE3F;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,mCAAmC,6BAA6B;AAChE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,EAAE;AACtC;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gBAAgB;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC","file":"dist/react-stockcharts.6fe03ff74414a241b125.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"ReactDOM\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonpReStock\"];\n \twindow[\"webpackJsonpReStock\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length)\n \t\t\tresolves.shift()();\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn Promise.resolve();\n\n \t\t// an Promise means \"currently loading\".\n \t\tif(installedChunks[chunkId]) {\n \t\t\treturn installedChunks[chunkId][2];\n \t\t}\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tscript.src = __webpack_require__.p + \"dist/\" + chunkId + \".\" + {\"0\":\"1cf437ea4691dc3c6179\",\"1\":\"ce4839678801723a081f\",\"2\":\"34dd004e13664548d015\"}[chunkId] + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\treturn installedChunks[chunkId][2] = promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e84e4d5ff5b223a403a5","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 1\n// module chunks = 3","\"use strict\";\n\n// common components\nimport ChartCanvas from \"./lib/ChartCanvas\";\nimport Chart from \"./lib/Chart\";\n\nimport GenericChartComponent from \"./lib/GenericChartComponent\";\nimport GenericComponent from \"./lib/GenericComponent\";\n\nimport BackgroundText from \"./lib/BackgroundText\";\n\n// chart types & Series\nimport * as series from \"./lib/series\";\nimport * as scale from \"./lib/scale\";\n\nimport * as coordinates from \"./lib/coordinates\";\nimport * as indicator from \"./lib/indicator\";\nimport * as algorithm from \"./lib/algorithm\";\n\nimport * as annotation from \"./lib/annotation\";\n\nimport * as axes from \"./lib/axes\";\nimport * as tooltip from \"./lib/tooltip\";\nimport * as helper from \"./lib/helper\";\n\nimport * as interactive from \"./lib/interactive\";\nimport * as utils from \"./lib/utils\";\n\nconst version = \"0.5.0\";\n\nexport {\n\tChartCanvas,\n\tChart,\n\tGenericChartComponent,\n\tGenericComponent,\n\tBackgroundText,\n\tseries,\n\tcoordinates,\n\tindicator,\n\talgorithm,\n\taxes,\n\tscale,\n\ttooltip,\n\tannotation,\n\thelper,\n\tinteractive,\n\tversion,\n\tutils\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\"use strict\";\n\n\nimport d3 from \"d3\";\n\nimport zipper from \"./zipper\";\nimport merge from \"./merge\";\nimport slidingWindow from \"./slidingWindow\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\nimport shallowEqual from \"./shallowEqual\";\nimport mappedSlidingWindow from \"./mappedSlidingWindow\";\nimport accumulatingWindow from \"./accumulatingWindow\";\n\nexport {\n\taccumulatingWindow,\n\tmappedSlidingWindow,\n\tmerge,\n\tidentity,\n\tnoop,\n\tshallowEqual,\n\tslidingWindow,\n\tzipper,\n};\n\nexport function path(path = []) {\n\tvar key = Array.isArray(path) ? path : [path];\n\tvar length = key.length;\n\n\treturn function(obj, defaultValue) {\n\t\tvar index = 0;\n\t\twhile (obj != null && index < length) {\n\t\t\tobj = obj[key[index++]];\n\t\t}\n\t\treturn (index === length) ? obj : defaultValue;\n\t};\n}\n\nexport function getClosestItemIndexes2(array, value, accessor) {\n\tvar left = d3.bisector(accessor).left(array, value);\n\tleft = Math.max(left - 1, 0);\n\tvar right = Math.min(left + 1, array.length - 1);\n\n\tvar item = accessor(array[left]);\n\tif (item >= value && item <= value) right = left;\n\n\treturn { left, right };\n}\n\nexport function getClosestValue(values, currentValue) {\n\tvar diff = values\n\t\t.map(each => each - currentValue)\n\t\t.reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n\treturn currentValue + diff;\n}\n\n\nexport function d3Window(node) {\n\tvar d3win = node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n\treturn d3win;\n}\n\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\n\nexport function getClosestItemIndexes(array, value, accessor, log) {\n\tvar lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tvar mid = Math.round((lo + hi) / 2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\t// for Date object === does not work, so using the <= in combination with >=\n\t// the same code works for both dates and numbers\n\tif (accessor(array[lo]) >= value && accessor(array[lo]) <= value) hi = lo;\n\tif (accessor(array[hi]) >= value && accessor(array[hi]) <= value) lo = hi;\n\n\tif (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\n\tif (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\n\n\tif (log) {\n\t\t// console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\n\t\t// console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\n\t\t// console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\n\t}\n\t// var left = value > accessor(array[lo]) ? lo : lo;\n\t// var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\n\n\t// console.log(value, accessor(array[left]), accessor(array[right]));\n\treturn { left: lo, right: hi };\n}\n\nexport function getClosestItem(array, value, accessor, log) {\n\tvar { left, right } = getClosestItemIndexes(array, value, accessor, log);\n\n\tif (left === right) {\n\t\treturn array[left];\n\t}\n\n\tvar closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\n\t\t\t\t\t\t? array[left]\n\t\t\t\t\t\t: array[right];\n\tif (log) {\n\t\tconsole.log(array[left], array[right], closest, left, right);\n\t}\n\treturn closest;\n}\n\n\nexport const overlayColors = d3.scale.category10();\n\nexport function rebind(target, source, mappings) {\n\tif (typeof(mappings) !== \"object\") {\n\t\treturn d3.rebind.apply(d3, arguments);\n\t}\n\tObject.keys(mappings)\n\t\t.forEach(function(targetName) {\n\t\t\tvar method = source[mappings[targetName]];\n\t\t\tif (typeof method !== \"function\") {\n\t\t\t\tthrow new Error(`The method ${mappings[targetName]} does not exist on the source object`);\n\t\t\t}\n\t\t\ttarget[targetName] = function() {\n\t\t\t\tvar value = method.apply(source, arguments);\n\t\t\t\treturn value === source ? target : value;\n\t\t\t};\n\t\t});\n\treturn target;\n}\n\nexport function head(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\treturn array ? array[0] : undefined;\n}\n\nexport function tail(array, accessor) {\n\tif (accessor && array) {\n\t\treturn array.map(accessor).slice(1);\n\t}\n\treturn array ? array.slice(1) : undefined;\n}\n\nexport const first = head;\n\nexport function last(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = array.length - 1; i >= 0; i--) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\tvar length = array ? array.length : 0;\n\treturn length ? array[length - 1] : undefined;\n}\n\nexport function isDefined(d) {\n\treturn d !== null && typeof d != \"undefined\";\n}\n\nexport function isNotDefined(d) {\n\treturn !isDefined(d);\n}\n\nexport function isObject(d) {\n\treturn isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\n\nexport const isArray = Array.isArray;\n\nexport function touchPosition(touch, e) {\n\tvar container = e.target,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = touch.clientX - rect.left - container.clientLeft,\n\t\ty = touch.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\nexport function mousePosition(e) {\n\tvar container = e.currentTarget,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\ty = e.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\n\nexport function clearCanvas(canvasList, ratio) {\n\tcanvasList.forEach(each => {\n\t\teach.setTransform(1, 0, 0, 1, 0, 0);\n\t\teach.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n\t\teach.scale(ratio, ratio);\n\t});\n}\n\nexport function capitalizeFirst(str) {\n\treturn str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function hexToRGBA(inputHex, opacity) {\n\tvar hex = inputHex.replace(\"#\", \"\");\n\tif (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\n\n\t\tvar multiplier = (hex.length === 3) ? 1 : 2;\n\n\t\tvar r = parseInt(hex.substring(0, 1 * multiplier), 16);\n\t\tvar g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\n\t\tvar b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\n\n\t\tvar result = `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\n\n\t\treturn result;\n\t}\n\treturn inputHex;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/index.js","\"use strict\";\n\nimport { PropTypes } from \"react\";\n\nimport GenericComponent from \"./GenericComponent\";\n\nclass GenericChartComponent extends GenericComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t}\n\tpreCanvasDraw(ctx) {\n\t\tctx.save();\n\t\tvar { canvasOriginX, canvasOriginY, width, height, margin, ratio } = this.context;\n\t\tvar { clip, edgeClip } = this.props;\n\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.scale(ratio, ratio);\n\t\tif (edgeClip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, canvasOriginY - 10, width + margin.left + margin.right + 1, height + 20);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, -1, width + 1, height + 1);\n\t\t\tctx.clip();\n\t\t}\n\t}\n\tpostCanvasDraw(ctx) {\n\t\tctx.restore();\n\t}\n\tupdateMoreProps(moreProps) {\n\t\t// console.log(type, moreProps, e)\n\t\tsuper.updateMoreProps(moreProps);\n\t\tvar { chartConfig: chartConfigList } = moreProps;\n\n\t\tif (chartConfigList) {\n\t\t\tvar { chartId } = this.context;\n\t\t\tvar chartConfig = chartConfigList\n\t\t\t\t.filter(each => each.id === chartId)[0];\n\t\t\tthis.moreProps.chartConfig = chartConfig;\n\t\t}\n\t}\n}\n\nGenericChartComponent.propTypes = GenericComponent.propTypes;\n\nGenericChartComponent.defaultProps = GenericComponent.defaultProps;\n\nGenericChartComponent.contextTypes = {\n\t...GenericComponent.contextTypes,\n\tchartId: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n};\n\nexport default GenericChartComponent;\n\nexport function getAxisCanvas(contexts) {\n\treturn contexts.axes;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GenericChartComponent.jsx","\"use strict\";\n\nimport { overlayColors } from \"../utils\";\n\nvar i = 0;\n\nexport default function() {\n\n\tvar id = i++, accessor, stroke, fill, echo, type, tooltipLabel, domain, tickValues;\n\n\tfunction baseIndicator() {\n\t}\n\n\tbaseIndicator.id = function(x) {\n\t\tif (!arguments.length) return id;\n\t\tid = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.accessor = function(x) {\n\t\tif (!arguments.length) return accessor;\n\t\taccessor = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.stroke = function(x) {\n\t\tif (!arguments.length) return !stroke ? stroke = overlayColors(id) : stroke;\n\t\tstroke = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.fill = function(x) {\n\t\tif (!arguments.length) return !fill ? fill = overlayColors(id) : fill;\n\t\tfill = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.echo = function(x) {\n\t\tif (!arguments.length) return echo;\n\t\techo = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.type = function(x) {\n\t\tif (!arguments.length) return type;\n\t\ttype = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tooltipLabel = function(x) {\n\t\tif (!arguments.length) {\n\t\t\tif (typeof tooltipLabel === \"function\") return tooltipLabel();\n\t\t\treturn tooltipLabel;\n\t\t}\n\t\ttooltipLabel = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.domain = function(x) {\n\t\tif (!arguments.length) return domain;\n\t\tdomain = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tickValues = function(x) {\n\t\tif (!arguments.length) return tickValues;\n\t\ttickValues = x;\n\t\treturn baseIndicator;\n\t};\n\treturn baseIndicator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/baseIndicator.js","// import slidingWindow from \"./slidingWindow\";\n// import merge from \"./merge\";\n// import zipper from \"./zipper\";\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerband from \"./bollingerband\";\nimport heikinAshi from \"./heikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\n\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport sto from \"./sto\";\nimport atr from \"./atr\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport compare from \"./compare\";\nimport change from \"./change\";\n\nexport {\n\t// slidingWindow,\n\t// merge,\n\t// zipper\n\tema,\n\tsma,\n\tbollingerband,\n\theikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\n\trsi,\n\tsto,\n\tatr,\n\tforceIndex,\n\telderRay,\n\tcompare,\n\tchange,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/index.js","\"use strict\";\n\nexport const BollingerBand = {\n\twindowSize: 20,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\tmultiplier: 2,\n\tmovingAverageType: \"sma\"\n};\n\nexport const ATR = {\n\twindowSize: 14,\n};\n\nexport const ForceIndex = {\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const ElderRay = {\n\twindowSize: 13,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n\tmovingAverageType: \"sma\",\n};\n\nexport const ElderImpulse = {\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const MACD = {\n\tfast: 12,\n\tslow: 26,\n\tsignal: 9,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n};\n\nexport const FullStochasticOscillator = {\n\twindowSize: 12,\n\tkWindowSize: 3,\n\tdWindowSize: 3,\n};\n\nexport const RSI = {\n\twindowSize: 14,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const EMA = {\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\twindowSize: 10,\n};\n\nexport const SMA = {\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\twindowSize: 10,\n};\n\nexport const Kagi = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\twindowSize: 14,\n\treversal: 2,\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n\t/* dateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; }, */\n};\n\nexport const Renko = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\twindowSize: 14,\n\tfixedBrickSize: 2,\n\tsourcePath: \"high/low\", // \"close\", \"high/low\"\n\t/* source: d => ({ high: d.high, low: d.low }),\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; }, */\n};\n\nexport const PointAndFigure = {\n\tboxSize: 0.5,\n\treversal: 3,\n\tsourcePath: \"high/low\", // \"close\", \"high/low\"\n\n\t/* source: d => ({ high: d.high, low: d.low }), // \"close\", \"hi/lo\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; }, */\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/defaultOptionsForComputation.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipTSpanLabel extends Component {\n\trender() {\n\t\treturn <tspan className=\"react-stockcharts-tooltip-label\" fill=\"#4682B4\" {...this.props}>{this.props.children}</tspan>;\n\t}\n}\n\nToolTipTSpanLabel.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n\nexport default ToolTipTSpanLabel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/ToolTipTSpanLabel.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipText extends Component {\n\trender() {\n\t\treturn <text\n\t\t\tfontFamily={this.props.fontFamily}\n\t\t\tfontSize={this.props.fontSize}\n\t\t\t{...this.props}\n\t\t\tclassName=\"react-stockcharts-tooltip\">{this.props.children}</text>;\n\t}\n}\n\nToolTipText.propTypes = {\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nToolTipText.defaultProps = {\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 11,\n};\n\nexport default ToolTipText;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/ToolTipText.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { first, getClosestItemIndexes } from \"../utils\";\n\nclass LineSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\t// console.log(\"HERE\")\n\t\tvar { highlightOnHover, yAccessor, hoverTolerance } = this.props;\n\n\t\tif (!highlightOnHover) return false;\n\n\t\tvar { mouseXY, currentItem, xScale, plotData } = moreProps;\n\t\tvar { chartConfig: { yScale, origin } } = moreProps;\n\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar [x, y] = mouseXY;\n\t\tconst radius = hoverTolerance;\n\n\t\tvar { left, right } = getClosestItemIndexes(plotData, xScale.invert(x), xAccessor);\n\t\tif (left === right) {\n\t\t\tvar cy = yScale(yAccessor(currentItem)) + origin[1];\n\t\t\tvar cx = xScale(xAccessor(currentItem)) + origin[0];\n\n\t\t\tvar hovering1 = Math.pow(x - cx, 2) + Math.pow(y - cy, 2) < Math.pow(radius, 2);\n\n\t\t\treturn hovering1;\n\t\t} else {\n\t\t\tvar l = plotData[left];\n\t\t\tvar r = plotData[right];\n\t\t\tvar x1 = xScale(xAccessor(l)) + origin[0];\n\t\t\tvar y1 = yScale(yAccessor(l)) + origin[1];\n\t\t\tvar x2 = xScale(xAccessor(r)) + origin[0];\n\t\t\tvar y2 = yScale(yAccessor(r)) + origin[1];\n\n\t\t\t// y = m * x + b\n\t\t\tvar m /* slope */ = (y2 - y1) / (x2 - x1);\n\t\t\tvar b /* y intercept */ = -1 * m * x1 + y1;\n\n\t\t\tvar desiredY = Math.round(m * x + b);\n\n\t\t\tvar hovering2 = y >= desiredY - radius && y <= desiredY + radius;\n\n\t\t\treturn hovering2;\n\t\t}\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor, stroke, strokeWidth, hoverStrokeWidth, defined } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tctx.lineWidth = hovering ? hoverStrokeWidth : strokeWidth;\n\n\t\tctx.strokeStyle = stroke;\n\n\t\tvar points = [];\n\t\tfor (let i = 0; i < plotData.length; i++) {\n\t\t\tlet d = plotData[i];\n\t\t\tif (defined(yAccessor(d), i)) {\n\t\t\t\tlet [x, y] = [xScale(xAccessor(d)), yScale(yAccessor(d))];\n\n\t\t\t\tpoints.push([x, y]);\n\t\t\t} else if (points.length) {\n\t\t\t\tsegment(points, ctx);\n\t\t\t\tpoints = [];\n\t\t\t}\n\t\t}\n\n\t\tif (points.length) segment(points, ctx);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor, stroke, strokeWidth, hoverStrokeWidth, defined } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tvar dataSeries = d3.svg.line()\n\t\t\t.defined(d => defined(yAccessor(d)))\n\t\t\t.x(d => xScale(xAccessor(d)))\n\t\t\t.y(d => yScale(yAccessor(d)));\n\n\t\tvar d = dataSeries(plotData);\n\n\t\tvar { fill, className } = this.props;\n\n\t\treturn <path className={`${className} ${stroke ? \"\" : \" line-stroke\"}`}\n\t\t\td={d}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={hovering ? hoverStrokeWidth : strokeWidth}\n\t\t\tfill={fill}\n\t\t\t/>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tisHover={this.isHover}\n\t\t\tonClick={this.props.onClick}\n\t\t\tonDoubleClick={this.props.onDoubleClick}\n\t\t\tonContextMenu={this.props.onContextMenu}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\nfunction segment(points, ctx) {\n\tctx.beginPath();\n\n\tlet [x, y] = first(points);\n\tctx.moveTo(x, y);\n\tfor (let i = 1; i < points.length; i++) {\n\t\tlet [x1, y1] = points[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tctx.stroke();\n}\n\nLineSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\thoverStrokeWidth: PropTypes.number,\n\tfill: PropTypes.string,\n\tdefined: PropTypes.func,\n\thoverTolerance: PropTypes.number,\n\thighlightOnHover: PropTypes.bool,\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nLineSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nLineSeries.defaultProps = {\n\tclassName: \"line \",\n\tstrokeWidth: 1,\n\thoverStrokeWidth: 4,\n\tfill: \"none\",\n\tstroke: \"#4682B4\",\n\tdefined: d => !isNaN(d),\n\thoverTolerance: 6,\n\thighlightOnHover: false,\n\tonClick: function(e) { console.log(\"Click\", e); },\n\tonDoubleClick: function(e) { console.log(\"Double Click\", e); },\n\tonContextMenu: function(e) { console.log(\"Right Click\", e); },\n};\n\nexport default LineSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/LineSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport { isNotDefined, isDefined, noop } from \"./utils\";\n\nvar suscriberId = 0;\n\nclass GenericComponent extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\tthis.updateMoreProps = this.updateMoreProps.bind(this);\n\t\tthis.evaluateType = this.evaluateType.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t\tthis.executeMouseMove = this.executeMouseMove.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t\tthis.getRef = this.getRef.bind(this);\n\n\t\tthis.suscriberId = suscriberId++;\n\n\t\tthis.drawOnNextTick = false;\n\n\t\tthis.moreProps = {};\n\t\tthis.state = {\n\t\t\tupdateCount: 0,\n\t\t};\n\t}\n\tgetRef(ref) {\n\t\treturn this.refs[ref];\n\t}\n\tupdateMoreProps(moreProps) {\n\t\tthis.prevMoreProps = this.moreProps;\n\t\tthis.moreProps = Object.assign(this.moreProps, moreProps);\n\t}\n\tlistener(type, moreProps, e) {\n\t\t// console.log(e.shiftKey)\n\t\tif (isDefined(moreProps)) {\n\t\t\tthis.updateMoreProps(moreProps);\n\t\t}\n\n\t\tthis.evaluateType(type, e);\n\t}\n\texecuteMouseMove(e) {\n\t\tthis.moreProps.hovering = this.isHover(e);\n\n\t\tif (this.moreProps.hovering\n\t\t\t\t|| this.props.drawOnMouseMove) {\n\t\t\tif (this.props.onMouseMove) this.props.onMouseMove(e);\n\t\t\tthis.drawOnNextTick = true;\n\t\t} else {\n\t\t\tthis.drawOnNextTick = false;\n\t\t}\n\t}\n\tevaluateType(type, e) {\n\t\t// if (this.props.debug) console.log(this.props.debug, type);\n\n\t\tswitch (type) {\n\t\tcase \"zoom\":\n\t\tcase \"mouseenter\":\n\t\t\t\t// DO NOT DRAW FOR THESE EVENTS\n\t\t\tbreak;\n\t\tcase \"contextmenu\": {\n\t\t\tif (this.moreProps.hovering && this.props.onContextMenu) {\n\t\t\t\tthis.props.onContextMenu(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mousedown\": {\n\t\t\tif (this.moreProps.hovering && this.props.onMouseDown) {\n\t\t\t\tthis.props.onMouseDown(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"click\": {\n\t\t\tif (this.moreProps.hovering && this.props.onClick) {\n\t\t\t\tthis.props.onClick(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mousemove\": {\n\t\t\tthis.executeMouseMove(e);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"dblclick\": {\n\t\t\tif (this.moreProps.hovering && this.props.onDoubleClick) {\n\t\t\t\tthis.props.onDoubleClick(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mouseleave\": {\n\t\t\tthis.drawOnNextTick = this.props.drawOnMouseExitOfCanvas;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"pan\": {\n\t\t\tthis.moreProps.hovering = false;\n\t\t\tthis.drawOnNextTick = this.props.drawOnPan;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"draw\": {\n\t\t\tif (this.drawOnNextTick) {\n\t\t\t\tthis.draw();\n\t\t\t}\n\t\t}\n\t\t}\n\t\tif (this.props.debug) console.log(this.props.debug, type, this.drawOnNextTick);\n\n\t\t// if (type !== \"mousemove\" && type !== \"ff\") this.moreProps.prevHovering = false;\n\t}\n\tisHover(e) {\n\t\treturn this.props.isHover(this.moreProps, e);\n\t}\n\tdraw() {\n\t\tvar { chartCanvasType } = this.context;\n\t\tvar { canvasDraw } = this.props;\n\n\t\tif (isNotDefined(canvasDraw) || chartCanvasType === \"svg\") {\n\t\t\tvar { updateCount } = this.state;\n\n\t\t\tthis.setState({\n\t\t\t\tupdateCount: updateCount + 1,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tvar { subscribe } = this.context;\n\t\tsubscribe(this.suscriberId, this.listener);\n\t\tthis.componentWillReceiveProps(this.props, this.context);\n\t}\n\tcomponentWillUnmount() {\n\t\tvar { unsubscribe } = this.context;\n\t\tunsubscribe(this.suscriberId);\n\t}\n\tcomponentDidMount() {\n\t\tthis.componentDidUpdate();\n\t}\n\tcomponentDidUpdate() {\n\t\tvar { chartCanvasType } = this.context;\n\t\tvar { canvasDraw } = this.props;\n\n\t\tif (this.props.debug) console.log(this.props.debug, \"updated\");\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") {\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tvar { xScale, plotData, chartConfig } = nextContext;\n\t\tif (this.props.debug) console.log(nextContext);\n\t\tthis.moreProps = {\n\t\t\t...this.moreProps,\n\t\t\txScale, plotData, chartConfig\n\t\t};\n\t}\n\tgetMoreProps() {\n\t\tvar { xScale, plotData, chartConfig } = this.context;\n\n\t\tvar moreProps = {\n\t\t\txScale, plotData, chartConfig,\n\t\t\t...this.moreProps\n\t\t};\n\t\treturn moreProps;\n\t}\n\tgetPrevMoreProps() {\n\t\treturn this.prevMoreProps;\n\t}\n\tpreCanvasDraw() {\n\t\t// do nothing\n\t}\n\tpostCanvasDraw() {\n\t\t// do nothing\n\t}\n\tdrawOnCanvas() {\n\t\tvar { canvasDraw, canvasToDraw, hoverCanvasToDraw } = this.props;\n\t\tvar { getCanvasContexts } = this.context;\n\t\tvar { hovering } = this.moreProps;\n\n\t\tvar ctx = hovering\n\t\t\t? hoverCanvasToDraw(getCanvasContexts())\n\t\t\t: canvasToDraw(getCanvasContexts());\n\n\t\tthis.preCanvasDraw(ctx);\n\t\tcanvasDraw(ctx, this.getMoreProps());\n\n\t\tthis.postCanvasDraw(ctx);\n\t}\n\trender() {\n\t\tvar { chartCanvasType, chartId } = this.context;\n\t\tvar { canvasDraw, clip, svgDraw } = this.props;\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") return null;\n\n\t\tvar suffix = isDefined(chartId) ? \"-\" + chartId : \"\";\n\n\t\tvar style = clip ? { \"clipPath\": `url(#chart-area-clip${suffix})` } : null;\n\n\t\treturn <g style={style}>{svgDraw(this.getMoreProps())}</g>;\n\t}\n}\n\nGenericComponent.propTypes = {\n\tsvgDraw: PropTypes.func.isRequired,\n\tcanvasDraw: PropTypes.func,\n\tdrawOnMouseMove: PropTypes.bool.isRequired,\n\tdrawOnPan: PropTypes.bool.isRequired,\n\tclip: PropTypes.bool.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n\tdrawOnMouseExitOfCanvas: PropTypes.bool.isRequired,\n\tcanvasToDraw: PropTypes.func.isRequired,\n\thoverCanvasToDraw: PropTypes.func.isRequired,\n\tisHover: PropTypes.func.isRequired,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\n\tdebug: PropTypes.string,\n};\n\nGenericComponent.defaultProps = {\n\tsvgDraw: d3.functor(null),\n\tdrawOnMouseMove: false,\n\tdrawOnPan: false,\n\tdrawOnHover: false,\n\tdrawOnMouseExitOfCanvas: false,\n\tcanvasToDraw: contexts => contexts.mouseCoord,\n\thoverCanvasToDraw: contexts => contexts.mouseCoord,\n\tclip: true,\n\tedgeClip: false,\n\tisHover: d3.functor(false),\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n};\n\nGenericComponent.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tchartId: PropTypes.number,\n\tgetCanvasContexts: PropTypes.func,\n\n\tchartCanvasType: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\n\tchartConfig: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]).isRequired,\n\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n};\n\nexport default GenericComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GenericComponent.jsx","\"use strict\";\n\nexport const themes = {\n\tlight: {\n\t\tBollingerBand: {\n\t\t\tstroke: {\n\t\t\t\ttop: \"#964B00\",\n\t\t\t\tmiddle: \"#000000\",\n\t\t\t\tbottom: \"#964B00\",\n\t\t\t},\n\t\t\tfill: \"#4682B4\",\n\t\t},\n\t\tElderImpulse: {\n\t\t\tstroke: {\n\t\t\t\tup: \"#6BA583\",\n\t\t\t\tdown: \"#FF0000\",\n\t\t\t\tneutral: \"#0000FF\",\n\t\t\t}\n\t\t},\n\t\tMACD: {\n\t\t\tfill: {\n\t\t\t\tdivergence: \"#4682B4\"\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tmacd: \"#FF0000\",\n\t\t\t\tsignal: \"#00F300\",\n\t\t\t},\n\t\t},\n\t\tFullStochasticOscillator: {\n\t\t\tstroke: {\n\t\t\t\tD: \"#17becf\",\n\t\t\t\tK: \"#ff7f0e\",\n\t\t\t},\n\t\t},\n\t},\n\tdark: {\n\t\tBollingerBand: {\n\t\t\tstroke: {\n\t\t\t\ttop: \"#964B00\",\n\t\t\t\tmiddle: \"#FF6600\",\n\t\t\t\tbottom: \"#964B00\",\n\t\t\t},\n\t\t\tfill: \"#4682B4\",\n\t\t},\n\t\tElderImpulse: {\n\t\t\tstroke: {\n\t\t\t\tup: \"#6BA583\",\n\t\t\t\tdown: \"#FF0000\",\n\t\t\t\tneutral: \"#0000FF\",\n\t\t\t}\n\t\t},\n\t\tMACD: {\n\t\t\tfill: {\n\t\t\t\tdivergence: \"#FF6600\"\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tmacd: \"#ea2bff\",\n\t\t\t\tsignal: \"#74d400\",\n\t\t\t},\n\t\t},\n\t\tFullStochasticOscillator: {\n\t\t\tstroke: {\n\t\t\t\tD: \"#ea2bff\",\n\t\t\t\tK: \"#74d400\",\n\t\t\t},\n\t\t},\n\t}\n};\n\nexport const BollingerBand = themes.light.BollingerBand;\nexport const ElderImpulse = themes.light.ElderImpulse;\nexport const MACD = themes.light.MACD;\nexport const FullStochasticOscillator = themes.light.FullStochasticOscillator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/defaultOptionsForAppearance.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nclass StraightLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { stroke, opacity, yValue } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\t\tctx.moveTo(xScale(first), yScale(yValue));\n\t\tctx.lineTo(xScale(last), yScale(yValue));\n\t\tctx.stroke();\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { stroke, className, opacity, yValue } = this.props;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\treturn (\n\t\t\t<line className={className}\n\t\t\t\tstroke={stroke} opacity={opacity}\n\t\t\t\tx1={xScale(first)} y1={yScale(yValue)}\n\t\t\t\tx2={xScale(last)} y2={yScale(yValue)} />\n\t\t);\n\t}\n}\n\nStraightLine.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number.isRequired,\n\tyValue: PropTypes.number.isRequired,\n};\nStraightLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nStraightLine.defaultProps = {\n\tclassName: \"line \",\n\tstroke: \"#000000\",\n\topacity: 0.5,\n};\n\nexport default StraightLine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/StraightLine.jsx","\"use strict\";\n\nexport default d => d;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/identity.js","export default () => {};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/noop.js","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 20\n// module chunks = 3","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/exponentialMovingAverage.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport { isNotDefined, path } from \"../../utils\";\nimport { EMA as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar alpha = 2 / (windowSize + 1);\n\t\tvar previous;\n\t\tvar initialAccumulator = 0;\n\t\tvar skip = 0;\n\n\t\treturn data.map(function(d, i) {\n\t\t\tvar v = source(d, i);\n\t\t\tif (isNotDefined(previous) && isNotDefined(v)) {\n\t\t\t\tskip++;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i < windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i === windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\tvar initialValue = initialAccumulator / windowSize;\n\t\t\t\tprevious = initialValue;\n\t\t\t\treturn initialValue;\n\t\t\t} else {\n\t\t\t\tvar nextValue = v * alpha + (1 - alpha) * previous;\n\t\t\t\tprevious = nextValue;\n\t\t\t\treturn nextValue;\n\t\t\t}\n\t\t});\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/ema.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { identity, hexToRGBA, first, last, isDefined } from \"../utils\";\n\n\nclass StackedBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\t// var { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor, d3.layout.stack());\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\treturn <g>{svgHelper(this.props, moreProps, xAccessor, d3.layout.stack())}</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nStackedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n};\n\nStackedBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nStackedBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: true,\n\tfill: \"#4682B4\",\n\topacity: 0.5,\n\twidthRatio: 0.8,\n};\n\nexport function drawOnCanvasHelper(ctx, props, moreProps, xAccessor, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar bars = doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\n\tdrawOnCanvas2(props, ctx, bars);\n}\n\nfunction convertToArray(item) {\n\treturn Array.isArray(item) ? item : [item];\n}\n\nexport function svgHelper(props, moreProps, xAccessor, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\tvar bars = doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\treturn getBarsSVG2(props, bars);\n}\n\nfunction doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction) {\n\tvar { yAccessor, swapScales } = props;\n\n\tvar modifiedYAccessor = swapScales ? convertToArray(props.xAccessor) : convertToArray(yAccessor);\n\tvar modifiedXAccessor = swapScales ? yAccessor : xAccessor;\n\n\tvar modifiedXScale = swapScales ? yScale : xScale;\n\tvar modifiedYScale = swapScales ? xScale : yScale;\n\n\tvar postProcessor =  swapScales ? postRotateAction : defaultPostAction;\n\n\tvar bars = getBars(props, modifiedXAccessor, modifiedYAccessor, modifiedXScale, modifiedYScale, plotData, stackFn, postProcessor);\n\n\treturn bars;\n}\n\nexport const rotateXY = (array) => array.map(each => {\n\treturn {\n\t\t...each,\n\t\tx: each.y,\n\t\ty: each.x,\n\t\theight: each.width,\n\t\twidth: each.height\n\t};\n});\n\nexport function getBarsSVG2(props, bars) {\n\t/* eslint-disable react/prop-types */\n\tvar { opacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn bars.map((d, idx) => {\n\t\tif (d.width <= 1) {\n\t\t\treturn <line key={idx} className={d.className}\n\t\t\t\t\t\tstroke={d.fill}\n\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />;\n\t\t}\n\t\treturn <rect key={idx} className={d.className}\n\t\t\t\t\tstroke={d.stroke}\n\t\t\t\t\tfill={d.fill}\n\t\t\t\t\tx={d.x}\n\t\t\t\t\ty={d.y}\n\t\t\t\t\twidth={d.width}\n\t\t\t\t\tfillOpacity={opacity}\n\t\t\t\t\theight={d.height} />;\n\t});\n}\n\nexport function drawOnCanvas2(props, ctx, bars) {\n\tvar { stroke } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.entries(bars);\n\n\tnest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tif (values[0].width < 1) {\n\t\t\tctx.strokeStyle = key;\n\t\t} else {\n\t\t\tctx.strokeStyle = key;\n\t\t\tctx.fillStyle = hexToRGBA(key, props.opacity);\n\t\t}\n\t\tvalues.forEach(d => {\n\t\t\tif (d.width < 1) {\n\t\t\t\t/* <line key={idx} className={d.className}\n\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />*/\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\t/* <rect key={idx} className={d.className}\n\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\tx={d.x}\n\t\t\t\t\t\ty={d.y}\n\t\t\t\t\t\twidth={d.width}\n\t\t\t\t\t\theight={d.height} /> */\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\tctx.fill();\n\t\t\t\tif (stroke) ctx.stroke();\n\t\t\t}\n\n\t\t});\n\t});\n}\n\nexport function getBars(props, xAccessor, yAccessor, xScale, yScale, plotData, stack = identity, after = identity) {\n\tvar { baseAt, className, fill, stroke, widthRatio, spaceBetweenBar = 0 } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\t// console.log(barWidth)\n\n\tvar eachBarWidth = (barWidth - spaceBetweenBar * (yAccessor.length - 1)) / yAccessor.length;\n\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * bw);\n\n\tvar layers = yAccessor\n\t\t.map((eachYAccessor, i) => plotData\n\t\t\t.map(d => ({\n\t\t\t\tseries: xAccessor(d),\n\t\t\t\tdatum: d,\n\t\t\t\tx: i,\n\t\t\t\ty: eachYAccessor(d),\n\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\tfill: getFill(d, i),\n\t\t\t}))\n\t\t);\n\tvar data = stack(layers);\n\n\tvar bars = d3.merge(data)\n\t\t\t.filter(d => isDefined(d.y))\n\t\t\t.map(d => {\n\t\t\t\t// let baseValue = yScale.invert(getBase(xScale, yScale, d.datum));\n\t\t\t\tlet y = yScale(d.y + (d.y0 || 0));\n\t\t\t\t/* let h = isDefined(d.y0) && d.y0 !== 0 && !isNaN(d.y0)\n\t\t\t\t\t? yScale(d.y0) - y\n\t\t\t\t\t: getBase(xScale, yScale, d.datum) - yScale(d.y)*/\n\t\t\t\tvar h = getBase(xScale, yScale, d.datum) - yScale(d.y);\n\t\t\t\t// console.log(d.y, yScale.domain(), yScale.range())\n\t\t\t\t// let h = ;\n\t\t\t\t// if (d.y < 0) h = -h;\n\t\t\t\tif (h < 0) {\n\t\t\t\t\ty = y + h;\n\t\t\t\t\th = -h;\n\t\t\t\t}\n\t\t\t\t/* console.log(d.series, d.datum.date, d.x,\n\t\t\t\t\tgetBase(xScale, yScale, d.datum), `d.y=${d.y}, d.y0=${d.y0}, y=${y}, h=${h}`)*/\n\t\t\t\treturn {\n\t\t\t\t\tclassName: d.className,\n\t\t\t\t\tstroke: d.stroke,\n\t\t\t\t\tfill: d.fill,\n\t\t\t\t\t// series: d.series,\n\t\t\t\t\t// i: d.x,\n\t\t\t\t\tx: Math.round(xScale(d.series) - bw / 2),\n\t\t\t\t\ty: y,\n\t\t\t\t\tgroupOffset: Math.round(offset - (d.x > 0 ? (eachBarWidth + spaceBetweenBar) * d.x : 0)),\n\t\t\t\t\tgroupWidth: Math.round(eachBarWidth),\n\t\t\t\t\toffset: Math.round(offset),\n\t\t\t\t\theight: h,\n\t\t\t\t\twidth: barWidth,\n\t\t\t\t};\n\t\t\t});\n\t// console.log(bars)\n\n\treturn after(bars);\n}\n\nexport default StackedBarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/StackedBarSeries.jsx","\"use strict\";\n\nimport React from \"react\";\n\nimport { hexToRGBA, isDefined } from \"../utils\";\n\n/* eslint-disable react/prop-types */\nexport function renderSVG(props) {\n\tvar { className } = props;\n\n\tvar edge = helper(props);\n\tif (edge === null) return null;\n\tvar line, coordinateBase, coordinate;\n\n\tif (isDefined(edge.line)) {\n\t\tline = <line\n\t\t\tclassName=\"react-stockcharts-cross-hair\" opacity={edge.line.opacity} stroke={edge.line.stroke}\n\t\t\tx1={edge.line.x1} y1={edge.line.y1}\n\t\t\tx2={edge.line.x2} y2={edge.line.y2} />;\n\t}\n\tif (isDefined(edge.coordinateBase)) {\n\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tvar path = edge.orient === \"left\"\n\t\t\t? `M0,0L0,${ rectHeight }L${ rectWidth },${ rectHeight }L${ rectWidth + arrowWidth },10L${ rectWidth },0L0,0L0,0`\n\t\t\t: `M0,${ arrowWidth }L${ arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },0L${ arrowWidth },0L0,${ arrowWidth }`;\n\n\t\tcoordinateBase = edge.orient === \"left\" || edge.orient === \"right\"\n\t\t\t? <g transform={`translate(${edge.coordinateBase.edgeXRect},${edge.coordinateBase.edgeYRect})`}>\n\t\t\t\t\t<path d={path} key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />\n\t\t\t\t</g>\n\t\t\t: <rect key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\tx={edge.coordinateBase.edgeXRect}\n\t\t\t\t\ty={edge.coordinateBase.edgeYRect}\n\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />;\n\n\t\tcoordinate = (<text key={2} x={edge.coordinate.edgeXText}\n\t\t\ty={edge.coordinate.edgeYText}\n\t\t\ttextAnchor={edge.coordinate.textAnchor}\n\t\t\tfontFamily={edge.coordinate.fontFamily}\n\t\t\tfontSize={edge.coordinate.fontSize}\n\t\t\tdy=\".32em\" fill={edge.coordinate.textFill} >{edge.coordinate.displayCoordinate}</text>);\n\t}\n\treturn (\n\t\t<g className={className}>\n\t\t\t{line}\n\t\t\t{coordinateBase}\n\t\t\t{coordinate}\n\t\t</g>\n\t);\n}\n/* eslint-enable react/prop-types */\n\nfunction helper(props) {\n\tvar { coordinate: displayCoordinate, show, type, orient, edgeAt, hideLine } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, lineStroke, lineOpacity, arrowWidth } = props;\n\tvar { rectWidth, rectHeight } = props;\n\tvar { x1, y1, x2, y2, dx } = props;\n\n\tif (!show) return null;\n\n\t// rectWidth = rectWidth ? rectWidth : (type === \"horizontal\") ? 60 : 100;\n\n\tvar edgeXRect, edgeYRect, edgeXText, edgeYText;\n\n\tif (type === \"horizontal\") {\n\n\t\tedgeXRect = dx + ((orient === \"right\") ? edgeAt + 1 : edgeAt - rectWidth - arrowWidth - 1);\n\t\tedgeYRect = y1 - (rectHeight / 2);\n\t\tedgeXText = dx + ((orient === \"right\") ? edgeAt + (rectWidth / 2) + arrowWidth : edgeAt - (rectWidth / 2) - arrowWidth);\n\t\tedgeYText = y1;\n\t} else {\n\t\tedgeXRect = x1 - (rectWidth / 2);\n\t\tedgeYRect = (orient === \"bottom\") ? edgeAt : edgeAt - rectHeight;\n\t\tedgeXText = x1;\n\t\tedgeYText = (orient === \"bottom\") ? edgeAt + (rectHeight / 2) : edgeAt - (rectHeight / 2);\n\t}\n\tvar coordinateBase, coordinate, textAnchor = \"middle\";\n\tif (isDefined(displayCoordinate)) {\n\t\tcoordinateBase = {\n\t\t\tedgeXRect, edgeYRect, rectHeight, rectWidth, fill, opacity, arrowWidth\n\t\t};\n\t\tcoordinate = {\n\t\t\tedgeXText, edgeYText, textAnchor, fontFamily, fontSize, textFill, displayCoordinate\n\t\t};\n\t}\n\n\tvar line = hideLine ? undefined : {\n\t\topacity: lineOpacity, stroke: lineStroke, x1, y1, x2, y2\n\t};\n\treturn {\n\t\tcoordinateBase, coordinate, line, orient\n\t};\n}\n\nexport function drawOnCanvas(ctx, props) {\n\tvar edge = helper(props);\n\n\tif (edge === null) return;\n\n\tif (isDefined(edge.coordinateBase)) {\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tctx.fillStyle = hexToRGBA(edge.coordinateBase.fill, edge.coordinateBase.opacity);\n\n\t\tvar x = edge.coordinateBase.edgeXRect;\n\t\tvar y = edge.coordinateBase.edgeYRect;\n\n\t\tctx.beginPath();\n\n\t\tif (edge.orient === \"right\") {\n\t\t\tctx.moveTo(x, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight);\n\t\t\tctx.lineTo(x + arrowWidth, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else if (edge.orient === \"left\") {\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + rectWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + rectWidth, y + rectHeight);\n\t\t\tctx.lineTo(x, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else {\n\t\t\tctx.rect(x, y, rectWidth, rectHeight);\n\t\t}\n\t\tctx.fill();\n\n\t\tctx.font = `${ edge.coordinate.fontSize }px ${edge.coordinate.fontFamily}`;\n\t\tctx.fillStyle = edge.coordinate.textFill;\n\t\tctx.textAlign = edge.coordinate.textAnchor === \"middle\" ? \"center\" : edge.coordinate.textAnchor;\n\t\tctx.textBaseline = \"middle\";\n\n\t\tctx.fillText(edge.coordinate.displayCoordinate, edge.coordinate.edgeXText, edge.coordinate.edgeYText);\n\t}\n\tif (isDefined(edge.line)) {\n\t\tctx.strokeStyle = hexToRGBA(edge.line.stroke, edge.line.opacity);\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(edge.line.x1, edge.line.y1);\n\t\tctx.lineTo(edge.line.x2, edge.line.y2);\n\t\tctx.stroke();\n\t}\n}\n\n// export default EdgeCoordinate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/EdgeCoordinateV2.jsx","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow, last, isDefined } from \"../../utils\";\n\nexport default function() {\n\n\tvar windowSize = 9,\n\t\tsource = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction calculator(data) {\n\n\t\tvar trueRangeAlgorithm = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.source(source)\n\t\t\t.undefinedValue(d => d.high - d.low) // the first TR value is simply the High minus the Low\n\t\t\t.accumulator(values => {\n\t\t\t\tvar prev = values[0];\n\t\t\t\tvar d = values[1];\n\t\t\t\treturn Math.max(d.high - d.low,\n\t\t\t\t\td.high - prev.close,\n\t\t\t\t\td.low - prev.close);\n\t\t\t});\n\n\t\tvar prevATR;\n\n\t\tvar atrAlgorithm = slidingWindow()\n\t\t\t.skipInitial(1) // trueRange starts from index 1 so ATR starts from 1\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\t\t\t\tvar tr = last(values);\n\t\t\t\tvar atr = isDefined(prevATR)\n\t\t\t\t\t? ((prevATR * (windowSize - 1)) + tr) / windowSize\n\t\t\t\t\t: d3.sum(values) / windowSize;\n\n\t\t\t\tprevATR = atr;\n\t\t\t\treturn atr;\n\t\t\t});\n\n\t\tvar newData = atrAlgorithm(trueRangeAlgorithm(data));\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/atr.js","\"use strict\";\n\nimport React from \"react\";\nimport d3 from \"d3\";\nimport flattenDeep from \"lodash.flattendeep\";\n\nimport Chart from \"../Chart\";\n\nimport {\n\tisObject,\n\tgetClosestItem,\n\tzipper,\n\tisDefined,\n} from \"./index\";\n\nexport function getChartOrigin(origin, contextWidth, contextHeight) {\n\tvar originCoordinates = typeof origin === \"function\"\n\t\t? origin(contextWidth, contextHeight)\n\t\t: origin;\n\treturn originCoordinates;\n}\n\nexport function getDimensions({ width, height }, chartProps) {\n\n\tvar chartWidth = (chartProps.width || width);\n\tvar chartHeight = (chartProps.height || height);\n\n\treturn {\n\t\tavailableWidth: width,\n\t\tavailableHeight: height,\n\t\twidth: chartWidth,\n\t\theight: chartHeight\n\t};\n}\n\nfunction values(func) {\n\treturn (d) => {\n\t\tvar obj = func(d);\n\t\treturn isObject(obj) ? Object.keys(obj).map(key => obj[key]) : obj;\n\t};\n}\n\nexport function getNewChartConfig(innerDimension, children) {\n\n\treturn React.Children.map(children, (each) => {\n\t\tif (each.type === Chart) {\n\t\t\tvar { id, origin, padding, yExtents: yExtentsProp, yScale, flipYScale, yExtentsCalculator } = each.props;\n\t\t\tvar { width, height, availableWidth, availableHeight } = getDimensions(innerDimension, each.props);\n\t\t\tvar { yPan } = each.props;\n\t\t\t// var { yMousePointerRectWidth: rectWidth, yMousePointerRectHeight: rectHeight, yMousePointerArrowWidth: arrowWidth } = each.props;\n\t\t\t// var mouseCoordinates = { at, yDisplayFormat, rectHeight, rectWidth, arrowWidth };\n\t\t\tvar yExtents = isDefined(yExtentsProp)\n\t\t\t\t? (Array.isArray(yExtentsProp) ? yExtentsProp : [yExtentsProp]).map(d3.functor)\n\t\t\t\t: undefined;\n\t\t\t// console.log(yExtentsProp, yExtents);\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\torigin: d3.functor(origin)(availableWidth, availableHeight),\n\t\t\t\tpadding,\n\t\t\t\tyExtents,\n\t\t\t\tyExtentsCalculator,\n\t\t\t\tflipYScale,\n\t\t\t\tyScale,\n\t\t\t\tyPan,\n\t\t\t\t// mouseCoordinates,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}).filter(each => isDefined(each));\n}\nexport function getCurrentCharts(chartConfig, mouseXY) {\n\tvar currentCharts = chartConfig.filter(eachConfig => {\n\t\tvar top = eachConfig.origin[1];\n\t\tvar bottom = top + eachConfig.height;\n\t\treturn (mouseXY[1] > top && mouseXY[1] < bottom);\n\t}).map(config => config.id);\n\n\treturn currentCharts;\n}\n\nfunction setRange(scale, height, padding, flipYScale) {\n\tif (scale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\tscale.rangeRoundPoints(flipYScale ? [0, height] : [height, 0], padding);\n\t} else {\n\t\tvar { top, bottom } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { top: padding, bottom: padding };\n\n\t\tscale.range(flipYScale ? [top, height - bottom] : [height - bottom, top]);\n\t}\n\treturn scale;\n}\n\nfunction yDomainFromYExtents(yExtents, yScale, plotData) {\n\tvar yValues = yExtents.map(eachExtent =>\n\t\tplotData.map(values(eachExtent)));\n\n\tvar allYValues = flattenDeep(yValues);\n\n\tvar realYDomain =  (yScale.invert)\n\t\t? d3.extent(allYValues)\n\t\t: d3.set(allYValues).values();\n\n\treturn realYDomain;\n}\n\n\nexport function getChartConfigWithUpdatedYScales(chartConfig, plotData, dy, chartsToPan) {\n\n\tvar yDomains = chartConfig\n\t\t.map(({ yExtentsCalculator, yExtents, yScale }) => {\n\n\t\t\tvar realYDomain = isDefined(yExtentsCalculator)\n\t\t\t\t? yExtentsCalculator(plotData)\n\t\t\t\t: yDomainFromYExtents(yExtents, yScale, plotData);\n\n\t\t\tvar yDomainDY = isDefined(dy)\n\t\t\t\t\t? yScale.range().map(each => each - dy).map(yScale.invert)\n\t\t\t\t\t: yScale.domain();\n\t\t\treturn {\n\t\t\t\trealYDomain,\n\t\t\t\tyDomainDY,\n\t\t\t\tprevYDomain: yScale.domain(),\n\t\t\t};\n\t\t});\n\n\tvar combine = zipper()\n\t\t.combine((config, { realYDomain, yDomainDY, prevYDomain }) => {\n\t\t\tvar { id, padding, height, yScale, yPan, flipYScale, yPanEnabled = false } = config;\n\n\t\t\tvar another = isDefined(chartsToPan)\n\t\t\t\t? chartsToPan.indexOf(id) > -1\n\t\t\t\t: true;\n\t\t\tvar domain = yPan && yPanEnabled\n\t\t\t\t? another ? yDomainDY : prevYDomain\n\t\t\t\t: realYDomain;\n\t\t\t// console.log(yPan, yPanEnabled, properYDomain, domain, realYDomain)\n\t\t\treturn {\n\t\t\t\t...config,\n\t\t\t\tyScale: setRange(yScale.copy().domain(domain), height, padding, flipYScale),\n\t\t\t\trealYDomain,\n\t\t\t};\n\t\t\t// return { ...config, yScale: yScale.copy().domain(domain).range([height - padding, padding]) };\n\t\t});\n\n\tvar updatedChartConfig = combine(chartConfig, yDomains);\n\treturn updatedChartConfig;\n}\n\nexport function getCurrentItem(xScale, xAccessor, mouseXY, plotData) {\n\tvar xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t} else {\n\t\tvar d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn item;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/ChartDataUtil.js","\"use strict\";\n\nimport { Component } from \"react\";\nimport shallowEqual from \"./shallowEqual\";\n\nclass PureComponent extends Component {\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\treturn !shallowEqual(this.props, nextProps)\n\t\t\t|| !shallowEqual(this.state, nextState)\n\t\t\t|| !shallowEqual(this.context, nextContext);\n\t}\n}\n\nexport default PureComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/PureComponent.js","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport PureComponent from \"./utils/PureComponent\";\nimport { isNotDefined } from \"./utils\";\n\nclass Chart extends PureComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.yScale = this.yScale.bind(this);\n\t}\n\tyScale() {\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\treturn chartConfig.yScale.copy();\n\t}\n\tgetChildContext() {\n\t\tvar { id: chartId } = this.props;\n\t\tvar { ratio, margin } = this.context;\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === chartId)[0];\n\n\t\tvar { width, height } = chartConfig;\n\t\tvar canvasOriginX = (0.5 * ratio) + chartConfig.origin[0] + margin.left;\n\t\tvar canvasOriginY = (0.5 * ratio) + chartConfig.origin[1] + margin.top;\n\n\t\treturn { chartId, chartConfig, canvasOriginX, canvasOriginY, width, height };\n\t}\n\trender() {\n\t\tvar { origin } = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\tvar [x, y] = origin;\n\n\t\treturn <g transform={`translate(${ x }, ${ y })`}>{this.props.children}</g>;\n\t}\n}\n\nChart.propTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tid: PropTypes.number.isRequired,\n\tyExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]),\n\tyExtentsCalculator: function(props, propName, componentName) {\n\t\tif (isNotDefined(props.yExtents) && typeof props.yExtentsCalculator !== \"function\")\n\t\t\treturn new Error(\"yExtents or yExtentsCalculator must\"\n\t\t\t\t+ ` be present on ${componentName}. Validation failed.`);\n\t},\n\tyScale: PropTypes.func.isRequired,\n\tyMousePointerDisplayLocation: PropTypes.oneOf([\"left\", \"right\"]),\n\tyMousePointerDisplayFormat: PropTypes.func,\n\tflipYScale: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\ttop: PropTypes.number,\n\t\t\tbottom: PropTypes.number,\n\t\t})\n\t]).isRequired,\n\tchildren: PropTypes.node,\n};\n\nChart.defaultProps = {\n\tid: 0,\n\torigin: [0, 0],\n\tpadding: 0,\n\tyScale: d3.scale.linear(),\n\tflipYScale: false,\n\tyPan: true,\n};\n\nChart.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\tmargin: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n\n\t// adding here even when this is not used by Chart, refer to https://github.com/facebook/react/issues/2517\n\t// used by CurrentCoordinate\n\t// currentItem: PropTypes.object,\n\t// mouseXY: PropTypes.array,\n\t// show: PropTypes.bool,\n};\n\nChart.childContextTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\tchartConfig: PropTypes.object.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartId: PropTypes.number.isRequired,\n};\n\nexport default Chart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Chart.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\n\t\tvar { xAccessor, xScale, yScale } = this.props;\n\n\t\tvar { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<text x={xPos} y={yPos}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttextAnchor={textAnchor}>{text}</text>\n\t\t</g>);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: d3.functor(text)(datum),\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.func,\n\ty: PropTypes.func,\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/LabelAnnotation.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport AxisZoomCapture from \"./AxisZoomCapture\";\n\nimport { first, last, hexToRGBA, isNotDefined, isDefined, identity } from \"../utils\";\n\nclass Axis extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { showDomain, showTicks, transform, range, getScale } = this.props;\n\n\t\tctx.save();\n\t\tctx.translate(transform[0], transform[1]);\n\n\t\tif (showDomain) drawAxisLine(ctx, this.props, range);\n\t\tif (showTicks) {\n\t\t\tvar tickProps = tickHelper(this.props, getScale(moreProps));\n\t\t\tdrawTicks(ctx, tickProps);\n\t\t}\n\n\t\tctx.restore();\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar { showDomain, showTicks, range, getScale } = this.props;\n\n\t\tvar ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n\t\tvar domain = showDomain ? axisLineSVG(this.props, range) : null;\n\n\t\treturn <g className={className}>\n\t\t\t{ticks}\n\t\t\t{domain}\n\t\t</g>;\n\t}\n\tgetMoreProps() {\n\t\treturn this.refs.propProvider.getMoreProps();\n\t}\n\trender() {\n\t\tvar { bg, axisZoomCallback, zoomCursorClassName, zoomEnabled, getScale } = this.props;\n\t\tvar { transform, getMouseDelta, edgeClip } = this.props;\n\n\t\tvar zoomCapture = zoomEnabled\n\t\t\t? <AxisZoomCapture\n\t\t\t\tbg={bg}\n\t\t\t\tgetScale={getScale}\n\t\t\t\tgetMoreProps={this.getMoreProps}\n\t\t\t\tgetMouseDelta={getMouseDelta}\n\t\t\t\taxisZoomCallback={axisZoomCallback}\n\t\t\t\tzoomCursorClassName={zoomCursorClassName} />\n\t\t\t: null;\n\n\t\treturn <g transform={`translate(${ transform[0] }, ${ transform[1] })`}>\n\t\t\t{zoomCapture}\n\t\t\t<GenericChartComponent ref=\"propProvider\"\n\t\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\t\tclip={false}\n\t\t\t\tedgeClip={edgeClip}\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t\tdrawOnPan\n\t\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nAxis.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\tzoomEnabled: PropTypes.bool,\n\tzoomCursorClassName: PropTypes.string,\n\ttransform: PropTypes.arrayOf(PropTypes.number).isRequired,\n\trange: PropTypes.arrayOf(PropTypes.number).isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tbg: PropTypes.object.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n};\n\nAxis.defaultProps = {\n\tzoomEnabled: false,\n\tzoomCursorClassName: \"\",\n\tedgeClip: false,\n};\n\nAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nfunction tickTransform_svg_axisX(scale, tick) {\n\treturn [Math.round(scale(tick)), 0];\n}\n\nfunction tickTransform_svg_axisY(scale, tick) {\n\treturn [0, Math.round(scale(tick))];\n}\n\nfunction tickHelper(props, scale) {\n\tvar { orient, innerTickSize, tickFormat, tickPadding, fontSize, fontFamily } = props;\n\tvar { ticks: tickArguments, tickValues, tickStroke, tickStrokeOpacity } = props;\n\n\tif (tickArguments) tickArguments = [tickArguments];\n\n\tvar ticks = isNotDefined(tickValues)\n\t\t? (isDefined(scale.ticks)\n\t\t\t? scale.ticks.apply(scale, tickArguments)\n\t\t\t: scale.domain())\n\t\t: tickValues;\n\n\tvar baseFormat = scale.tickFormat\n\t\t\t? scale.tickFormat.apply(scale, tickArguments)\n\t\t\t: identity;\n\n\tvar format = isNotDefined(tickFormat)\n\t\t? baseFormat\n\t\t: d => baseFormat(d) ? tickFormat(d) : \"\";\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n\n\tvar tickTransform, x, y, x2, y2, dy, canvas_dy, textAnchor;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\ttickTransform = tickTransform_svg_axisX;\n\t\tx2 = 0;\n\t\ty2 = sign * innerTickSize;\n\t\tx = 0;\n\t\ty = sign * tickSpacing;\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\n\t\ttextAnchor = \"middle\";\n\t} else {\n\t\ttickTransform = tickTransform_svg_axisY;\n\t\tx2 = sign * innerTickSize;\n\t\ty2 = 0;\n\t\tx = sign * tickSpacing;\n\t\ty = 0;\n\t\tdy = \".32em\";\n\t\tcanvas_dy = (fontSize * .32);\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\n\t}\n\treturn { ticks, scale, tickTransform, tickStroke, tickStrokeOpacity, dy, canvas_dy, x, y, x2, y2, textAnchor, fontSize, fontFamily, format };\n}\n\n/* eslint-disable react/prop-types */\nfunction axisLineSVG(props, range) {\n\tvar { orient, outerTickSize } = props;\n\tvar { domainClassName, fill, stroke, strokeWidth, opacity } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\n\tvar d;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n\t} else {\n\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n\t}\n\n\treturn (\n\t\t<path\n\t\t\tclassName={domainClassName}\n\t\t\td={d}\n\t\t\tfill={fill}\n\t\t\topacity={opacity}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={strokeWidth} >\n\t\t</path>\n\t);\n}\n/* eslint-enable react/prop-types */\n\n\nfunction drawAxisLine(ctx, props, range) {\n\t// props = { ...AxisLine.defaultProps, ...props };\n\n\tvar { orient, outerTickSize, stroke, strokeWidth, opacity } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.beginPath();\n\n\tif (xAxis) {\n\t\tctx.moveTo(first(range), sign * outerTickSize);\n\t\tctx.lineTo(first(range), 0);\n\t\tctx.lineTo(last(range), 0);\n\t\tctx.lineTo(last(range), sign * outerTickSize);\n\t} else {\n\t\tctx.moveTo(sign * outerTickSize, first(range));\n\t\tctx.lineTo(0, first(range));\n\t\tctx.lineTo(0, last(range));\n\t\tctx.lineTo(sign * outerTickSize, last(range));\n\t}\n\tctx.stroke();\n}\n\nfunction Tick(props) {\n\tvar { transform, tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily } = props;\n\tvar { x, y, x2, y2, dy } = props;\n\treturn (\n\t\t<g className=\"tick\" transform={`translate(${ transform[0] }, ${ transform[1] })`} >\n\t\t\t<line shapeRendering=\"crispEdges\" opacity={tickStrokeOpacity} stroke={tickStroke} x2={x2} y2={y2} />\n\t\t\t<text\n\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\tfill={tickStroke}\n\t\t\t\tfontSize={fontSize}\n\t\t\t\tfontFamily={fontFamily}\n\t\t\t\ttextAnchor={textAnchor}>\n\t\t\t\t{props.children}\n\t\t\t</text>\n\t\t</g>\n\t);\n}\n\nTick.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tx2: PropTypes.number.isRequired,\n\ty2: PropTypes.number.isRequired,\n\tdy: PropTypes.string.isRequired,\n\ttransform: PropTypes.array,\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfontFamily: PropTypes.string,\n};\n\nfunction axisTicksSVG(props, scale) {\n\tvar result = tickHelper(props, scale);\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, tickTransform } = result;\n\tvar { fontSize, fontFamily, ticks, format } = result;\n\n\tvar { dy, x, y, x2, y2 } = result;\n\n\treturn (\n\t\t<g>\n\t\t\t{ticks.map((tick, idx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Tick key={idx} transform={tickTransform(scale, tick)}\n\t\t\t\t\t\ttickStroke={tickStroke} tickStrokeOpacity={tickStrokeOpacity}\n\t\t\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\t\t\tx2={x2} y2={y2} textAnchor={textAnchor}\n\t\t\t\t\t\tfontSize={fontSize} fontFamily={fontFamily}>{format(tick)}</Tick>\n\t\t\t\t);\n\t\t\t})}\n\t\t</g>\n\t);\n}\n\nfunction drawTicks(ctx, result) {\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily, ticks } = result;\n\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\n\n\tctx.font = `${ fontSize }px ${fontFamily}`;\n\tctx.fillStyle = tickStroke;\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\t// ctx.textBaseline = 'middle';\n\n\tticks.forEach((tick) => {\n\t\tdrawEachTick(ctx, tick, result);\n\t});\n}\n\nfunction drawEachTick(ctx, tick, result) {\n\tvar { scale, tickTransform, canvas_dy, x, y, x2, y2, format } = result;\n\n\tvar origin = tickTransform(scale, tick);\n\n\tctx.beginPath();\n\n\tctx.moveTo(origin[0], origin[1]);\n\tctx.lineTo(origin[0] + x2, origin[1] + y2);\n\tctx.stroke();\n\n\tctx.fillText(format(tick), origin[0] + x, origin[1] + y + canvas_dy);\n}\n\nexport default Axis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/Axis.jsx","import React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\nimport { head, last, noop } from \"../utils\";\nimport { getCurrentItem } from \"../utils/ChartDataUtil\";\n\nclass InteractiveLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\n\t\tthis.handleEdgeDrag1 = this.handleEdgeDrag1.bind(this);\n\t\tthis.handleEdgeDrag2 = this.handleEdgeDrag2.bind(this);\n\t\tthis.handleEdgeDragEnd = this.handleEdgeDragEnd.bind(this);\n\t}\n\thandleMouseDown(e) {\n\t\te.preventDefault();\n\n\t\tvar win = d3Window(this.refs.component.getRef(\"capture\"));\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\tvar mouseXY = [e.pageX, e.pageY];\n\n\t\tvar { x1Value, x2Value, y1Value, y2Value } = this.props;\n\n\t\tthis.moveStartPosition = {\n\t\t\tmouseXY,\n\t\t\tx1Value, x2Value, y1Value, y2Value\n\t\t};\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { mouseXY, x1Value, x2Value, y1Value, y2Value } = this.moveStartPosition;\n\t\tvar x1 = xScale(x1Value);\n\t\tvar y1 = yScale(y1Value);\n\t\tvar x2 = xScale(x2Value);\n\t\tvar y2 = yScale(y2Value);\n\n\t\tvar newPos = [e.pageX, e.pageY];\n\n\t\tvar dx = mouseXY[0] - newPos[0];\n\t\tvar dy = mouseXY[1] - newPos[1];\n\n\t\tvar newX1Value = xAccessor(getCurrentItem(xScale, xAccessor, [x1 - dx, y1 - dy], plotData));\n\t\tvar newY1Value = yScale.invert(y1 - dy);\n\t\tvar newX2Value = xAccessor(getCurrentItem(xScale, xAccessor, [x2 - dx, y2 - dy], plotData));\n\t\tvar newY2Value = yScale.invert(y2 - dy);\n\n\t\tthis.props.onDrag(this.props.echo, {\n\t\t\tx1Value: newX1Value,\n\t\t\ty1Value: newY1Value,\n\t\t\tx2Value: newX2Value,\n\t\t\ty2Value: newY2Value,\n\t\t\tdx, dy\n\t\t}, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, e);\n\t}\n\thandleDragEnd() {\n\t\tvar e = d3.event;\n\t\tthis.moveStartPosition = null;\n\n\t\tvar win = d3Window(this.refs.component.getRef(\"capture\"));\n\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.props.onDragComplete(this.props.echo, e);\n\t}\n\thandleEdgeDrag1(edge, origEdge, e) {\n\t\tvar [newCX, newCY] = edge;\n\t\tvar [cx, cy] = origEdge;\n\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { x2Value, y2Value } = this.props;\n\n\t\tvar newXValue = xAccessor(getCurrentItem(xScale, xAccessor, [newCX, newCY], plotData));\n\t\tvar newYValue = yScale.invert(newCY);\n\t\tvar oldXValue = xAccessor(getCurrentItem(xScale, xAccessor, [cx, cy], plotData));\n\t\tvar oldYValue = yScale.invert(cy);\n\n\t\tthis.props.onEdge1Drag(this.props.echo, {\n\t\t\tx1Value: newXValue,\n\t\t\ty1Value: newYValue,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, {\n\t\t\tx1Value: oldXValue,\n\t\t\ty1Value: oldYValue,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, e);\n\t}\n\thandleEdgeDrag2(edge, origEdge, e) {\n\t\tvar [newCX, newCY] = edge;\n\t\tvar [cx, cy] = origEdge;\n\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { x1Value, y1Value } = this.props;\n\n\t\tvar newXValue = xAccessor(getCurrentItem(xScale, xAccessor, [newCX, newCY], plotData));\n\t\tvar newYValue = yScale.invert(newCY);\n\t\tvar oldXValue = xAccessor(getCurrentItem(xScale, xAccessor, [cx, cy], plotData));\n\t\tvar oldYValue = yScale.invert(cy);\n\n\t\tthis.props.onEdge2Drag(this.props.echo, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value: newXValue,\n\t\t\ty2Value: newYValue,\n\t\t}, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value: oldXValue,\n\t\t\ty2Value: oldYValue,\n\t\t}, e);\n\t}\n\thandleEdgeDragEnd(e) {\n\t\tthis.props.onDragComplete(this.props.echo, e);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { x1Value, x2Value, y1Value, y2Value, withEdge, type } = this.props;\n\t\tvar { defaultClassName, stroke, strokeWidth, opacity } = this.props;\n\t\tvar { r, edgeFill, edgeStroke, edgeStrokeWidth, children } = this.props;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar modLine = generateLine(type,\n\t\t\t[x1Value, y1Value],\n\t\t\t[x2Value, y2Value], xAccessor, plotData);\n\n\t\tvar x1 = xScale(modLine.x1);\n\t\tvar y1 = yScale(modLine.y1);\n\t\tvar x2 = xScale(modLine.x2);\n\t\tvar y2 = yScale(modLine.y2);\n\t\tvar childrenToRender = children(moreProps, this.props, modLine);\n\n\t\treturn <g ref=\"capture\">\n\t\t\t<line\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\t\topacity={opacity} />\n\t\t\t<line className={defaultClassName}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\tstroke={stroke} strokeWidth={8} opacity={0} />\n\t\t\t{withEdge ? <ClickableCircle className={defaultClassName}\n\t\t\t\tonDrag={this.handleEdgeDrag1}\n\t\t\t\tonDragComplete={this.handleEdgeDragEnd}\n\t\t\t\tcx={x1} cy={y1} r={r}\n\t\t\t\tfill={edgeFill} stroke={edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\thoverOpacity={1} /> : null }\n\t\t\t{withEdge ? <ClickableCircle className={defaultClassName}\n\t\t\t\tonDrag={this.handleEdgeDrag2}\n\t\t\t\tonDragComplete={this.handleEdgeDragEnd}\n\t\t\t\tcx={x2} cy={y2} r={r}\n\t\t\t\tfill={edgeFill} stroke={edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\thoverOpacity={1} /> : null }\n\t\t\t{childrenToRender}\n\t\t</g>;\n\n\t}\n\trender() {\n\t\t// console.log(\"FOO\")\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nfunction generateLine(type, start, end, xAccessor, plotData) {\n\t/* if (end[0] - start[0] === 0) {\n\t\t// vertical line\n\t\tthrow new Error(\"Trendline cannot be a vertical line\")\n\t} */\n\tvar m /* slope */ = end[0] === start[0] ? 0 : (end[1] - start[1]) / (end[0] - start[0]);\n\t// console.log(end[0] - start[0], m)\n\tvar b /* y intercept */ = -1 * m * end[0] + end[1];\n\t// y = m * x + b\n\tvar x1 = type === \"XLINE\"\n\t\t? xAccessor(head(plotData))\n\t\t: start[0]; // RAY or LINE start is the same\n\n\tvar y1 = m * x1 + b;\n\n\tvar x2 = type === \"XLINE\"\n\t\t? xAccessor(last(plotData))\n\t\t: type === \"RAY\"\n\t\t\t? end[0] > start[0] ? xAccessor(last(plotData)) : xAccessor(head(plotData))\n\t\t\t: end[0];\n\tvar y2 = m * x2 + b;\n\treturn { x1, y1, x2, y2 };\n}\n\nInteractiveLine.propTypes = {\n\tx1Value: PropTypes.any.isRequired,\n\tx2Value: PropTypes.any.isRequired,\n\ty1Value: PropTypes.any.isRequired,\n\ty2Value: PropTypes.any.isRequired,\n\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]).isRequired,\n\tonDrag: PropTypes.func.isRequired,\n\tonEdge1Drag: PropTypes.func.isRequired,\n\tonEdge2Drag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tedgeFill: PropTypes.string.isRequired,\n\tdefaultClassName: PropTypes.string,\n\techo: PropTypes.any,\n\tedgeStroke: PropTypes.string.isRequired,\n\tedgeStrokeWidth: PropTypes.number.isRequired,\n\twithEdge: PropTypes.bool.isRequired,\n\tchildren: PropTypes.func.isRequired,\n};\n\nInteractiveLine.defaultProps = {\n\tonDrag: noop,\n\tonEdge1Drag: noop,\n\tonEdge2Drag: noop,\n\tonDragComplete: noop,\n\tedgeStrokeWidth: 3,\n\tedgeStroke: \"#000000\",\n\tedgeFill: \"#FFFFFF\",\n\tr: 10,\n\twithEdge: false,\n\tstrokeWidth: 1,\n\tchildren: noop,\n};\n\nInteractiveLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nclass ClickableCircle extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t};\n\t}\n\thandleMouseEnter() {\n\t\tthis.setState({\n\t\t\thover: true,\n\t\t});\n\t}\n\thandleMouseLeave() {\n\t\tthis.setState({\n\t\t\thover: false,\n\t\t});\n\t}\n\thandleMouseDown(e) {\n\t\te.preventDefault();\n\n\t\tvar win = d3Window(this.refs.edge);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\tvar mouseXY = [e.pageX, e.pageY];\n\n\t\tvar { cx, cy } = this.props;\n\n\t\tthis.moveStartPosition = {\n\t\t\tmouseXY,\n\t\t\tcx, cy,\n\t\t};\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\tvar newPos = [e.pageX, e.pageY];\n\n\t\tvar { mouseXY, cx, cy } = this.moveStartPosition;\n\n\t\tvar dx = mouseXY[0] - newPos[0];\n\t\tvar dy = mouseXY[1] - newPos[1];\n\n\t\tvar newCX = cx - dx;\n\t\tvar newCY = cy - dy;\n\n\t\tthis.props.onDrag([newCX, newCY], [cx, cy], e);\n\t}\n\thandleDragEnd() {\n\t\tvar e = d3.event;\n\t\tthis.moveStartPosition = null;\n\n\t\tvar win = d3Window(this.refs.edge);\n\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.props.onDragComplete(e);\n\t}\n\trender() {\n\t\tvar { className, cx, cy, r, fill, stroke, strokeWidth, hoverOpacity } = this.props;\n\t\tvar opacity = this.state.hover ? hoverOpacity : 0;\n\t\treturn <circle ref=\"edge\" className={className}\n\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tcx={cx} cy={cy} r={r}\n\t\t\t\tfill={fill} stroke={stroke}\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\topacity={opacity} />;\n\t}\n}\n\nClickableCircle.propTypes = {\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\thoverOpacity: PropTypes.number.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tr: PropTypes.number.isRequired,\n\tcx: PropTypes.number.isRequired,\n\tcy: PropTypes.number.isRequired,\n\tclassName: PropTypes.string.isRequired,\n};\n\n\nClickableCircle.defaultProps = {\n\tonDrag: noop,\n\tonDragComplete: noop,\n};\n\n\nexport default InteractiveLine;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/InteractiveLine.jsx","import React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, getClosestValue } from \"../utils\";\nimport { noop, shallowEqual } from \"../utils\";\n// import { getCurrentCharts } from \"../utils/ChartDataUtil\";\n\nclass MouseLocationIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\n\t\tthis.handleMousePosChange = this.handleMousePosChange.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.xy = this.xy.bind(this);\n\n\t\tthis.mutableState = {};\n\t}\n\thandleMouseDown(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onMouseDown([xValue, yValue], e);\n\t\t}\n\t}\n\thandleClick(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onClick([xValue, yValue], e);\n\t\t}\n\t}\n\txy(moreProps, e) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { mouseXY, currentItem, xScale, chartConfig: { yScale } } = moreProps;\n\t\tvar { enabled, snap, shouldDisableSnap, snapTo } = this.props;\n\n\t\tif (enabled && isDefined(currentItem) && isDefined(e)) {\n\n\t\t\tvar xValue = xAccessor(currentItem);\n\t\t\tvar yValue = snap && !shouldDisableSnap(e)\n\t\t\t\t? getClosestValue(snapTo(currentItem), yScale.invert(mouseXY[1]))\n\t\t\t\t: yScale.invert(mouseXY[1]);\n\n\t\t\tvar x = xScale(xValue);\n\t\t\tvar y = yScale(yValue);\n\n\t\t\treturn { xValue, yValue, x, y };\n\t\t}\n\t}\n\thandleMousePosChange(e) {\n\t\t// var { idx, onMouseEnter } = this.props;\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar prevMoreProps = this.refs.component.getPrevMoreProps();\n\n\t\tif (!shallowEqual(moreProps.mousXY, prevMoreProps.mouseXY)) {\n\t\t\tvar pos = this.xy(moreProps, e);\n\t\t\t// console.log(\"HERE11\", pos)\n\t\t\tif (isDefined(pos)) {\n\t\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\t\tthis.mutableState = { x, y };\n\t\t\t\tthis.props.onMouseMove([xValue, yValue], e);\n\t\t\t}\n\t\t}\n\t\t// console.log(this.refs.component.getRef(\"capture\"))\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { enabled, r, stroke, strokeWidth, opacity } = this.props;\n\t\tvar { x, y } = this.mutableState;\n\t\tvar { show } = moreProps;\n\t\t// console.log(\"HERE\")\n\n\t\t// console.log(stroke, strokeWidth, opacity)\n\t\treturn enabled && show && isDefined(x)\n\t\t\t? <circle ref=\"capture\"\n\t\t\t\tclassName=\"react-stockcharts-avoid-interaction\"\n\t\t\t\tcx={x}\n\t\t\t\tcy={y}\n\t\t\t\tr={r}\n\t\t\t\tstroke={stroke}\n\t\t\t\topacity={opacity}\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth} />\n\t\t\t: null;\n\n\t}\n\trender() {\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tonMouseMove={this.handleMousePosChange}\n\t\t\tisHover={d3.functor(true)}\n\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseLocationIndicator.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tsnap: PropTypes.bool.isRequired,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tsnapTo: PropTypes.func,\n\n\tonMouseMove: PropTypes.func.isRequired,\n\tonMouseDown: PropTypes.func.isRequired,\n\tonClick: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n};\n\nMouseLocationIndicator.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nMouseLocationIndicator.defaultProps = {\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n\tonClick: noop,\n\tshouldDisableSnap: d3.functor(false),\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n};\n\nexport default MouseLocationIndicator;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/MouseLocationIndicator.jsx","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isNotDefined, head, last } from \"../utils\";\n\nvar tickLevels = [\n\t{ target: 50e2, level: 0 },\n\t{ target: 50e3, level: 1 },\n\t{ target: 10e4, level: 2 },\n\t{ target: 28e4, level: 3 },\n\t{ target: 55e4, level: 4 },\n\t{ target: 11e5, level: 5 },\n\t{ target: 21e5, level: 6 },\n\t{ target: 43e5, level: 7 },\n\t{ target: 59e5, level: 8 }, // not tested\n\t{ target: 12e6, level: 9 }, // not tested\n\t{ target: 58e6, level: 10 }, // not tested\n\t{ target: 89e6, level: 11 },\n\t{ target: 11e7, level: 12 },\n\t{ target: 78e7, level: 13 },\n\t{ target: 16e8, level: 14 },\n\t{ target: 62e8, level: 15 },\n\t{ target: 10e20, level: 16 },\n];\n\nvar tickLevelBisector = d3.bisector(function(d) { return d.target; }).left;\n\nexport default function financeDiscontinuousScale(index,\n\t\tinterval,\n\t\tbackingLinearScale = d3.scale.linear()) {\n\n\tif (isNotDefined(index) || isNotDefined(interval))\n\t\tthrow new Error(\"Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale\");\n\n\tfunction scale(x) {\n\t\treturn backingLinearScale(x);\n\t}\n\tscale.invert = function(x) {\n\t\tvar inverted = backingLinearScale.invert(x);\n\t\treturn Math.round(inverted * 10000) / 10000;\n\t};\n\tscale.domain = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.domain();\n\t\tbackingLinearScale.domain(x);\n\t\treturn scale;\n\t};\n\tscale.range = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.range();\n\t\tbackingLinearScale.range(x);\n\t\treturn scale;\n\t};\n\tscale.rangeRound = function(x) {\n\t\treturn backingLinearScale.range(x);\n\t};\n\tscale.clamp = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.clamp();\n\t\tbackingLinearScale.clamp(x);\n\t\treturn scale;\n\t};\n\tscale.interpolate = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.interpolate();\n\t\tbackingLinearScale.interpolate(x);\n\t\treturn scale;\n\t};\n\tscale.ticks = function(m) {\n\n\t\tvar [domainStart, domainEnd] = backingLinearScale.domain();\n\t\tvar start = Math.max(Math.ceil(domainStart), head(index).index) + Math.abs(head(index).index);\n\t\tvar end = Math.min(Math.floor(domainEnd), last(index).index) + Math.abs(head(index).index);\n\n\t\t// console.log(index.length, domainStart, domainEnd, start, end)\n\n\t\tvar newM = ((end - start) / (domainEnd - domainStart)) * m;\n\t\t// newM = newM <= 0 ? m : newM;\n\t\tvar target = Math.round((end - start + 1) * interval / newM);\n\n\t\t// var subList = index.slice(start, end + 1);\n\t\tvar levelIndex = tickLevelBisector(tickLevels, target);\n\t\t// console.log(target, levelIndex)\n\t\tvar { level } = tickLevels[levelIndex];\n\n\t\t// console.log(target.toExponential(), level);\n\n\t\tvar backingTicks = backingLinearScale.ticks(m);\n\t\tvar distance = backingTicks.length > 0\n\t\t\t? (last(backingTicks) - head(backingTicks)) / (backingTicks.length - 1) / 4\n\t\t\t: 1;\n\n\t\tvar ticks = [];\n\t\tfor (let i = start; i < end + 1; i++) {\n\t\t\tif (index[i].level >= level) ticks.push(index[i].index);\n\t\t}\n\n\t\t// subList.filter(each => each.level >= level).map(d => d.index);\n\n\t\tvar ticksSet = d3.set(ticks);\n\t\t// console.log(ticks);\n\n\t\tvar d = Math.abs(head(index).index);\n\n\t\tfor (let i = 0; i < ticks.length - 1; i++) {\n\t\t\tfor (var j = i + 1; j < ticks.length; j++) {\n\t\t\t\tif (ticks[j] - ticks[i] < distance) {\n\t\t\t\t\tticksSet.remove(index[ticks[i] + d].level >= index[ticks[j] + d].level ? ticks[j] : ticks[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar tickValues = ticksSet.values().map(d => parseInt(d, 10));\n\t\treturn tickValues;\n\t};\n\tscale.tickFormat = function() {\n\t\treturn function(x) {\n\t\t\t// console.log(x)\n\t\t\tvar d = Math.abs(head(index).index);\n\t\t\tvar { format, date } = index[x + d];\n\t\t\treturn format(date);\n\t\t};\n\t};\n\tscale.nice = function(m) {\n\t\tbackingLinearScale.nice(m);\n\t\treturn scale;\n\t};\n\tscale.copy = function() {\n\t\treturn financeDiscontinuousScale(index, interval, backingLinearScale.copy());\n\t};\n\treturn scale;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/financeDiscontinuousScale.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { hexToRGBA, isDefined, first } from \"../utils\";\n\nclass AreaOnlySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor, defined, base } = this.props;\n\t\tvar { fill, stroke, opacity } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar newBase = d3.functor(base);\n\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t\tctx.strokeStyle = stroke;\n\n\t\tvar points0 = [], points1 = [];\n\n\t\tfor (let i = 0; i < plotData.length; i++) {\n\t\t\tlet d = plotData[i];\n\t\t\tif (defined(yAccessor(d), i)) {\n\t\t\t\tlet [x, y1, y0] = [xScale(xAccessor(d)), yScale(yAccessor(d)), newBase(yScale, d)];\n\n\t\t\t\tpoints0.push([x, y0]);\n\t\t\t\tpoints1.push([x, y1]);\n\t\t\t} else if (points0.length) {\n\t\t\t\tsegment(points0, points1, ctx);\n\t\t\t\tpoints0 = [];\n\t\t\t\tpoints1 = [];\n\t\t\t}\n\t\t}\n\t\tif (points0.length) segment(points0, points1, ctx);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor, defined, base } = this.props;\n\t\tvar { stroke, fill, className, opacity } = this.props;\n\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar newBase = d3.functor(base);\n\t\tvar areaSeries = d3.svg.area()\n\t\t\t.defined(d => defined(yAccessor(d)))\n\t\t\t.x((d) => xScale(xAccessor(d)))\n\t\t\t.y0(newBase.bind(null, yScale))\n\t\t\t.y1((d) => yScale(yAccessor(d)));\n\n\t\tvar d = areaSeries(plotData);\n\t\tclassName = className.concat(isDefined(stroke) ? \"\" : \" line-stroke\");\n\t\treturn (\n\t\t\t<path d={d} stroke={stroke} fill={fill} className={className} opacity={opacity} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nAreaOnlySeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tdefined: PropTypes.func,\n\tbase: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.number\n\t]),\n};\nAreaOnlySeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nAreaOnlySeries.defaultProps = {\n\tclassName: \"line \",\n\tfill: \"none\",\n\topacity: 1,\n\tdefined: d => !isNaN(d),\n\tbase: (yScale/* , d*/) => first(yScale.range()),\n};\n\n\nfunction segment(points0, points1, ctx) {\n\tctx.beginPath();\n\tvar [x0, y0] = first(points0);\n\tctx.moveTo(x0, y0);\n\n\tvar i;\n\tfor (i = 0; i < points1.length; i++) {\n\t\tlet [x1, y1] = points1[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tfor (i = points0.length - 1; i >= 0; i--) {\n\t\tlet [x0, y0] = points0[i];\n\t\tctx.lineTo(x0, y0);\n\t}\n\tctx.closePath();\n\tctx.fill();\n}\n\nexport default AreaOnlySeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/AreaOnlySeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\n\nclass BarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor, identity);\n\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\treturn <g>{svgHelper(this.props, moreProps, xAccessor, identity)}</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n};\n\nBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nBarSeries.defaultProps = StackedBarSeries.defaultProps;\n\nexport default BarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/BarSeries.jsx","// https://github.com/jonschlinkert/is-equal-shallow/\n\n/*\nThe MIT License (MIT)\n\nCopyright (c) 2015, Jon Schlinkert.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nfunction isDate(date) {\n\treturn Object.prototype.toString.call(date) === \"[object Date]\";\n}\n\nfunction isEqual(val1, val2) {\n\treturn (isDate(val1) && isDate(val2))\n\t\t? val1.getTime() === val2.getTime()\n\t\t: val1 === val2;\n}\n\nexport default function shallowEqual(a, b) {\n\tif (!a && !b) { return true; }\n\tif (!a && b || a && !b) { return false; }\n\n\tvar numKeysA = 0, numKeysB = 0, key;\n\tfor (key in b) {\n\t\tnumKeysB++;\n\t\tif (/* !isPrimitive(b[key]) || */ !a.hasOwnProperty(key) || !isEqual(a[key], b[key])) {\n\t\t\t// console.log(key, a, b);\n\t\t\treturn false;\n\t\t}\n\t}\n\tfor (key in a) {\n\t\tnumKeysA++;\n\t}\n\treturn numKeysA === numKeysB;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/shallowEqual.js","\"use strict\";\n\n/* an extension to d3.zip so we call a function instead of an array */\n\nimport d3 from \"d3\";\n\nimport identity from \"./identity\";\n\nexport default function zipper() {\n\tvar combine = identity;\n\n\tfunction zip() {\n\t\tvar n = arguments.length;\n\t\tif (!n) return [];\n\t\tvar i, m = d3.min(arguments, d3_zipLength), zips = new Array(m);\n\t\tfor (i = -1; ++i < m; ) {\n\t\t\tfor (var j = -1, zip = zips[i] = new Array(n); ++j < n; ) {\n\t\t\t\tzip[j] = arguments[j][i];\n\t\t\t}\n\t\t\tzips[i] = combine.apply(this, zips[i]);\n\t\t}\n\t\treturn zips;\n\t}\n\tfunction d3_zipLength(d) {\n\t\treturn d.length;\n\t}\n\tzip.combine = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn combine;\n\t\t}\n\t\tcombine = x;\n\t\treturn zip;\n\t};\n\treturn zip;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/zipper.js","import React, { PropTypes } from \"react\";\nimport PureComponent from \"./utils/PureComponent\";\n\nimport { hexToRGBA, isDefined } from \"./utils\";\n\nclass BackgroundText extends PureComponent {\n\tcomponentDidMount() {\n\t\tif (this.context.chartCanvasType !== \"svg\" && isDefined(this.context.getCanvasContexts)) {\n\t\t\tvar contexts = this.context.getCanvasContexts();\n\t\t\tif (contexts) BackgroundText.drawOnCanvas(contexts.bg, this.props, this.context, this.props.children);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\trender() {\n\t\tvar { chartCanvasType } = this.context;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = this.props;\n\t\tvar props = { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor };\n\t\treturn (\n\t\t\t<text {...props}>this.props.children(interval)</text>\n\t\t);\n\t}\n}\n\nBackgroundText.drawOnCanvas = (ctx, props, { interval }, getText) => {\n\tctx.clearRect(-1, -1, ctx.canvas.width + 2, ctx.canvas.height + 2);\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(0.5, 0.5);\n\n\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = props;\n\n\tvar text = getText(interval);\n\n\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (stroke !== \"none\") ctx.strokeText(text, x, y);\n\tctx.fillText(text, x, y);\n\n\tctx.restore();\n};\n\nBackgroundText.propTypes = {\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number.isRequired,\n\tfill: PropTypes.string,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tstrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tchildren: PropTypes.func,\n};\n\nBackgroundText.defaultProps = {\n\topacity: 0.3,\n\tfill: \"#9E7523\",\n\tstroke: \"#9E7523\",\n\tstrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\ttextAnchor: \"middle\",\n};\n\nBackgroundText.contextTypes = {\n\tinterval: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n};\n\nexport default BackgroundText;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/BackgroundText.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport {\n\tfirst,\n\tlast,\n\tisDefined,\n\tisNotDefined,\n\tclearCanvas,\n\tshallowEqual,\n\tidentity,\n\tnoop,\n} from \"./utils\";\n\nimport { getNewChartConfig, getChartConfigWithUpdatedYScales, getCurrentCharts, getCurrentItem } from \"./utils/ChartDataUtil\";\n\nimport EventCapture from \"./EventCapture\";\n\nimport CanvasContainer from \"./CanvasContainer\";\nimport evaluator from \"./scale/evaluator\";\n\nconst CANDIDATES_FOR_RESET = [\"seriesName\", /* \"data\",*/\n\t\"xScaleProvider\", /* \"xAccessor\",*/\"map\",\n\t\"indexAccessor\", \"indexMutator\"];\n\nfunction shouldResetChart(thisProps, nextProps) {\n\treturn !CANDIDATES_FOR_RESET.every(key => {\n\t\tvar result = shallowEqual(thisProps[key], nextProps[key]);\n\t\t// console.log(key, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCursorStyle(useCrossHairStyleCursor) {\n\tvar style = `\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-toottip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}`;\n\tvar tooltipStyle = `\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}`;\n\t/* return (<style\n\t\ttype=\"text/css\"\n\t\tdangerouslySetInnerHTML={{\n\t\t\t__html: shouldShowCrossHairStyle(children) ? style + tooltipStyle : tooltipStyle\n\t\t}}></style>);*/\n\treturn (<style type=\"text/css\">{useCrossHairStyleCursor ? style + tooltipStyle : tooltipStyle}</style>);\n}\n\nfunction getDimensions(props) {\n\treturn {\n\t\theight: props.height - props.margin.top - props.margin.bottom,\n\t\twidth: props.width - props.margin.left - props.margin.right,\n\t};\n}\n\nfunction getXScaleDirection(flipXScale) {\n\treturn flipXScale ? -1 : 1;\n}\n\nfunction calculateFullData(props) {\n\tvar { data: inputData, calculator, plotFull, xScale: xScaleProp } = props;\n\tvar { xAccessor: inputXAccesor, map, xScaleProvider, indexAccessor, indexMutator } = props;\n\n\tvar wholeData = isDefined(plotFull)\n\t\t\t? plotFull\n\t\t\t: inputXAccesor === identity;\n\n\t// xScale = discontinuousTimeScaleProvider(data);\n\tvar dimensions = getDimensions(props);\n\tvar evaluate = evaluator()\n\t\t// .allowedIntervals(allowedIntervals)\n\t\t// .intervalCalculator(intervalCalculator)\n\t\t.xAccessor(inputXAccesor)\n\t\t// .discontinuous(discontinuous)\n\t\t.indexAccessor(indexAccessor)\n\t\t.indexMutator(indexMutator)\n\t\t.map(map)\n\t\t.useWholeData(wholeData)\n\t\t.width(dimensions.width)\n\t\t.scaleProvider(xScaleProvider)\n\t\t.xScale(xScaleProp)\n\t\t.calculator(calculator);\n\n\tvar { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem } = evaluate(inputData);\n\n\treturn { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem };\n}\nfunction resetChart(props, firstCalculation = false) {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (!firstCalculation) console.log(\"CHART RESET\");\n\t}\n\n\tvar state = calculateState(props);\n\tvar { plotData: initialPlotData, xScale } = state;\n\tvar { postCalculator, children } = props;\n\n\tvar plotData = postCalculator(initialPlotData);\n\n\tvar dimensions = getDimensions(props);\n\tvar chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\treturn {\n\t\t...state,\n\t\txScale,\n\t\tplotData,\n\t\tchartConfig,\n\t};\n}\n\nfunction updateChart(newState, initialXScale, props, prevLastItem) {\n\n\tvar { firstItem, lastItem, xScale, xAccessor, filterData } = newState;\n\tvar lastItemVisible = lastItem === prevLastItem;\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (lastItemVisible)\n\t\t\tconsole.log(\"DATA CHANGED AND LAST ITEM VISIBLE\");\n\t\telse\n\t\t\tconsole.log(\"TRIVIAL CHANGE\");\n\t}\n\tvar { postCalculator, children, padding, flipXScale } = props;\n\tvar direction = getXScaleDirection(flipXScale);\n\tvar dimensions = getDimensions(props);\n\n\n\tvar updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\tvar [start, end] = initialXScale.domain();\n\tvar initialPlotData;\n\tif (!lastItemVisible || end >= xAccessor(lastItem)) {\n\t\t// get plotData between [start, end] and do not change the domain\n\t\tinitialPlotData = filterData([start, end], xAccessor, updatedXScale).plotData;\n\t\tupdatedXScale.domain([start, end]);\n\t\t// console.log(\"HERE!!!!!\", start, end);\n\t} else {\n\t\t// get plotData between [xAccessor(l) - (end - start), xAccessor(l)] and DO change the domain\n\t\tvar dx = updatedXScale(xAccessor(lastItem)) - updatedXScale.range()[1];\n\t\tvar [newStart, newEnd] = updatedXScale.range().map(x => x + dx).map(updatedXScale.invert);\n\n\t\tinitialPlotData = filterData([newStart, newEnd], xAccessor, updatedXScale).plotData;\n\t\t// if last item was visible, then shift\n\t\tupdatedXScale.domain([newStart, newEnd]);\n\t}\n\t// plotData = getDataOfLength(fullData, showingInterval, plotData.length)\n\tvar plotData = postCalculator(initialPlotData);\n\tlet chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\treturn {\n\t\tfirstItem,\n\t\tlastItem,\n\t\txScale: updatedXScale,\n\t\txAccessor,\n\t\tfilterData,\n\t\tchartConfig,\n\t\tplotData,\n\t};\n}\n\nfunction calculateState(props) {\n\n\tvar { xAccessor: inputXAccesor, xExtents: xExtentsProp, data, padding, flipXScale } = props;\n\n\tvar direction = getXScaleDirection(flipXScale);\n\tvar dimensions = getDimensions(props);\n\n\tvar extent = typeof xExtentsProp === \"function\"\n\t\t? xExtentsProp(data)\n\t\t: d3.extent(xExtentsProp.map(d => d3.functor(d)).map(each => each(data, inputXAccesor)));\n\n\tvar { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem } = calculateFullData(props);\n\tvar updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\tvar { plotData, domain } = filterData(extent, inputXAccesor, updatedXScale);\n\n\treturn {\n\t\tplotData,\n\t\tfullData,\n\t\txScale: updatedXScale.domain(domain),\n\t\txAccessor,\n\t\tfilterData,\n\t\tfirstItem,\n\t\tlastItem,\n\t\tdisplayXAccessor,\n\t};\n}\n\nfunction setXRange(xScale, dimensions, padding, direction = 1) {\n\tif (xScale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\txScale.rangeRoundPoints([0, dimensions.width], padding);\n\t} else {\n\t\tvar { left, right } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { left: padding, right: padding };\n\t\tif (direction > 0) {\n\t\t\txScale.range([left, dimensions.width - right]);\n\t\t} else {\n\t\t\txScale.range([dimensions.width - right, left]);\n\t\t}\n\t}\n\treturn xScale;\n}\n\nclass ChartCanvas extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.getDataInfo = this.getDataInfo.bind(this);\n\t\tthis.getCanvasContexts = this.getCanvasContexts.bind(this);\n\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleZoom = this.handleZoom.bind(this);\n\t\tthis.handlePinchZoom = this.handlePinchZoom.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDoubleClick = this.handleDoubleClick.bind(this);\n\t\t// this.handleFocus = this.handleFocus.bind(this);\n\t\tthis.handleContextMenu = this.handleContextMenu.bind(this);\n\t\tthis.xAxisZoom = this.xAxisZoom.bind(this);\n\t\tthis.yAxisZoom = this.yAxisZoom.bind(this);\n\t\tthis.calculateStateForDomain = this.calculateStateForDomain.bind(this);\n\n\t\tthis.pinchCoordinates = this.pinchCoordinates.bind(this);\n\n\t\t// this.setInteractiveState = this.setInteractiveState.bind(this);\n\t\t// this.getInteractiveState = this.getInteractiveState.bind(this);\n\n\t\tthis.subscriptions = [];\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t\tthis.unsubscribe = this.unsubscribe.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\t// this.canvasDrawCallbackList = [];\n\t\tthis.interactiveState = [];\n\n\t\tthis.state = {};\n\t}\n\tgetDataInfo() {\n\t\treturn this.refs.chartContainer.getDataInfo();\n\t}\n\tgetCanvasContexts() {\n\t\tif (this.refs && this.refs.canvases) {\n\t\t\treturn this.refs.canvases.getCanvasContexts();\n\t\t}\n\t}\n\tclearBothCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\t// console.log(\"CLEAR\");\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord], this.props.ratio);\n\t\t}\n\t}\n\tclearMouseCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.mouseCoord) {\n\t\t\tclearCanvas([canvases.mouseCoord], this.props.ratio);\n\t\t}\n\t}\n\tclearThreeCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord, canvases.bg], this.props.ratio);\n\t\t}\n\t}\n\tsubscribe(id, callback) {\n\t\tthis.subscriptions = this.subscriptions.concat({\n\t\t\tid, callback\n\t\t});\n\t}\n\tunsubscribe(id) {\n\t\tthis.subscriptions = this.subscriptions.filter(each => each.id !== id);\n\t}\n\thandleMouseEnter(e) {\n\t\tthis.triggerEvent(\"mouseenter\", {\n\t\t\tshow: true,\n\t\t}, e);\n\t}\n\thandleMouseMove(mouseXY, inputType, e) {\n\t\tvar { chartConfig, plotData, xScale, xAccessor } = this.state;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"mousemove\", {\n\t\t\tshow: true,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearMouseCanvas();\n\t\t\tthis.draw();\n\t\t});\n\t}\n\thandleContextMenu(mouseXY, e) {\n\t\tvar { xAccessor, chartConfig, plotData, xScale } = this.state;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"contextmenu\", {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\t\tthis.draw();\n\t}\n\thandleMouseLeave(e) {\n\t\tvar contexts = this.getCanvasContexts();\n\n\t\t// this.clearInteractiveCanvas();\n\n\t\tif (contexts && contexts.mouseCoord) {\n\t\t\tclearCanvas([contexts.mouseCoord], this.props.ratio);\n\t\t}\n\t\tthis.triggerEvent(\"mouseleave\", { show: false }, e);\n\t\tthis.draw();\n\t\t/* this.setState({\n\t\t\tshow: false\n\t\t}); */\n\t}\n\tpinchCoordinates(pinch) {\n\t\tvar { touch1Pos, touch2Pos } = pinch;\n\n\t\treturn {\n\t\t\ttopLeft: [Math.min(touch1Pos[0], touch2Pos[0]), Math.min(touch1Pos[1], touch2Pos[1])],\n\t\t\tbottomRight: [Math.max(touch1Pos[0], touch2Pos[0]), Math.max(touch1Pos[1], touch2Pos[1])]\n\t\t};\n\t}\n\thandlePinchZoom(initialPinch, finalPinch) {\n\t\tvar { xScale: initialPinchXScale } = initialPinch;\n\n\t\tvar { xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData, xAccessor, filterData } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar { topLeft: iTL, bottomRight: iBR } = this.pinchCoordinates(initialPinch);\n\t\tvar { topLeft: fTL, bottomRight: fBR } = this.pinchCoordinates(finalPinch);\n\n\t\tvar e = initialPinchXScale.range()[1];\n\n\t\t// var fR1 = e - fTL[0];\n\t\t// var fR2 = e - fBR[0];\n\t\t// var iR1 = e - iTL[0];\n\t\t// var iR2 = e - iBR[0];\n\n\t\tvar xDash = Math.round(-(iBR[0] * fTL[0] - iTL[0] * fBR[0]) / (iTL[0] - iBR[0]));\n\t\tvar yDash = Math.round(e + ((e - iBR[0]) * (e - fTL[0]) - (e - iTL[0]) * (e - fBR[0])) / ((e - iTL[0]) - (e - iBR[0])));\n\n\n\t\tvar x = Math.round(-xDash * iTL[0] / (-xDash + fTL[0]));\n\t\tvar y = Math.round(e - (yDash - e) * (e - iTL[0]) / (yDash + (e - fTL[0])));\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `**${[s, e]} to ${[xDash, yDash]} to ${[x, y]}`;\n\t\t// var left = ((final.leftxy[0] - range[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\t\t// var right = ((range[1] - final.rightxy[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\n\t\tvar newDomain = [x, y].map(initialPinchXScale.invert);\n\t\t// var domainR = initial.right + right;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialPinchXScale,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearThreeCanvas();\n\t\t\t// this.clearInteractiveCanvas();\n\n\t\t\t// this.clearCanvasDrawCallbackList();\n\t\t\tthis.setState({\n\t\t\t\tchartConfig,\n\t\t\t\txScale: updatedScale,\n\t\t\t\tplotData,\n\t\t\t});\n\t\t});\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${panInProgress}`;\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${initial.left} - ${initial.right} to ${final.left} - ${final.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${id[1] - id[0]} = ${initial.left - id[0]} + ${initial.right - initial.left} + ${id[1] - initial.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${range[1] - range[0]}, ${i1[0]}, ${i2[0]}`;\n\t}\n\thandleZoom(zoomDirection, mouseXY, e) {\n\t\t// console.log(\"zoomDirection \", zoomDirection, \" mouseXY \", mouseXY);\n\t\tvar { xAccessor, xScale: initialXScale, plotData: initialPlotData } = this.state;\n\n\t\tvar item = getCurrentItem(initialXScale, xAccessor, mouseXY, initialPlotData),\n\t\t\tcx = initialXScale(xAccessor(item)),\n\t\t\tc = zoomDirection > 0 ? 2 : 0.5,\n\t\t\tnewDomain = initialXScale.range().map(x => cx + (x - cx) * c).map(initialXScale.invert);\n\n\t\tvar { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tthis.clearBothCanvas();\n\t\t// this.clearInteractiveCanvas();\n\n\t\tthis.triggerEvent(\"zoom\", {\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tcurrentItem,\n\t\t}, e);\n\n\n\t\tvar { firstItem } = this.state;\n\t\tvar start = first(xScale.domain());\n\t\tvar end = xAccessor(firstItem);\n\t\tvar { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tcalculateStateForDomain(newDomain) {\n\t\tvar { xAccessor, filterData, xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialXScale,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t};\n\t}\n\txAxisZoom(newDomain) {\n\t\tvar { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\t\tthis.clearBothCanvas();\n\n\t\tvar { firstItem, xAccessor } = this.state;\n\t\tvar start = first(xScale.domain());\n\t\tvar end = xAccessor(firstItem);\n\t\tvar { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tyAxisZoom(chartId, newDomain) {\n\t\tthis.clearThreeCanvas();\n\t\tvar { chartConfig: initialChartConfig } = this.state;\n\t\tvar chartConfig = initialChartConfig\n\t\t\t.map(each => {\n\t\t\t\tif (each.id === chartId) {\n\t\t\t\t\tvar { yScale } = each;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...each,\n\t\t\t\t\t\tyScale: yScale.copy().domain(newDomain),\n\t\t\t\t\t\tyPanEnabled: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn each;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.setState({\n\t\t\tchartConfig,\n\t\t});\n\t}\n\tpanHelper(mouseXY, initialXScale, panOrigin, chartsToPan) {\n\t\tvar { xAccessor, filterData, chartConfig: initialChartConfig } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar dx = mouseXY[0] - panOrigin[0];\n\t\tvar dy = mouseXY[1] - panOrigin[1];\n\n\t\tif (isNotDefined(initialXScale.invert))\n\t\t\tthrow new Error(\"xScale provided does not have an invert() method.\"\n\t\t\t\t+ \"You are likely using an ordinal scale. This scale does not support zoom, pan\");\n\n\t\tvar newDomain = initialXScale.range().map(x => x - dx).map(initialXScale.invert);\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialXScale,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__plotData,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__domain);\n\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tplotData = postCalculator(plotData);\n\t\t// console.log(last(plotData));\n\t\tvar currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData, dy, chartsToPan);\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tchartConfig,\n\t\t\tcurrentItem,\n\t\t};\n\t}\n\tdraw() {/*\n\t\tvar { chartCanvasType } = this.props;\n\t\tif (chartCanvasType === \"svg\") {\n\t\t\tthis.setState({\n\t\t\t\trandom: Math.random()\n\t\t\t});\n\t\t} else {*/\n\t\tthis.subscriptions.forEach(each => {\n\t\t\t// console.log(each)\n\t\t\teach.callback(\"draw\");\n\t\t});\n\t\t// }\n\t}\n\ttriggerEvent(type, props, e) {\n\t\tthis.subscriptions.forEach(each => {\n\t\t\t// console.log(each)\n\t\t\teach.callback(type, props, e);\n\t\t});\n\t}\n\thandlePan(mousePosition, panStartXScale, panOrigin, chartsToPan, e) {\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = this.hackyWayToStopPanBeyondBounds__plotData || this.state.plotData;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = this.hackyWayToStopPanBeyondBounds__domain || this.state.xScale.domain();\n\n\t\tvar state = this.panHelper(mousePosition, panStartXScale, panOrigin, chartsToPan);\n\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = state.plotData;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = state.xScale.domain();\n\n\t\tthis.triggerEvent(\"pan\", state, e);\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearBothCanvas();\n\t\t\tthis.draw();\n\t\t});\n\t}\n\thandleMouseDown(mousePosition, currentCharts, e) {\n\t\tthis.triggerEvent(\"mousedown\", null, e);\n\t}\n\thandleClick(mousePosition, e) {\n\t\t// console.log(\"clicked\", e.shiftKey);\n\t\tthis.triggerEvent(\"click\", {}, e);\n\t}\n\thandleDoubleClick(mousePosition, e) {\n\t\tconsole.log(\"double clicked\");\n\t\tthis.triggerEvent(\"dblclick\", {}, e);\n\t}\n\thandlePanEnd(mousePosition, panStartXScale, panOrigin, chartsToPan, e) {\n\t\tvar state = this.panHelper(mousePosition, panStartXScale, panOrigin, chartsToPan);\n\t\t// console.log(this.canvasDrawCallbackList.map(d => d.type));\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = null;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = null;\n\n\t\tthis.triggerEvent(\"panend\", state, e);\n\t\t// console.log(\"PANEND\", panEnd++);\n\t\tvar {\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t} = state;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tvar { xAccessor, firstItem } = this.state;\n\n\t\t\tvar start = first(xScale.domain());\n\t\t\tvar end = xAccessor(firstItem);\n\t\t\t// console.log(start, end, start < end ? \"Load more\" : \"I have it\");\n\n\t\t\tvar { onLoadMore } = this.props;\n\t\t\tthis.clearThreeCanvas();\n\t\t\tthis.setState({\n\t\t\t\txScale,\n\t\t\t\tplotData,\n\t\t\t\tchartConfig,\n\t\t\t}, () => {\n\t\t\t\tif (start < end) onLoadMore(start, end);\n\t\t\t});\n\t\t});\n\t}/*\n\tsetInteractiveState(id, chartId, interactive) {\n\t\tvar everyThingElse = this.interactiveState\n\t\t\t.filter(each => !(each.id === id && each.chartId === chartId));\n\n\t\tthis.interactiveState = everyThingElse.concat({ id, chartId, interactive });\n\t}\n\tgetInteractiveState(forChart, id, initialState) {\n\t\tvar state = this.interactiveState\n\t\t\t.filter(each => each.chartId === forChart)\n\t\t\t.filter(each => each.id === id);\n\n\t\tvar response = (state.length > 0)\n\t\t\t? response = state[0].interactive\n\t\t\t: initialState;\n\t\treturn response;\n\t}*/\n\tgetChildContext() {\n\t\tvar dimensions = getDimensions(this.props);\n\n\t\treturn {\n\t\t\tfullData: this.state.fullData,\n\t\t\tplotData: this.state.plotData,\n\t\t\twidth: dimensions.width,\n\t\t\theight: dimensions.height,\n\t\t\tchartConfig: this.state.chartConfig,\n\t\t\txScale: this.state.xScale,\n\t\t\txAccessor: this.state.xAccessor,\n\t\t\tdisplayXAccessor: this.props.displayXAccessor || this.state.displayXAccessor,\n\t\t\tchartCanvasType: this.props.type,\n\t\t\tmargin: this.props.margin,\n\t\t\tratio: this.props.ratio,\n\t\t\txAxisZoom: this.xAxisZoom,\n\t\t\tyAxisZoom: this.yAxisZoom,\n\t\t\t// getInteractiveState: this.getInteractiveState,\n\t\t\t// setInteractiveState: this.setInteractiveState,\n\t\t\tgetCanvasContexts: this.getCanvasContexts,\n\t\t\tsubscribe: this.subscribe,\n\t\t\tunsubscribe: this.unsubscribe,\n\t\t};\n\t}\n\tcomponentWillMount() {\n\t\tvar state = resetChart(this.props, true);\n\t\tthis.setState(state);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar reset = shouldResetChart(this.props, nextProps);\n\n\t\tvar interaction = isInteractionEnabled(this.state.xScale, this.state.xAccessor, this.state.plotData);\n\n\t\tvar newState;\n\t\tif (!interaction || reset || !shallowEqual(this.props.xExtents, nextProps.xExtents)) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (!interaction)\n\t\t\t\t\tconsole.log(\"RESET CHART, changes to a non interactive chart\");\n\t\t\t\telse if (reset)\n\t\t\t\t\tconsole.log(\"RESET CHART, one or more of these props changed\", CANDIDATES_FOR_RESET);\n\t\t\t\telse\n\t\t\t\t\tconsole.log(\"xExtents changed\");\n\t\t\t}\n\t\t\t// do reset\n\t\t\tnewState = resetChart(nextProps);\n\t\t} else {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (this.props.data !== nextProps.data)\n\t\t\t\t\tconsole.log(\"data is changed but seriesName did not, change the seriesName if you wish to reset the chart\");\n\t\t\t\telse if (!shallowEqual(this.props.calculator, nextProps.calculator))\n\t\t\t\t\tconsole.log(\"calculator changed\");\n\t\t\t\telse\n\t\t\t\t\tconsole.log(\"Trivial change, may be width/height or type changed, but that does not matter\");\n\t\t\t}\n\n\t\t\tvar calculatedState = calculateFullData(nextProps);\n\n\t\t\tnewState = updateChart(calculatedState, this.state.xScale, nextProps, last(this.state.plotData));\n\t\t}\n\n\t\tvar { chartConfig: initialChartConfig } = this.state;\n\n\t\tif (!reset) {\n\t\t\tnewState.chartConfig\n\t\t\t\t.forEach((each) => {\n\t\t\t\t\tvar sourceChartConfig = initialChartConfig.filter(d => d.id === each.id);\n\t\t\t\t\tif (sourceChartConfig.length > 0 && sourceChartConfig[0].yPanEnabled) {\n\t\t\t\t\t\teach.yScale.domain(sourceChartConfig[0].yScale.domain());\n\t\t\t\t\t\teach.yPanEnabled = sourceChartConfig[0].yPanEnabled;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tthis.clearThreeCanvas();\n\t\tthis.setState(newState);\n\t}\n\trender() {\n\n\t\tvar { type, height, width, margin, className, zIndex, defaultFocus, ratio } = this.props;\n\t\tvar { useCrossHairStyleCursor, drawMode } = this.props;\n\n\t\tvar { plotData, xScale, xAccessor, chartConfig } = this.state;\n\t\tvar dimensions = getDimensions(this.props);\n\n\t\tvar interaction = isInteractionEnabled(xScale, xAccessor, plotData);\n\n\t\tvar cursor = getCursorStyle(useCrossHairStyleCursor && interaction);\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", height: height, width: width }} className={className} >\n\t\t\t\t<CanvasContainer ref=\"canvases\" width={width} height={height} ratio={ratio} type={type} zIndex={zIndex}/>\n\t\t\t\t<svg className={className} width={width} height={height} style={{ position: \"absolute\", zIndex: (zIndex + 5) }}>\n\t\t\t\t\t{cursor}\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<clipPath id=\"chart-area-clip\">\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={dimensions.width} height={dimensions.height} />\n\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t{chartConfig\n\t\t\t\t\t\t\t.map((each, idx) => <clipPath key={idx} id={`chart-area-clip-${each.id}`}>\n\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={each.width} height={each.height} />\n\t\t\t\t\t\t\t</clipPath>)}\n\t\t\t\t\t</defs>\n\t\t\t\t\t<g transform={`translate(${margin.left + 0.5}, ${margin.top + 0.5})`}>\n\t\t\t\t\t\t<EventCapture\n\t\t\t\t\t\t\tmouseMove={interaction}\n\t\t\t\t\t\t\tzoom={interaction}\n\t\t\t\t\t\t\tpan={interaction && !drawMode}\n\n\t\t\t\t\t\t\twidth={dimensions.width}\n\t\t\t\t\t\t\theight={dimensions.height}\n\t\t\t\t\t\t\tchartConfig={chartConfig}\n\t\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\t\tfocus={defaultFocus}\n\n\t\t\t\t\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\tonDoubleClick={this.handleDoubleClick}\n\t\t\t\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t\t\t\t\tonZoom={this.handleZoom}\n\t\t\t\t\t\t\tonPinchZoom={this.handlePinchZoom}\n\t\t\t\t\t\t\tonPan={this.handlePan}\n\t\t\t\t\t\t\tonPanEnd={this.handlePanEnd}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<g className=\"react-stockcharts-avoid-interaction\">\n\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction isInteractionEnabled(xScale, xAccessor, data) {\n\tvar interaction = !isNaN(xScale(xAccessor(first(data)))) && isDefined(xScale.invert);\n\treturn interaction;\n}\n\nChartCanvas.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object,\n\tratio: PropTypes.number.isRequired,\n\t// interval: PropTypes.oneOf([\"D\", \"W\", \"M\"]), // ,\"m1\", \"m5\", \"m15\", \"W\", \"M\"\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tdata: PropTypes.array.isRequired,\n\t// initialDisplay: PropTypes.number,\n\tcalculator: PropTypes.arrayOf(PropTypes.func).isRequired,\n\txAccessor: PropTypes.func,\n\txExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\t// xScale: PropTypes.func.isRequired,\n\tclassName: PropTypes.string,\n\tseriesName: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tchildren: PropTypes.node.isRequired,\n\txScaleProvider: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScale)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\txScale: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScaleProvider)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\tpostCalculator: PropTypes.func.isRequired,\n\tflipXScale: PropTypes.bool.isRequired,\n\tuseCrossHairStyleCursor: PropTypes.bool.isRequired,\n\tdrawMode: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t})\n\t]).isRequired,\n\tdefaultFocus: PropTypes.bool,\n\tonLoadMore: PropTypes.func,\n\tdisplayXAccessor: PropTypes.func,\n};\n\nChartCanvas.defaultProps = {\n\tmargin: { top: 20, right: 30, bottom: 30, left: 80 },\n\tindexAccessor: d => d.idx,\n\tindexMutator: (d, idx) => ({ ...d, idx }),\n\tmap: identity,\n\ttype: \"hybrid\",\n\tcalculator: [],\n\tclassName: \"react-stockchart\",\n\tzIndex: 1,\n\txExtents: [d3.min, d3.max],\n\t// dataEvaluator: evaluator,\n\tpostCalculator: identity,\n\tpadding: 0,\n\txAccessor: identity,\n\tflipXScale: false,\n\tuseCrossHairStyleCursor: true,\n\tdrawMode: false,\n\tdefaultFocus: true,\n\tonLoadMore: noop,\n\t// ratio: 2,\n};\n\nChartCanvas.childContextTypes = {\n\tplotData: PropTypes.array,\n\tfullData: PropTypes.array,\n\tchartConfig: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.number.isRequired,\n\t\t\torigin: PropTypes.arrayOf(PropTypes.number).isRequired,\n\t\t\tpadding: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\ttop: PropTypes.number,\n\t\t\t\t\tbottom: PropTypes.number,\n\t\t\t\t})\n\t\t\t]),\n\t\t\tyExtents: PropTypes.arrayOf(PropTypes.func),\n\t\t\tyExtentsProvider: PropTypes.func,\n\t\t\tyScale: PropTypes.func.isRequired,\n\t\t\tmouseCoordinates: PropTypes.shape({\n\t\t\t\tat: PropTypes.string,\n\t\t\t\tformat: PropTypes.func\n\t\t\t}),\n\t\t\twidth: PropTypes.number.isRequired,\n\t\t\theight: PropTypes.number.isRequired,\n\t\t})\n\t).isRequired,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\txAxisZoom: PropTypes.func,\n\tyAxisZoom: PropTypes.func,\n\tsubscribe: PropTypes.func,\n\tunsubscribe: PropTypes.func,\n};\n\nChartCanvas.ohlcv = d => ({ date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume });\n\nexport default ChartCanvas;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChartCanvas.jsx","\"use strict\";\n\nimport { merge, slidingWindow } from \"../utils\";\nimport { identity } from \"../utils\";\n\nexport default function() {\n\n\tvar windowSize = 1,\n\t\taccumulator = identity,\n\t\tmergeAs = identity;\n\n\tfunction algorithm(data) {\n\n\t\tvar defaultAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(accumulator);\n\n\t\tvar calculator = merge()\n\t\t\t.algorithm(defaultAlgorithm)\n\t\t\t.merge(mergeAs);\n\n\t\tvar newData = calculator(data);\n\n\t\treturn newData;\n\t}\n\n\talgorithm.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn algorithm;\n\t};\n\n\talgorithm.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn algorithm;\n\t};\n\talgorithm.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mergeAs;\n\t\t}\n\t\tmergeAs = x;\n\t\treturn algorithm;\n\t};\n\n\treturn algorithm;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/algorithm/index.js","\"use strict\";\n\n\nimport Annotate from \"./Annotate\";\nimport LabelAnnotation from \"./LabelAnnotation\";\nimport SvgPathAnnotation from \"./SvgPathAnnotation\";\nimport Label from \"./Label\";\n\nexport { Annotate, LabelAnnotation, SvgPathAnnotation, Label };\n\nconst halfWidth = 10;\nconst bottomWidth = 3;\nconst height = 20;\n\nexport function buyPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x - halfWidth} ${y + halfWidth} `\n\t\t+ \"Z\";\n}\n\nexport function sellPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x - halfWidth} ${y - halfWidth} `\n\t\t+ \"Z\";\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/index.js","\"use strict\";\n\n\nimport XAxis from \"./XAxis\";\nimport YAxis from \"./YAxis\";\n\nexport { XAxis, YAxis };\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/index.js","import EdgeIndicator from \"./EdgeIndicator\";\n\nimport CurrentCoordinate from \"./CurrentCoordinate\";\n\nimport MouseCoordinateX from \"./MouseCoordinateX\";\nimport MouseCoordinateY from \"./MouseCoordinateY\";\nimport CrossHairCursor from \"./CrossHairCursor\";\n\nexport {\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n\tCrossHairCursor,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/index.js","\nimport TypeChooser from \"./TypeChooser\";\nimport SaveChartAsImage from \"./SaveChartAsImage\";\nimport fitWidth from \"./fitWidth\";\n\nexport {\n\tTypeChooser,\n\tSaveChartAsImage,\n\tfitWidth\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/index.js","\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerBand from \"./bollingerBand\";\nimport heikinAshi from \"./heikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport atr from \"./atr\";\nimport stochasticOscillator from \"./stochasticOscillator\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport change from \"./change\";\nimport elderImpulse from \"./elderImpulse\";\nimport compare from \"./compare\";\n\nimport * as defaultOptionsForComputation from \"./defaultOptionsForComputation\";\nimport * as defaultOptionsForAppearance from \"./defaultOptionsForAppearance\";\n\nexport {\n\tema,\n\tsma,\n\tbollingerBand,\n\theikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\trsi,\n\tatr,\n\tstochasticOscillator,\n\tforceIndex,\n\telderRay,\n\tchange,\n\telderImpulse,\n\tcompare,\n\tdefaultOptionsForComputation,\n\tdefaultOptionsForAppearance,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/index.js","import TrendLine from \"./TrendLine\";\nimport FibonacciRetracement from \"./FibonacciRetracement\";\nimport ClickCallback from \"./ClickCallback\";\nimport Brush from \"./Brush\";\n\nexport {\n\tTrendLine,\n\tFibonacciRetracement,\n\tClickCallback,\n\tBrush,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/index.js","\nimport discontinuousTimeScaleProvider, { discontinuousTimeScaleProviderBuilder } from \"./discontinuousTimeScaleProvider\";\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\n\nexport {\n\tdiscontinuousTimeScaleProviderBuilder,\n\tdiscontinuousTimeScaleProvider,\n\tfinanceDiscontinuousScale\n};\n\nexport function defaultScaleProvider(xScale) {\n\treturn (data, xAccessor) => ({ data, xScale, xAccessor, displayXAccessor: xAccessor });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/index.js","import AreaSeries from \"./AreaSeries\";\nimport ScatterSeries from \"./ScatterSeries\";\nimport CircleMarker from \"./CircleMarker\";\nimport LineSeries from \"./LineSeries\";\nimport CandlestickSeries from \"./CandlestickSeries\";\nimport OHLCSeries from \"./OHLCSeries\";\nimport BarSeries from \"./BarSeries\";\nimport StackedBarSeries from \"./StackedBarSeries\";\nimport GroupedBarSeries from \"./GroupedBarSeries\";\nimport KagiSeries from \"./KagiSeries\";\nimport PointAndFigureSeries from \"./PointAndFigureSeries\";\nimport RenkoSeries from \"./RenkoSeries\";\nimport MACDSeries from \"./MACDSeries\";\nimport BollingerSeries from \"./BollingerSeries\";\nimport RSISeries from \"./RSISeries\";\nimport StochasticSeries from \"./StochasticSeries\";\nimport ElderRaySeries from \"./ElderRaySeries\";\nimport VolumeProfileSeries from \"./VolumeProfileSeries\";\nimport StraightLine from \"./StraightLine\";\n\nexport {\n\tScatterSeries,\n\tCircleMarker,\n\tAreaSeries,\n\tLineSeries,\n\tCandlestickSeries,\n\tOHLCSeries,\n\tBarSeries,\n\tStackedBarSeries,\n\tGroupedBarSeries,\n\tKagiSeries,\n\tPointAndFigureSeries,\n\tRenkoSeries,\n\tMACDSeries,\n\tBollingerSeries,\n\tRSISeries,\n\tStochasticSeries,\n\tElderRaySeries,\n\tVolumeProfileSeries,\n\tStraightLine,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/index.js","import MACDTooltip from \"./MACDTooltip\";\n// import TooltipContainer from \"./TooltipContainer\";\nimport OHLCTooltip from \"./OHLCTooltip\";\nimport SingleValueTooltip from \"./SingleValueTooltip\";\nimport MovingAverageTooltip from \"./MovingAverageTooltip\";\nimport BollingerBandTooltip from \"./BollingerBandTooltip\";\nimport RSITooltip from \"./RSITooltip\";\nimport StochasticTooltip from \"./StochasticTooltip\";\nimport HoverTooltip from \"./HoverTooltip\";\n\nexport {\n\tMACDTooltip,\n//\tTooltipContainer,\n\tOHLCTooltip,\n\tSingleValueTooltip,\n\tMovingAverageTooltip,\n\tBollingerBandTooltip,\n\tRSITooltip,\n\tStochasticTooltip,\n\tHoverTooltip\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() { return this; })();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 120\n// module chunks = 3","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport { isDefined } from \"./utils\";\n\nclass CanvasContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setDrawCanvas = this.setDrawCanvas.bind(this);\n\t\tthis.drawCanvas = {};\n\t}\n\tsetDrawCanvas(node) {\n\t\tif (isDefined(node))\n\t\t\tthis.drawCanvas[node.id] = node.getContext(\"2d\");\n\t\telse\n\t\t\tthis.drawCanvas = {};\n\t}\n\tgetCanvasContexts() {\n\t\tif (isDefined(this.drawCanvas.axes)) {\n\t\t\treturn this.drawCanvas;\n\t\t}\n\t}\n\trender() {\n\t\tvar { height, width, type, zIndex, ratio } = this.props;\n\t\tif (type === \"svg\") return null;\n\t\tconsole.log(\"using ratio \", ratio);\n\t\treturn (\n\t\t\t<div style={{ zIndex: zIndex }}>\n\t\t\t\t<canvas id=\"bg\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0, width: width, height: height }} />\n\t\t\t\t<canvas id=\"axes\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0, width: width, height: height }} />\n\t\t\t\t<canvas id=\"mouseCoord\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0, width: width, height: height }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/*\n\t\t\t\t<canvas ref=\"canvas_interactive\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n*/\n\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tratio: PropTypes.number.isRequired,\n};\n\nexport default CanvasContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/CanvasContainer.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { isDefined, mousePosition, touchPosition, d3Window, MOUSEMOVE, MOUSEUP } from \"./utils\";\nimport { getCurrentCharts } from \"./utils/ChartDataUtil\";\n\nfunction getTouchProps(touch) {\n\tif (!touch) return {};\n\treturn {\n\t\tpageX: touch.pageX,\n\t\tpageY: touch.pageY,\n\t\tclientX: touch.clientX,\n\t\tclientY: touch.clientY\n\t};\n}\n\nclass EventCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleEnter = this.handleEnter.bind(this);\n\t\tthis.handleLeave = this.handleLeave.bind(this);\n\t\tthis.handleWheel = this.handleWheel.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\n\t\tthis.handleRightClick = this.handleRightClick.bind(this);\n\t\tthis.lastTouch = {};\n\t\tthis.initialPinch = {};\n\t\tthis.mouseInteraction = true;\n\t\tthis.state = {\n\t\t\tpanInProgress: false,\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.focus = this.props.focus;\n\t}\n\thandleEnter(e) {\n\t\tvar { onMouseEnter } = this.props;\n\t\tonMouseEnter(e);\n\t}\n\thandleLeave(e) {\n\t\tvar { onMouseLeave } = this.props;\n\t\tonMouseLeave(e);\n\t}\n\thandleWheel(e) {\n\t\tvar { zoom, onZoom, zoomMultiplier } = this.props;\n\n\t\tif (zoom && this.focus) {\n\t\t\te.preventDefault();\n\n\t\t\tvar newPos = mousePosition(e);\n\t\t\tvar zoomDir = e.deltaY > 0 ? zoomMultiplier : -zoomMultiplier;\n\n\t\t\tonZoom(zoomDir, newPos, e);\n\t\t}\n\t}\n\thandleMouseMove(e) {\n\t\tvar { onMouseMove, mouseMove } = this.props;\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& mouseMove\n\t\t\t\t&& !this.state.panInProgress) {\n\n\t\t\tvar newPos = mousePosition(e);\n\n\t\t\tonMouseMove(newPos, \"mouse\", e);\n\t\t}\n\t}\n\thandleRightClick(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tvar { onContextMenu, onPanEnd } = this.props;\n\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\n\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\tif (this.panHappened) {\n\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t}\n\n\t\tonContextMenu(newPos, e);\n\n\t\tvar win = d3Window(this.refs.capture);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.contextMenuClicked = true;\n\t\tthis.setState({\n\t\t\tpanInProgress: false,\n\t\t\tpanStart: null,\n\t\t});\n\t\t// onPanEnd(newPos, e);\n\t}\n\thandleMouseDown(e) {\n\t\tvar { pan, xScale, chartConfig, onMouseDown } = this.props;\n\t\tthis.panHappened = false;\n\t\tthis.focus = true;\n\n\t\tif (!this.state.panInProgress && this.mouseInteraction) {\n\n\t\t\tvar mouseXY = mousePosition(e);\n\n\t\t\tvar dx = e.pageX - mouseXY[0],\n\t\t\t\tdy = e.pageY - mouseXY[1];\n\n\t\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: pan,\n\t\t\t\tpanStart: {\n\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\tpanOrigin: mouseXY,\n\t\t\t\t\tdx, dy,\n\t\t\t\t\tchartsToPan: currentCharts\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (pan) {\n\t\t\t\tvar win = d3Window(this.refs.capture);\n\t\t\t\td3.select(win)\n\t\t\t\t\t.on(MOUSEMOVE, this.handlePan)\n\t\t\t\t\t.on(MOUSEUP, this.handlePanEnd);\n\t\t\t}\n\n\t\t\tif (!pan) {\n\t\t\t\te.persist();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!this.contextMenuClicked) {\n\t\t\t\t\t\t// console.log(\"NO RIGHT\")\n\t\t\t\t\t\tonMouseDown(mouseXY, currentCharts, e);\n\t\t\t\t\t}\n\t\t\t\t\tthis.contextMenuClicked = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandlePan() {\n\t\tvar e = d3.event;\n\t\tvar { pan: panEnabled, onPan } = this.props;\n\n\t\t// console.log(\"moved from- \", startXY, \" to \", newPos);\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& panEnabled\n\t\t\t\t&& onPan\n\t\t\t\t&& isDefined(this.state.panStart)) {\n\n\t\t\tthis.panHappened = true;\n\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\t\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\t\tonPan(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t}\n\t}\n\thandlePanEnd() {\n\t\tvar e = d3.event;\n\n\t\tvar { pan: panEnabled, onPanEnd, onClick, onDoubleClick } = this.props;\n\n\t\tif (isDefined(this.state.panStart)) {\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\n\t\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\t\tif (!this.panHappened) {\n\t\t\t\tif (this.clicked) {\n\t\t\t\t\tonDoubleClick(newPos, e);\n\t\t\t\t} else {\n\t\t\t\t\tthis.clicked = true;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.clicked = false;\n\t\t\t\t\t}, 300);\n\t\t\t\t\tonClick(newPos, e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.mouseInteraction\n\t\t\t\t\t&& this.panHappened\n\t\t\t\t\t// && !this.contextMenuClicked\n\t\t\t\t\t&& panEnabled\n\t\t\t\t\t&& onPanEnd) {\n\t\t\t\tvar win = d3Window(this.refs.capture);\n\t\t\t\td3.select(win)\n\t\t\t\t\t.on(MOUSEMOVE, null)\n\t\t\t\t\t.on(MOUSEUP, null);\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: false,\n\t\t\t\tpanStart: null,\n\t\t\t});\n\t\t}\n\t}\n\thandleTouchStart(e) {\n\t\tthis.mouseInteraction = false;\n\n\t\tvar { pan: panEnabled } = this.props;\n\n\t\tvar { xScale, onPanEnd } = this.props;\n\n\t\tif (e.touches.length === 1) {\n\t\t\tvar touch = getTouchProps(e.touches[0]);\n\t\t\tvar touchXY = touchPosition(touch, e);\n\t\t\tthis.lastTouch = touch;\n\t\t\t// onMouseMove(touchXY, \"touch\", e);\n\t\t\tif (panEnabled) {\n\t\t\t\tconst dx = touch.pageX - touchXY[0],\n\t\t\t\t\tdy = touch.pageY - touchXY[1];\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: true,\n\t\t\t\t\tpanStart: {\n\t\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\t\tpanOrigin: touchXY,\n\t\t\t\t\t\tdx, dy\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom begin\n\t\t\t// do nothing pinch zoom is handled in handleTouchMove\n\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\tvar { panInProgress, panStart } = this.state;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\t\t\t\tconst { dx, dy, panStartXScale, panOrigin } = panStart;\n\n\t\t\t\t// end pan first\n\t\t\t\tvar newPos = [touch1.pageX - dx, touch1.pageY - dy];\n\t\t\t\tthis.lastTouch = null;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: false,\n\t\t\t\t\tpanStart: null,\n\t\t\t\t});\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t}\n\n\t\tif (e.touches.length !== 2) this.initialPinch = null;\n\n\t\t// console.log(\"handleTouchStart\", e);\n\t\te.preventDefault();\n\t}\n\thandleTouchMove(e) {\n\t\tvar { pan: panEnabled, zoom: zoomEnabled } = this.props;\n\t\tvar { xScale, onPan, onPinchZoom } = this.props;\n\t\tvar { panInProgress, panStart } = this.state;\n\n\t\tif (e.touches.length === 1) {\n\t\t\t// pan\n\t\t\tvar touch = this.lastTouch = getTouchProps(e.touches[0]);\n\n\t\t\tif (panInProgress && panEnabled && onPan) {\n\t\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = panStart;\n\n\t\t\t\tvar newPos = [touch.pageX - dx, touch.pageY - dy];\n\t\t\t\tonPan(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom\n\t\t\tif (zoomEnabled && onPinchZoom && focus) {\n\t\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\t\tvar touch2 = getTouchProps(e.touches[1]);\n\n\t\t\t\tvar touch1Pos = touchPosition(touch1, e);\n\t\t\t\tvar touch2Pos = touchPosition(touch2, e);\n\n\t\t\t\tif (this.initialPinch === null) {\n\t\t\t\t\tthis.initialPinch = {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t\trange: xScale.range(),\n\t\t\t\t\t};\n\t\t\t\t} else if (this.initialPinch && !panInProgress) {\n\t\t\t\t\tonPinchZoom(this.initialPinch, {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\n\t\t// console.log(\"handleTouchMove\", e);\n\t}\n\thandleTouchEnd(e) {\n\t\t// TODO enableMouseInteraction\n\t\tvar { pan: panEnabled, onPanEnd } = this.props;\n\t\tvar { panInProgress, panStart } = this.state;\n\n\t\tif (this.lastTouch && isDefined(panStart)) {\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = panStart;\n\t\t\tvar newPos = [this.lastTouch.pageX - dx, this.lastTouch.pageY - dy];\n\n\t\t\tthis.initialPinch = null;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t}\n\t\t}\n\t\t// console.log(\"handleTouchEnd\", dxdy, newPos, e);\n\t\tthis.mouseInteraction = true;\n\t\te.preventDefault();\n\t}\n\trender() {\n\t\tvar { height, width } = this.props;\n\t\tvar className = this.state.panInProgress ? \"react-stockcharts-grabbing-cursor\" : \"react-stockcharts-crosshair-cursor\";\n\t\treturn (\n\t\t\t<rect ref=\"capture\"\n\t\t\t\tclassName={className}\n\t\t\t\twidth={width} height={height} style={{ opacity: 0 }}\n\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\tonWheel={this.handleWheel}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonContextMenu={this.handleRightClick}\n\t\t\t\tonTouchStart={this.handleTouchStart}\n\t\t\t\tonTouchEnd={this.handleTouchEnd}\n\t\t\t\tonTouchMove={this.handleTouchMove} />\n\t\t);\n\t}\n}\n\nEventCapture.propTypes = {\n\tmouseMove: PropTypes.bool.isRequired,\n\tzoom: PropTypes.bool.isRequired,\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tpan: PropTypes.bool.isRequired,\n\tpanSpeedMultiplier: PropTypes.number.isRequired,\n\tfocus: PropTypes.bool.isRequired,\n\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\n\tonMouseMove: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\tonZoom: PropTypes.func,\n\tonPinchZoom: PropTypes.func,\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\tchildren: PropTypes.node,\n};\n\nEventCapture.defaultProps = {\n\tmouseMove: false,\n\tzoom: false,\n\tzoomMultiplier: 1,\n\tpan: false,\n\tpanSpeedMultiplier: 1,\n\tfocus: false,\n};\n\nexport default EventCapture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/EventCapture.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Annotate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { className, usingProps, with: Annotation } = this.props;\n\t\tvar data = helper(this.props, plotData);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-enable-interaction ${className}`}>\n\t\t\t\t{data.map((d, idx) => <Annotation key={idx}\n\t\t\t\t\t\t{...usingProps}\n\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\tyScale={yScale}\n\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\tplotData={plotData}\n\t\t\t\t\t\tdatum={d} />)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAnnotate.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\twith: PropTypes.func,\n\twhen: PropTypes.func,\n\tusingProps: PropTypes.object,\n};\n\nAnnotate.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nAnnotate.defaultProps = {\n\tclassName: \"react-stockcharts-annotate react-stockcharts-default-cursor\",\n};\n\nfunction helper({ when }, plotData) {\n\treturn plotData.filter(when);\n}\n\nexport default Annotate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/Annotate.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\n\nimport { isDefined, hexToRGBA } from \"../utils\";\nimport LabelAnnotation, { defaultProps, helper } from \"./LabelAnnotation\";\n\nclass Label extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas2(ctx, this.props, this.context, moreProps);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tcanvasToDraw={this.props.selectCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { chartConfig } = moreProps;\n\n\t\treturn <LabelAnnotation yScale={getYScale(chartConfig)} {...this.props} text={getText(this.props)}/>;\n\t}\n}\n\nfunction getText(props) {\n\treturn d3.functor(props.text)(props);\n}\n\nfunction getYScale(chartConfig) {\n\treturn Array.isArray(chartConfig) ? undefined : chartConfig.yScale;\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\tselectCanvas: PropTypes.func.isRequired,\n\ttext: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n};\n\nLabel.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\tmargin: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n};\n\nLabel.defaultProps = {\n\t...defaultProps,\n\tselectCanvas: canvases => canvases.bg,\n};\n\nfunction drawOnCanvas2(ctx, props, context, moreProps) {\n\tctx.save();\n\n\tvar { canvasOriginX, canvasOriginY, margin, ratio } = context;\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.scale(ratio, ratio);\n\n\n\tif (isDefined(canvasOriginX))\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\telse\n\t\tctx.translate(margin.left + (0.5 * ratio), margin.top + (0.5 * ratio));\n\n\tdrawOnCanvas(ctx, props, context, moreProps);\n\n\tctx.restore();\n\n}\n\nfunction drawOnCanvas(ctx, props, context, moreProps) {\n\tvar { textAnchor, fontFamily, fontSize, opacity, rotate } = props;\n\tvar { xScale, chartConfig } = moreProps;\n\tvar { xAccessor } = context;\n\n\tvar { xPos, yPos, fill, text } = helper(props, xAccessor, xScale, getYScale(chartConfig));\n\n\tvar radians = (rotate / 180) * Math.PI;\n\tctx.save();\n\tctx.translate(xPos, yPos);\n\tctx.rotate(radians);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tctx.beginPath();\n\tctx.fillText(text, 0, 0);\n\tctx.restore();\n}\n\n\nexport default Label;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/Label.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass SvgPathAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, stroke, opacity } = this.props;\n\t\tvar { xAccessor, xScale, yScale, path } = this.props;\n\n\t\tvar { x, y, fill, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className} onClick={this.handleClick}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<path d={path({ x, y })} stroke={stroke} fill={fill} opacity={opacity} />\n\t\t</g>);\n\t}\n}\n\nfunction helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\tx: xPos,\n\t\ty: yPos,\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nSvgPathAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\tpath: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n};\n\nSvgPathAnnotation.defaultProps = {\n\tclassName: \"react-stockcharts-svgpathannotation\",\n\topacity: 1,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nexport default SvgPathAnnotation;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/SvgPathAnnotation.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { first, last, isDefined } from \"../utils\";\nimport { mousePosition, d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\n\nfunction sign(x) {\n\treturn (x > 0) - (x < 0);\n}\n\nclass AxisZoomCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.state = {\n\t\t\tstartPosition: null\n\t\t};\n\t}\n\thandleDragStart(e) {\n\t\tvar { getScale, getMoreProps } = this.props;\n\t\tvar startScale = getScale(getMoreProps());\n\n\t\tif (startScale.invert) {\n\t\t\td3.select(d3Window(this.refs.capture))\n\t\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\t\tvar startXY = mousePosition(e);\n\t\t\tvar leftX = e.pageX - startXY[0],\n\t\t\t\ttopY = e.pageY - startXY[1];\n\n\t\t\tthis.setState({\n\t\t\t\tstartPosition: {\n\t\t\t\t\tstartXY,\n\t\t\t\t\tleftX,\n\t\t\t\t\ttopY,\n\t\t\t\t\tstartScale,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\te.preventDefault();\n\n\t\tvar { startPosition } = this.state;\n\t\tvar { getMouseDelta } = this.props;\n\n\t\tif (isDefined(startPosition)) {\n\t\t\tvar { startScale } = startPosition;\n\t\t\tvar { startXY, leftX, topY } = startPosition;\n\n\t\t\tvar mouseXY = [e.pageX - leftX, e.pageY - topY];\n\n\t\t\tvar diff = getMouseDelta(startXY, mouseXY);\n\n\t\t\tvar center = d3.mean(startScale.range());\n\n\t\t\tvar tempRange = startScale.range()\n\t\t\t\t.map(d => d + sign(d - center) * diff);\n\n\t\t\tvar newDomain = tempRange.map(startScale.invert);\n\n\t\t\tif (sign(last(startScale.range()) - first(startScale.range())) === sign(last(tempRange) - first(tempRange))) {\n\n\t\t\t\tvar { axisZoomCallback } = this.props;\n\t\t\t\t// console.log(startXScale.domain(), newXDomain)\n\t\t\t\taxisZoomCallback(newDomain);\n\t\t\t}\n\t\t}\n\t}\n\thandleDragEnd() {\n\t\td3.select(d3Window(this.refs.capture))\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\t\tthis.setState({\n\t\t\tstartPosition: null,\n\t\t});\n\t}\n\trender() {\n\t\tvar { bg, zoomCursorClassName } = this.props;\n\n\t\tvar cursor = isDefined(this.state.startPosition)\n\t\t\t? zoomCursorClassName\n\t\t\t: \"react-stockcharts-default-cursor\";\n\n\t\treturn <rect\n\t\t\tclassName={`react-stockcharts-enable-interaction ${cursor}`}\n\t\t\tref=\"capture\"\n\t\t\tx={bg.x} y={bg.y} opacity={0} height={bg.h} width={bg.w}\n\t\t\tonMouseDown={this.handleDragStart} />;\n\t}\n}\n\nAxisZoomCapture.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\n\tbg: PropTypes.object.isRequired,\n\tzoomCursorClassName: PropTypes.string.isRequired,\n\tgetMoreProps: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n};\n\nAxisZoomCapture.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nexport default AxisZoomCapture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/AxisZoomCapture.jsx","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport Axis from \"./Axis\";\n\nclass XAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newXDomain) {\n\t\tvar { xAxisZoom } = this.context;\n\t\txAxisZoom(newXDomain);\n\t}\n\trender() {\n\t\tvar { showTicks } = this.props;\n\t\tvar moreProps = helper(this.props, this.context);\n\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomEnabled={showTicks}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\n\nXAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\txZoomHeight: 25,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\n};\n\nXAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nfunction helper(props, context) {\n\tvar { axisAt, xZoomHeight, orient } = props;\n\tvar { width, height } = context;\n\n\tvar axisLocation, x = 0, w = width, h = xZoomHeight;\n\n\tif (axisAt === \"top\") axisLocation = 0;\n\telse if (axisAt === \"bottom\") axisLocation = height;\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\n\telse axisLocation = axisAt;\n\n\tvar y = (orient === \"top\") ? -xZoomHeight : 0;\n\n\treturn {\n\t\ttransform: [0, axisLocation],\n\t\trange: [0, width],\n\t\tgetScale: moreProps => moreProps.xScale,\n\t\tbg: { x, y, h, w },\n\t};\n}\nexport default XAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/XAxis.jsx","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport Axis from \"./Axis\";\n\nclass YAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newYDomain) {\n\t\tvar { chartId, yAxisZoom } = this.context;\n\t\tyAxisZoom(chartId, newYDomain);\n\t}\n\trender() {\n\t\tvar moreProps = helper(this.props, this.context);\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\tedgeClip\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ns-resize-cursor\" />;\n\t}\n}\n\nYAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"left\", \"right\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\tyZoomWidth: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\n\nYAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-y-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tfill: \"none\",\n\tstroke: \"#FFFFFF\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tyZoomWidth: 40,\n\t// zoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1],\n};\n\nYAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tyAxisZoom: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n};\n\nfunction helper(props, context) {\n\tvar { axisAt, yZoomWidth, orient } = props;\n\tvar { width, height } = context;\n\n\tvar axisLocation, y = 0, w = yZoomWidth, h = height;\n\n\tif (axisAt === \"left\") {\n\t\taxisLocation = 0;\n\t} else if (axisAt === \"right\") {\n\t\taxisLocation = width;\n\t} else if (axisAt === \"middle\") {\n\t\taxisLocation = (width) / 2;\n\t} else {\n\t\taxisLocation = axisAt;\n\t}\n\n\tvar x = (orient === \"left\") ? -yZoomWidth : 0;\n\n\treturn {\n\t\ttransform: [axisLocation, 0],\n\t\trange: [0, height],\n\t\tgetScale: moreProps => moreProps.chartConfig.yScale,\n\t\tbg: { x, y, h, w },\n\t\tzoomEnabled: context.chartConfig.yPan,\n\t};\n}\nexport default YAxis;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/YAxis.jsx","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\nimport PureComponent from \"../utils/PureComponent\";\n\nimport { hexToRGBA, isDefined, isNotDefined } from \"../utils\";\n\nclass CrossHairCursor extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar lines = helper(this.props, this.context, moreProps);\n\n\t\tif (isDefined(lines)) {\n\n\t\t\tvar { margin, ratio } = this.context;\n\t\t\tvar originX = 0.5 * ratio + margin.left;\n\t\t\tvar originY = 0.5 * ratio + margin.top;\n\n\t\t\tctx.save();\n\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tctx.scale(ratio, ratio);\n\n\t\t\tctx.translate(originX, originY);\n\n\t\t\tlines.forEach(line => {\n\n\t\t\t\tctx.strokeStyle = hexToRGBA(line.stroke, line.opacity);\n\t\t\t\tvar dashArray = line.strokeDasharray.split(\",\").map(d => +d);\n\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(line.x1, line.y1);\n\t\t\t\tctx.lineTo(line.x2, line.y2);\n\t\t\t\tctx.stroke();\n\t\t\t});\n\n\t\t\tctx.restore();\n\t\t}\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar lines = helper(this.props, this.context, moreProps);\n\n\t\tif (isNotDefined(lines)) return null;\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-crosshair ${className}`}>\n\t\t\t\t{lines.map((each, idx) =>\n\t\t\t\t\t<line key={idx} {...each} />)}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nCrossHairCursor.propTypes = {\n\tclassName: PropTypes.string,\n};\n\nCrossHairCursor.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n\n\t// xScale for getting update event upon pan end\n\txScale: PropTypes.func.isRequired,\n};\n\nCrossHairCursor.defaultProps = {\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tstrokeDasharray: \"4, 2\",\n\tsnapX: true,\n};\n\nfunction helper(props, context, { mouseXY, xScale, currentItem, show }) {\n\tvar { height, width, xAccessor } = context;\n\tvar { snapX, stroke, opacity, strokeDasharray } = props;\n\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar line1 = {\n\t\tx1: 0,\n\t\tx2: width,\n\t\ty1: mouseXY[1],\n\t\ty2: mouseXY[1],\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\tvar x = snapX ? Math.round(xScale(xAccessor(currentItem))) : mouseXY[0];\n\n\tvar line2 = {\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1: 0,\n\t\ty2: height,\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\treturn [line1, line2];\n}\n\nexport default CrossHairCursor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/CrossHairCursor.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { isNotDefined } from \"../utils\";\n\nclass CurrentCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar circle = helper(this.props, this.context, moreProps);\n\t\tif (!circle) return null;\n\n\t\tctx.fillStyle = circle.fill;\n\t\tctx.beginPath();\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\t\tctx.fill();\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\n\t\tvar circle = helper(this.props, this.context, moreProps);\n\t\tif (!circle) return null;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={circle.fill} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\nCurrentCoordinate.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { fill, yAccessor, r } = props;\n\tvar { xAccessor } = context;\n\n\tvar { show, xScale, chartConfig: { yScale }, currentItem } = moreProps;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar xValue = xAccessor(currentItem);\n\tvar yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tvar x = Math.round(xScale(xValue));\n\tvar y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n}\n\nexport default CurrentCoordinate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/CurrentCoordinate.jsx","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { first, last, isDefined } from \"../utils\";\n\nclass EdgeIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar edge = helper(this.props, this.context, moreProps);\n\t\tvar props = {\n\t\t\t...this.props,\n\t\t\t...edge,\n\t\t};\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar edge = helper(this.props, this.context, moreProps);\n\t\tvar props = {\n\t\t\t...this.props,\n\t\t\t...edge,\n\t\t};\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tedgeClip\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nEdgeIndicator.propTypes = {\n\tyAccessor: PropTypes.func,\n\n\ttype: PropTypes.oneOf([\"horizontal\"]).isRequired,\n\tclassName: PropTypes.string,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\ttextFill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\titemType: PropTypes.oneOf([\"first\", \"last\"]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]),\n\tedgeAt: PropTypes.oneOf([\"left\", \"right\"]),\n\tdisplayFormat: PropTypes.func.isRequired,\n\trectHeight: PropTypes.number.isRequired,\n\trectWidth: PropTypes.number.isRequired,\n\tarrowWidth: PropTypes.number.isRequired,\n};\nEdgeIndicator.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nEdgeIndicator.defaultProps = {\n\tclassName: \"react-stockcharts-edgeindicator\",\n\n\ttype: \"horizontal\",\n\torient: \"left\",\n\tedgeAt: \"left\",\n\ttextFill: \"#FFFFFF\",\n\tdisplayFormat: d3.format(\".2f\"),\n\tyAxisPad: 0,\n\trectHeight: 20,\n\trectWidth: 50,\n\tarrowWidth: 10,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\tdx: 0,\n\thideLine: false,\n\tfill: \"#8a8a8a\",\n\topacity: 1,\n\tlineStroke: \"#000000\",\n\tlineOpacity: 0.3,\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { type: edgeType, displayFormat, itemType, edgeAt, yAxisPad, orient } = props;\n\tvar { yAccessor, fill, textFill, rectHeight, rectWidth, arrowWidth } = props;\n\tvar { fontFamily, fontSize } = props;\n\tvar { xAccessor } = context;\n\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t// var currentItem = ChartDataUtil.getCurrentItemForChartNew(currentItems, forChart);\n\tvar edge = null;\n\t// console.log(chartData.config.compareSeries.length);\n\n\tvar item = (itemType === \"first\" ? first(plotData, yAccessor) : last(plotData, yAccessor));\n\n\tif (isDefined(item)) {\n\t\tvar yValue = yAccessor(item),\n\t\t\txValue = xAccessor(item);\n\n\t\tvar x1 = Math.round(xScale(xValue)),\n\t\t\ty1 = Math.round(yScale(yValue));\n\n\t\tvar [left, right] = xScale.range();\n\t\tvar edgeX = edgeAt === \"left\"\n\t\t\t\t? left - yAxisPad\n\t\t\t\t: right + yAxisPad;\n\n\t\tedge = {\n\t\t\t// ...props,\n\t\t\tcoordinate: displayFormat(yValue),\n\t\t\tshow: true,\n\t\t\ttype: edgeType,\n\t\t\torient,\n\t\t\tedgeAt: edgeX,\n\t\t\tfill: d3.functor(fill)(item),\n\t\t\tfontFamily, fontSize,\n\t\t\ttextFill: d3.functor(textFill)(item),\n\t\t\trectHeight, rectWidth, arrowWidth,\n\t\t\tx1,\n\t\t\ty1,\n\t\t\tx2: edgeX,\n\t\t\ty2: y1,\n\t\t};\n\t}\n\treturn edge;\n}\n\nexport default EdgeIndicator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/EdgeIndicator.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateX extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseCoordinateX.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nMouseCoordinateX.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMouseCoordinateX.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 80,\n\trectHeight: 20,\n\torient: \"bottom\",\n\tat: \"bottom\",\n\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tsnapX: true,\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { height, xAccessor, displayXAccessor } = context;\n\tvar { show, currentItem, xScale, mouseXY } = moreProps;\n\t// var { chartConfig: { yScale, origin } } = moreProps;\n\n\tif (isNotDefined(currentItem)) return null;\n\n\tvar { snapX } = props;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tvar x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\tvar edgeAt = (at === \"bottom\")\n\t\t? height\n\t\t: 0;\n\n\tvar coordinate = snapX ? displayFormat(displayXAccessor(currentItem)) : displayFormat(xScale.invert(x));\n\tvar type = \"vertical\";\n\tvar y1 = 0, y2 = height;\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth: 0,\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1,\n\t\ty2\n\t};\n\treturn coordinateProps;\n}\n\nexport default MouseCoordinateX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/MouseCoordinateX.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateY extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tclip={false}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseCoordinateY.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nMouseCoordinateY.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\t// height: PropTypes.number.isRequired,\n\t// margin: PropTypes.object.isRequired,\n\tchartId: PropTypes.number.isRequired,\n};\n\nMouseCoordinateY.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tdx: 0,\n\tarrowWidth: 10,\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { chartId, width } = context;\n\tvar { show, currentCharts, chartConfig: { yScale, origin }, mouseXY } = moreProps;\n\n\tif (isNotDefined(mouseXY)) return null;\n\n\tif (currentCharts.indexOf(chartId) < 0) return null;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n\n\tvar x1 = 0, x2 = width;\n\tvar edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tvar type = \"horizontal\";\n\tvar y = mouseXY[1] - origin[1];\n\tvar coordinate = displayFormat(yScale.invert(y));\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\nexport default MouseCoordinateY;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/MouseCoordinateY.jsx","\"use strict\";\n\nimport saveAsPng from \"save-svg-as-png\";\nimport { isDefined } from \"../utils\";\n\nvar SaveChartAsImage = {\n\tsave(doc, container, background, cb) {\n\t\tsaveAsPng.svgAsDataUri(container.getElementsByTagName(\"svg\")[0], {}, function(uri) {\n\t\t\tvar image = new Image();\n\t\t\timage.onload = function() {\n\t\t\t\tvar canvas = doc.createElement(\"canvas\");\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\t\t\t\tvar context = canvas.getContext(\"2d\");\n\n\t\t\t\tif (isDefined(background)) {\n\t\t\t\t\tcontext.fillStyle = background;\n\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t}\n\t\t\t\tvar canvasList = container.getElementsByTagName(\"canvas\");\n\t\t\t\tfor (var i = 0; i < canvasList.length; i++) {\n\t\t\t\t\tvar each = canvasList[i];\n\t\t\t\t\tif (isDefined(each)) {\n\t\t\t\t\t\tvar parent = each.parentNode.parentNode.getBoundingClientRect();\n\t\t\t\t\t\tvar rect = each.getBoundingClientRect();\n\t\t\t\t\t\tcontext.drawImage(each, rect.left - parent.left, rect.top - parent.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.drawImage(image, 0, 0);\n\t\t\t\tcb(canvas.toDataURL(\"image/png\"));\n\t\t\t};\n\t\t\timage.src = uri;\n\t\t});\n\t},\n\tsaveWithWhiteBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"white\", cb);\n\t},\n\tsaveWithDarkBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"#303030\", cb);\n\t},\n\tsaveWithBG(doc, container, background, cb) {\n\t\treturn this.save(doc, container, background, cb);\n\t},\n\tsaveChartAsImage(container) {\n\t\tthis.saveWithWhiteBG(document, container, function(src) {\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\ta.setAttribute(\"href\", src);\n\t\t\ta.setAttribute(\"download\", \"Chart.png\");\n\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.addEventListener(\"click\", function(/* e */) {\n\t\t\t\ta.parentNode.removeChild(a);\n\t\t\t});\n\n\t\t\ta.click();\n\t\t});\n\t}\n};\n\nexport default SaveChartAsImage;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/SaveChartAsImage.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass TypeChooser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttype: this.props.type\n\t\t};\n\t\tthis.handleTypeChange = this.handleTypeChange.bind(this);\n\t}\n\thandleTypeChange(e) {\n\t\t// console.log(e.target.value);\n\t\tthis.setState({\n\t\t\ttype: e.target.value\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<label>Type: </label>\n\t\t\t\t<select name=\"type\" id=\"type\" onChange={this.handleTypeChange} value={this.state.type} >\n\t\t\t\t\t<option value=\"svg\">svg</option>\n\t\t\t\t\t<option value=\"hybrid\">canvas + svg</option>\n\t\t\t\t</select>\n\t\t\t\t{this.props.children(this.state.type)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTypeChooser.propTypes = {\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]),\n\tchildren: PropTypes.func.isRequired,\n};\n\nTypeChooser.defaultProps = {\n\ttype: \"hybrid\"\n};\n\nexport default TypeChooser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/TypeChooser.jsx","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { isDefined } from \"../utils\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nexport default function fitWidth(WrappedComponent, withRef = true) {\n\tclass ResponsiveComponent extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.handleWindowResize = this.handleWindowResize.bind(this);\n\t\t\tthis.getWrappedInstance = this.getWrappedInstance.bind(this);\n\t\t\tthis.saveNode = this.saveNode.bind(this);\n\t\t\tthis.setTestCanvas = this.setTestCanvas.bind(this);\n\t\t\tthis.state = {};\n\t\t}\n\t\tsaveNode(node) {\n\t\t\tthis.node = node;\n\t\t}\n\t\tsetTestCanvas(node) {\n\t\t\tthis.testCanvas = node;\n\t\t}\n\t\tgetRatio() {\n\t\t\tif (isDefined(this.testCanvas)) {\n\t\t\t\tvar context = this.testCanvas.getContext(\"2d\");\n\n\t\t\t\tvar devicePixelRatio = window.devicePixelRatio || 1;\n\t\t\t\tvar backingStoreRatio = context.webkitBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.mozBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.msBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.oBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\tcontext.backingStorePixelRatio || 1;\n\n\t\t\t\tvar ratio = devicePixelRatio / backingStoreRatio;\n\t\t\t\t// console.log(\"ratio = \", ratio);\n\t\t\t\treturn ratio;\n\t\t\t}\n\t\t\treturn 1;\n\t\t}\n\t\tcomponentDidMount() {\n\t\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\t\tvar el = this.node;\n\t\t\tvar w = el.parentNode.clientWidth;\n\n\t\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\t\tthis.setState({\n\t\t\t\twidth: w,\n\t\t\t\tratio: this.getRatio(),\n\t\t\t});\n\t\t\t/* eslint-enable react/no-did-mount-set-state */\n\t\t}\n\t\tcomponentWillUnmount() {\n\t\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t\t}\n\t\thandleWindowResize() {\n\t\t\tvar el = ReactDOM.findDOMNode(this.node); // eslint-disable-line react/no-find-dom-node\n\t\t\tvar w = el.parentNode.clientWidth;\n\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t}\n\t\tgetWrappedInstance() {\n\t\t\treturn this.node;\n\t\t}\n\t\trender() {\n\t\t\tvar ref = withRef ? { ref: this.saveNode } : {};\n\n\t\t\tif (this.state.width) {\n\t\t\t\treturn <WrappedComponent width={this.state.width} ratio={this.state.ratio} {...this.props} {...ref} />;\n\t\t\t} else {\n\t\t\t\treturn <div {...ref}>\n\t\t\t\t\t<canvas ref={this.setTestCanvas}  />\n\t\t\t\t</div>;\n\t\t\t}\n\t\t}\n\t}\n\n\tResponsiveComponent.displayName = `fitWidth(${ getDisplayName(WrappedComponent) })`;\n\n\treturn ResponsiveComponent;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/fitWidth.jsx","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/bollingerBands.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\nimport { last, slidingWindow, zipper, path } from \"../../utils\";\n\nimport { BollingerBand as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, multiplier, movingAverageType, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tvar source = path(sourcePath);\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).sourcePath(sourcePath)\n\t\t\t: slidingWindow().windowSize(windowSize)\n\t\t\t\t.accumulator(values => d3.mean(values)).sourcePath(sourcePath);\n\n\t\tvar bollingerBandAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\t\t\t\tvar avg = last(values).mean;\n\t\t\t\tvar stdDev = d3.deviation(values, (each) => source(each.datum));\n\t\t\t\treturn {\n\t\t\t\t\ttop: avg + multiplier * stdDev,\n\t\t\t\t\tmiddle: avg,\n\t\t\t\t\tbottom: avg - multiplier * stdDev\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => ({ datum, mean }));\n\n\t\tvar tuples = zip(data, meanAlgorithm(data));\n\t\treturn bollingerBandAlgorithm(tuples);\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.multiplier = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn multiplier;\n\t\t}\n\t\tmultiplier = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/bollingerband.js","\"use strict\";\n\nimport { slidingWindow } from \"../../utils\";\n\nexport default function() {\n\n\tvar sourcePath = \"close\";\n\tfunction calculator(data) {\n\n\t\tvar algo = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(([prev, curr]) => {\n\t\t\t\tvar absoluteChange = curr - prev;\n\t\t\t\tvar percentChange = absoluteChange * 100 / prev;\n\t\t\t\treturn { absoluteChange, percentChange };\n\t\t\t});\n\n\t\tvar newData = algo(data);\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn 1;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/change.js","\"use strict\";\n\nimport { first } from \"../../utils\";\n\nexport default function() {\n\tvar base = d => d.close;\n\tvar mainKeys = [];\n\tvar compareKeys = [];\n\n\tfunction calculator(data) {\n\t\tvar f = first(data);\n\t\tvar b = base(f);\n\t\tvar compareData = data.map(d => {\n\t\t\tvar result = {};\n\n\t\t\tmainKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - b) / b;\n\t\t\t});\n\n\t\t\tcompareKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - f[key]) / f[key];\n\t\t\t});\n\t\t\treturn result;\n\t\t});\n\t\t// console.log(compareData[20]);\n\t\treturn compareData;\n\t}\n\tcalculator.base = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn base;\n\t\t}\n\t\tbase = x;\n\t\treturn calculator;\n\t};\n\tcalculator.mainKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mainKeys;\n\t\t}\n\t\tmainKeys = x;\n\t\treturn calculator;\n\t};\n\tcalculator.compareKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn compareKeys;\n\t\t}\n\t\tcompareKeys = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/compare.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/elderRay.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\n\nimport { ElderRay as defaultOptions } from \"../defaultOptionsForComputation\";\nimport { isDefined, zipper, slidingWindow } from \"../../utils\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath, movingAverageType } = defaultOptions;\n\tvar ohlc = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction calculator(data) {\n\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).sourcePath(sourcePath)\n\t\t\t: slidingWindow().windowSize(windowSize).accumulator(values => d3.mean(values)).sourcePath(sourcePath);\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => {\n\t\t\t\tvar bullPower = isDefined(mean) ? ohlc(datum).high - mean : undefined;\n\t\t\t\tvar bearPower = isDefined(mean) ? ohlc(datum).low - mean : undefined;\n\t\t\t\treturn { bullPower, bearPower };\n\t\t\t});\n\n\t\tvar newData = zip(data, meanAlgorithm(data));\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.ohlc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn ohlc;\n\t\t}\n\t\tohlc = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/elderRay.js","\"use strict\";\n\nimport { slidingWindow, path } from \"../../utils\";\nimport { ForceIndex as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { sourcePath } = defaultOptions;\n\tvar volumePath = \"volume\";\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar volume = path(volumePath);\n\n\t\tvar forceIndexCalulator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.accumulator(([prev, curr]) => (source(curr) - source(prev)) * volume(curr));\n\n\t\tvar forceIndex = forceIndexCalulator(data);\n\n\t\treturn forceIndex;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn 2;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.volumePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn volumePath;\n\t\t}\n\t\tvolumePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/forceIndex.js","\"use strict\";\n\nimport { mappedSlidingWindow, identity } from \"../../utils\";\n\nexport default function() {\n\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\t\tvar algorithm = mappedSlidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(({ open, high, low, close }) => {\n\t\t\t\tclose = (open + high + low + close) / 4;\n\t\t\t\treturn { open, high, low, close };\n\t\t\t})\n\t\t\t.accumulator(([prev, now]) => {\n\t\t\t\t// console.log(prev, now);\n\t\t\t\tvar close = (now.open + now.high + now.low + now.close) / 4;\n\t\t\t\tvar open = (prev.open + prev.close) / 2;\n\t\t\t\tvar high = Math.max(open, now.high, close);\n\t\t\t\tvar low = Math.min(open, now.low, close);\n\t\t\t\treturn { open, high, low, close };\n\t\t\t});\n\n\t\treturn algorithm(data);\n\t}\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/heikinAshi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, isNotDefined, path } from \"../../utils\";\nimport atr from \"./atr\";\n\nimport { Kagi as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { reversalType, windowSize, reversal, sourcePath } = defaultOptions;\n\tvar dateAccessor = d => d.date;\n\tvar dateMutator = (d, date) => { d.date = date; };\n\n\tfunction calculator(data) {\n\t\tvar source = path(sourcePath);\n\t\tvar reversalThreshold;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(data);\n\t\t\treversalThreshold = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\treversalThreshold = d3.functor(reversal);\n\t\t}\n\n\t\tvar kagiData = [];\n\n\t\tvar prevPeak, prevTrough, direction;\n\t\tvar line = {};\n\n\t\tdata.forEach(function(d) {\n\t\t\tif (isNotDefined(line.from)) {\n\t\t\t\tdateMutator(line, dateAccessor(d));\n\t\t\t\tline.from = dateAccessor(d);\n\n\t\t\t\tif (!line.open) line.open = d.open;\n\t\t\t\tline.high = d.high;\n\t\t\t\tline.low = d.low;\n\t\t\t\tif (!line.close) line.close = source(d);\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t}\n\n\t\t\tif (!line.startOfYear) {\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tif (line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfQuarter) {\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (line.startOfQuarter && !line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfMonth) {\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tif (line.startOfMonth && !line.startOfQuarter) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!line.startOfWeek) {\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t\tif (line.startOfWeek && !line.startOfMonth) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tline.volume = (line.volume || 0) + d.volume;\n\t\t\tline.high = Math.max(line.high, d.high);\n\t\t\tline.low = Math.min(line.low, d.low);\n\t\t\tline.to = dateAccessor(d);\n\n\t\t\tvar priceMovement = (source(d) - line.close);\n\n\t\t\t// console.log(source(d), priceMovement)\n\t\t\tif ((line.close > line.open /* going up */ && priceMovement > 0 /* and moving in same direction */)\n\t\t\t\t\t|| (line.close < line.open /* going down */ && priceMovement < 0 /* and moving in same direction */)) {\n\t\t\t\tline.close = source(d);\n\t\t\t\tif (prevTrough && line.close < prevTrough) {\n\t\t\t\t\t// going below the prevTrough, so change from yang to yin\n\t\t\t\t\t// A yin line forms when a Kagi line breaks below the prior trough.\n\t\t\t\t\tline.changePoint = prevTrough;\n\t\t\t\t\tif (line.startAs !== \"yin\") {\n\t\t\t\t\t\tline.changeTo = \"yin\";\n\t\t\t\t\t\t// line.startAs = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (prevPeak && line.close > prevPeak) {\n\t\t\t\t\t// going above the prevPeak, so change from yin to yang\n\t\t\t\t\t// A yang line forms when a Kagi line breaks above the prior peak\n\t\t\t\t\tline.changePoint = prevPeak;\n\t\t\t\t\tif (line.startAs !== \"yang\") {\n\t\t\t\t\t\tline.changeTo = \"yang\";\n\t\t\t\t\t\t// line.startAs = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ((line.close > line.open /* going up */\n\t\t\t\t\t\t\t&& priceMovement < 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)\n\t\t\t\t\t|| (line.close < line.open /* going down */\n\t\t\t\t\t\t\t&& priceMovement > 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)) {\n\t\t\t\t// reverse direction\n\t\t\t\tvar nextLineOpen = line.close;\n\n\t\t\t\tdirection = (line.close - line.open) / Math.abs(line.close - line.open);\n\n\t\t\t\tvar nextChangePoint, nextChangeTo;\n\t\t\t\tif (direction < 0 /* if direction so far has been -ve*/) {\n\t\t\t\t\t// compare with line.close becomes prevTrough\n\t\t\t\t\tif (isNotDefined(prevPeak)) prevPeak = line.open;\n\t\t\t\t\tprevTrough = line.close;\n\t\t\t\t\tif (source(d) > prevPeak) {\n\t\t\t\t\t\tnextChangePoint = prevPeak;\n\t\t\t\t\t\tnextChangeTo = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isNotDefined(prevTrough)) prevTrough = line.open;\n\t\t\t\t\tprevPeak = line.close;\n\t\t\t\t\tif (source(d) < prevTrough) {\n\t\t\t\t\t\tnextChangePoint = prevTrough;\n\t\t\t\t\t\tnextChangeTo = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNotDefined(line.startAs)) {\n\t\t\t\t\tline.startAs = direction > 0 ? \"yang\" : \"yin\";\n\t\t\t\t}\n\n\t\t\t\tvar startAs = line.changeTo || line.startAs;\n\t\t\t\tline.added = true;\n\t\t\t\tkagiData.push(line);\n\t\t\t\tdirection = -1 * direction; // direction is reversed\n\n\t\t\t\tline = { ...line };\n\t\t\t\tline.open = nextLineOpen;\n\t\t\t\tline.close = source(d);\n\t\t\t\tline.startAs = startAs;\n\t\t\t\tline.changePoint = nextChangePoint;\n\t\t\t\tline.changeTo = nextChangeTo;\n\t\t\t\tline.added = false;\n\t\t\t\tline.from = undefined;\n\t\t\t\tline.volume = 0;\n\t\t\t} else {\n\t\t\t\t// console.log(\"MOVING IN REV DIR BUT..\", line.open, line.close, source(d));\n\t\t\t}\n\t\t\tline.current = source(d);\n\t\t\tvar dir = line.close - line.open;\n\t\t\tdir = dir / Math.abs(dir);\n\t\t\tline.reverseAt = dir > 0 ? line.close - reversalThreshold(d) : line.open - reversalThreshold(d);\n\t\t});\n\t\tif (!line.added) kagiData.push(line);\n\n\t\treturn kagiData;\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/kagi.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/macd.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport ema from \"./ema\";\n\nimport { isDefined, zipper } from \"../../utils\";\nimport { MACD as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { fast, slow, signal, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar fastEMA = ema()\n\t\t\t.windowSize(fast)\n\t\t\t.sourcePath(sourcePath);\n\t\tvar slowEMA = ema()\n\t\t\t.windowSize(slow)\n\t\t\t.sourcePath(sourcePath);\n\t\tvar signalEMA = ema()\n\t\t\t.windowSize(signal)\n\t\t\t.sourcePath(undefined);\n\n\t\tvar macdCalculator = zipper()\n\t\t\t.combine((fastEMA, slowEMA) => (isDefined(fastEMA) && isDefined(slowEMA)) ? fastEMA - slowEMA : undefined);\n\n\t\tvar macdArray = macdCalculator(fastEMA(data), slowEMA(data));\n\n\t\tvar undefinedArray = new Array(slow);\n\t\tvar signalArray = undefinedArray.concat(signalEMA(macdArray.slice(slow)));\n\n\t\tvar zip = zipper()\n\t\t\t.combine((macd, signal) => ({\n\t\t\t\tmacd,\n\t\t\t\tsignal,\n\t\t\t\tdivergence: (isDefined(macd) && isDefined(signal)) ? macd - signal : undefined,\n\t\t\t}));\n\n\t\tvar macd = zip(macdArray, signalArray);\n\n\t\treturn macd;\n\t}\n\n\tcalculator.undefinedLength = function() {\n\t\treturn slow + signal;\n\t};\n\tcalculator.fast = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn fast;\n\t\t}\n\t\tfast = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.slow = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn slow;\n\t\t}\n\t\tslow = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.signal = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn signal;\n\t\t}\n\t\tsignal = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\t/* calculator.options = function(options) {\n\t\tif (options) {\n\t\t\tvar { fast, slow, signal, source } = options;\n\t\t\tunderlyingAlgorithm\n\t\t\t\t.fast(fast)\n\t\t\t\t.slow(slow)\n\t\t\t\t.signal(signal)\n\t\t\t\t.source()\n\t\t}\n\t\treturn {\n\n\t\t}\n\t}; */\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/macd.js","\"use strict\";\n\nimport { isNotDefined } from \"../../utils\";\nimport { PointAndFigure as defaultOptions } from \"../defaultOptionsForComputation\";\n\nfunction createBox(d, dateAccessor, dateMutator) {\n\tvar box = {\n\t\topen: d.open,\n\t\tfromDate: dateAccessor(d),\n\t\ttoDate: dateAccessor(d),\n\t\tstartOfYear: d.startOfYear,\n\t\tstartOfQuarter: d.startOfQuarter,\n\t\tstartOfMonth: d.startOfMonth,\n\t\tstartOfWeek: d.startOfWeek\n\t};\n\tdateMutator(box, dateAccessor(d));\n\treturn box;\n}\n\nfunction updateColumns(columnData, dateAccessor, dateMutator) {\n\tcolumnData.forEach(function(d) {\n\t\t// var lastBox = d.boxes[d.boxes.length - 1];\n\n\t\td.startOfYear = false;\n\t\td.startOfQuarter = false;\n\t\td.startOfMonth = false;\n\t\td.startOfWeek = false;\n\n\t\td.boxes.forEach(function(eachBox) {\n\t\t\tif (isNotDefined(d.open)) d.open = eachBox.open;\n\t\t\td.close = eachBox.close;\n\t\t\td.high = Math.max(d.open, d.close);\n\t\t\td.low = Math.min(d.open, d.close);\n\n\t\t\tif (isNotDefined(d.fromDate)) d.fromDate = eachBox.fromDate;\n\t\t\tif (isNotDefined(d.date)) d.date = eachBox.date;\n\t\t\td.toDate = eachBox.toDate;\n\n\t\t\tif (eachBox.startOfYear) {\n\t\t\t\td.startOfYear = d.startOfYear || eachBox.startOfYear;\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfQuarter !== true && eachBox.startOfQuarter) {\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfMonth !== true && eachBox.startOfMonth) {\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfWeek !== true && eachBox.startOfWeek) {\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t});\n\n\t});\n\n\t// console.table(columnData);\n\t// console.table(rawData);\n\treturn columnData;\n}\n\n\nexport default function() {\n\tvar { reversal, boxSize, sourcePath } = defaultOptions;\n\tvar dateAccessor = d => d.date;\n\tvar dateMutator = (d, date) => { d.date = date; };\n\n\tfunction calculator(rawData) {\n\t\tvar source = sourcePath === \"high/low\"\n\t\t\t? d => ({ high: d.high, low: d.low })\n\t\t\t: d => ({ high: d.close, low: d.close });\n\n\t\tvar pricingMethod = source;\n\t\tvar columnData = [];\n\n\t\tvar column = {\n\t\t\t\tboxes: [],\n\t\t\t\topen: rawData[0].open\n\t\t\t}, box = createBox(rawData[0], dateAccessor, dateMutator);\n\n\t\tcolumnData.push(column);\n\n\t\trawData.forEach(function(d) {\n\t\t\tcolumn.volume = (column.volume || 0) + d.volume;\n\n\t\t\tif (!box.startOfYear) {\n\t\t\t\tbox.startOfYear = d.startOfYear;\n\t\t\t\tif (box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfYear && !box.startOfQuarter) {\n\t\t\t\tbox.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (box.startOfQuarter && !box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfQuarter && !box.startOfMonth) {\n\t\t\t\tbox.startOfMonth = d.startOfMonth;\n\t\t\t\tif (box.startOfMonth && !box.startOfQuarter) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!box.startOfMonth && !box.startOfWeek) {\n\t\t\t\tbox.startOfWeek = d.startOfWeek;\n\t\t\t\tif (box.startOfWeek && !box.startOfMonth) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (columnData.length === 1 && column.boxes.length === 0) {\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - column.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((column.open - pricingMethod(d).low), 0)); // downward movement\n\t\t\t\tcolumn.direction = upwardMovement > downwardMovement ? 1 : -1;\n\t\t\t\tif (boxSize * reversal < upwardMovement\n\t\t\t\t\t|| boxSize * reversal < downwardMovement) {\n\t\t\t\t\t// enough movement to trigger a reversal\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tbox.open = column.open;\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(box, dateAccessor, dateMutator);\n\t\t\t\t\t\t// box = cloneMe(box);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tbox.date = dateAccessor(d);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// one or more boxes already formed in the current column\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - box.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((pricingMethod(d).low - box.open), 0)); // downward movement\n\n\t\t\t\tif ((column.direction > 0 && upwardMovement > boxSize) /* rising column AND box can be formed */\n\t\t\t\t\t\t|| (column.direction < 0 && downwardMovement > boxSize) /* falling column AND box can be formed */ ) {\n\t\t\t\t\t// form another box\n\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t} else if ((column.direction > 0 && downwardMovement > boxSize * reversal) /* rising column and there is downward movement to trigger a reversal */\n\t\t\t\t\t\t|| (column.direction < 0 && upwardMovement > boxSize * reversal)/* falling column and there is downward movement to trigger a reversal */) {\n\t\t\t\t\t// reversal\n\n\t\t\t\t\tbox.open = box.open + -1 * column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.startOfYear = d.startOfYear;\n\t\t\t\t\t// box.startOfQuarter = d.startOfQuarter;\n\t\t\t\t\t// box.startOfMonth = d.startOfMonth;\n\t\t\t\t\t// box.startOfWeek = d.startOfWeek;\n\t\t\t\t\t// console.table(column.boxes);\n\t\t\t\t\t// var idx = index + 1;\n\t\t\t\t\tcolumn = {\n\t\t\t\t\t\tboxes: [],\n\t\t\t\t\t\tvolume: 0,\n\t\t\t\t\t\tdirection: -1 * column.direction\n\t\t\t\t\t};\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tvar prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolumnData.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tupdateColumns(columnData, dateAccessor, dateMutator);\n\n\t\treturn columnData;\n\t}\n\tcalculator.reversal = function(x) {\n\t\tif (!arguments.length) return reversal;\n\t\treversal = x;\n\t\treturn calculator;\n\t};\n\tcalculator.boxSize = function(x) {\n\t\tif (!arguments.length) return boxSize;\n\t\tboxSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) return sourcePath;\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/pointAndFigure.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge, isNotDefined } from \"../../utils\";\n\nimport atr from \"./atr\";\n\nimport { Renko as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { reversalType, fixedBrickSize, sourcePath, windowSize } = defaultOptions;\n\tvar dateAccessor = d => d.date;\n\tvar dateMutator = (d, date) => { d.date = date; };\n\n\tfunction calculator(rawData) {\n\t\tvar source = sourcePath === \"high/low\"\n\t\t\t? d => ({ high: d.high, low: d.low })\n\t\t\t: d => ({ high: d.close, low: d.close });\n\n\t\tvar pricingMethod = source, brickSize;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(rawData);\n\t\t\tbrickSize = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\tbrickSize = d3.functor(fixedBrickSize);\n\t\t}\n\n\t\tvar renkoData = [];\n\n\t\tvar index = 0, prevBrickClose = rawData[index].open, prevBrickOpen = rawData[index].open;\n\t\tvar brick = {}, direction = 0;\n\n\t\trawData.forEach(function(d, idx) {\n\t\t\tif (isNotDefined(brick.from)) {\n\t\t\t\tbrick.high = d.high;\n\t\t\t\tbrick.low = d.low;\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\n\t\t\t\tbrick.from = idx;\n\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t// indexMutator(brick, index++);\n\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t}\n\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\n\t\t\tvar prevCloseToHigh = (prevBrickClose - pricingMethod(d).high),\n\t\t\t\tprevCloseToLow = (prevBrickClose - pricingMethod(d).low),\n\t\t\t\tprevOpenToHigh = (prevBrickOpen - pricingMethod(d).high),\n\t\t\t\tprevOpenToLow = (prevBrickOpen - pricingMethod(d).low),\n\t\t\t\tpriceMovement = Math.min(\n\t\t\t\t\tMath.abs(prevCloseToHigh),\n\t\t\t\t\tMath.abs(prevCloseToLow),\n\t\t\t\t\tMath.abs(prevOpenToHigh),\n\t\t\t\t\tMath.abs(prevOpenToLow));\n\n\n\t\t\tbrick.high = Math.max(brick.high, d.high);\n\t\t\tbrick.low = Math.min(brick.low, d.low);\n\n\t\t\tif (!brick.startOfYear) {\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tif (brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfQuarter) {\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (brick.startOfQuarter && !brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfMonth) {\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tif (brick.startOfMonth && !brick.startOfQuarter) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!brick.startOfWeek) {\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\t\t\t\tif (brick.startOfWeek && !brick.startOfMonth) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// d.brick = JSON.stringify(brick);\n\t\t\tif (brickSize(d)) {\n\t\t\t\tvar noOfBricks = Math.floor(priceMovement / brickSize(d));\n\n\t\t\t\tbrick.open = (Math.abs(prevCloseToHigh) < Math.abs(prevOpenToHigh)\n\t\t\t\t\t|| Math.abs(prevCloseToLow) < Math.abs(prevOpenToLow))\n\t\t\t\t\t\t\t\t? prevBrickClose\n\t\t\t\t\t\t\t\t: prevBrickOpen;\n\n\t\t\t\tif (noOfBricks >= 1) {\n\t\t\t\t\tlet j = 0;\n\t\t\t\t\tfor (j = 0; j < noOfBricks; j++) {\n\t\t\t\t\t\tbrick.close = (brick.open < pricingMethod(d).high)\n\t\t\t\t\t\t\t\t\t\t// if brick open is less than current price it means it is green/hollow brick\n\t\t\t\t\t\t\t\t\t\t\t? brick.open + brickSize(d)\n\t\t\t\t\t\t\t\t\t\t\t: brick.open - brickSize(d);\n\t\t\t\t\t\tdirection = brick.close > brick.open ? 1 : -1;\n\t\t\t\t\t\tbrick.direction = direction;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\t// brick.diff = brick.open - brick.close;\n\t\t\t\t\t\t// brick.atr = d.atr;\n\t\t\t\t\t\tbrick.fullyFormed = true;\n\t\t\t\t\t\trenkoData.push(brick);\n\n\t\t\t\t\t\tprevBrickClose = brick.close;\n\t\t\t\t\t\tprevBrickOpen = brick.open;\n\n\t\t\t\t\t\tvar newBrick = {\n\t\t\t\t\t\t\thigh: brick.high,\n\t\t\t\t\t\t\tlow: brick.low,\n\t\t\t\t\t\t\topen: brick.close,\n\t\t\t\t\t\t\tstartOfYear: false,\n\t\t\t\t\t\t\tstartOfMonth: false,\n\t\t\t\t\t\t\tstartOfQuarter: false,\n\t\t\t\t\t\t\tstartOfWeek: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbrick = newBrick;\n\t\t\t\t\t\tbrick.from = idx;\n\t\t\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t\t\t// indexMutator(brick, index + j);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\t\t\t\t\t}\n\t\t\t\t\tindex = index + j - 1;\n\t\t\t\t\tbrick = {};\n\t\t\t\t} else {\n\t\t\t\t\tif (idx === rawData.length - 1) {\n\t\t\t\t\t\tbrick.close = direction > 0 ? pricingMethod(d).high : pricingMethod(d).low;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.fullyFormed = false;\n\t\t\t\t\t\trenkoData.push(brick);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\treturn renkoData;\n\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.fixedBrickSize = function(x) {\n\t\tif (!arguments.length) return fixedBrickSize;\n\t\tfixedBrickSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) return sourcePath;\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) return windowSize;\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/renko.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/relativeStrengthIndex.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { isDefined, last, slidingWindow, path } from \"../../utils\";\nimport { RSI as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar prevAvgGain, prevAvgLoss;\n\t\tvar rsiAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\n\t\t\t\tvar avgGain = isDefined(prevAvgGain)\n\t\t\t\t\t? (prevAvgGain * (windowSize - 1) + last(values).gain) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.gain);\n\n\t\t\t\tvar avgLoss = isDefined(prevAvgLoss)\n\t\t\t\t\t? (prevAvgLoss * (windowSize - 1) + last(values).loss) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.loss);\n\n\t\t\t\tvar relativeStrength = avgGain / avgLoss;\n\t\t\t\tvar rsi = 100 - (100 / (1 + relativeStrength));\n\n\t\t\t\tprevAvgGain = avgGain;\n\t\t\t\tprevAvgLoss = avgLoss;\n\n\t\t\t\treturn rsi;\n\t\t\t});\n\n\t\tvar gainsAndLossesCalculator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(() => [0, 0])\n\t\t\t.accumulator(tuple => {\n\t\t\t\tvar prev = tuple[0];\n\t\t\t\tvar now = tuple[1];\n\t\t\t\tvar change = source(now) - source(prev);\n\t\t\t\treturn {\n\t\t\t\t\tgain: Math.max(change, 0),\n\t\t\t\t\tloss: Math.abs(Math.min(change, 0)),\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar gainsAndLosses = gainsAndLossesCalculator(data);\n\n\t\tvar rsiData = rsiAlgorithm(gainsAndLosses);\n\n\t\treturn rsiData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/rsi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow } from \"../../utils\";\nimport { SMA as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar mean = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\treturn mean(data);\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/sma.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/stochasticOscillator.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { last, slidingWindow, zipper } from \"../../utils\";\nimport { FullStochasticOscillator as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, kWindowSize, dWindowSize } = defaultOptions;\n\n\tvar source = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\tvar high = d => source(d).high,\n\t\tlow = d => source(d).low,\n\t\tclose = d => source(d).close;\n\n\tfunction calculator(data) {\n\t\tvar kWindow = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\n\t\t\t\tvar highestHigh = d3.max(values, high);\n\t\t\t\tvar lowestLow = d3.min(values, low);\n\n\t\t\t\tvar currentClose = close(last(values));\n\t\t\t\tvar k = (currentClose - lowestLow) / (highestHigh - lowestLow) * 100;\n\n\t\t\t\treturn k;\n\t\t\t});\n\n\t\tvar kSmoothed = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1)\n\t\t\t.windowSize(kWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar dWindow = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1 + kWindowSize - 1)\n\t\t\t.windowSize(dWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar stoAlgorithm = zipper()\n\t\t\t.combine((K, D) => ({ K, D }));\n\n\t\tvar kData = kSmoothed(kWindow(data));\n\t\tvar dData = dWindow(kData);\n\n\t\tvar newData = stoAlgorithm(kData, dData);\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn Math.min(windowSize + kWindowSize, dWindowSize);\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.kWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn kWindowSize;\n\t\t}\n\t\tkWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn dWindowSize;\n\t\t}\n\t\tdWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/sto.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { atr } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { ATR as defaultOptions } from \"./defaultOptionsForComputation\";\n\nconst ALGORITHM_TYPE = \"ATR\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.atr);\n\n\tvar underlyingAlgorithm = atr()\n\t\t.windowSize(defaultOptions.period);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.atr = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/atr.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { BollingerBand as appearanceOptions } from \"./defaultOptionsForAppearance\";\nimport baseIndicator from \"./baseIndicator\";\nimport { bollingerband } from \"./algorithm\";\n\nconst ALGORITHM_TYPE = \"BollingerBand\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.bollingerBand)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.fill(appearanceOptions.fill);\n\n\tvar underlyingAlgorithm = bollingerband();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.bollingerBand = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\n\tbase.tooltipLabel(() => `BB (${underlyingAlgorithm.windowSize()}, ${underlyingAlgorithm.multiplier()}`\n\t\t+ `, ${underlyingAlgorithm.movingAverageType()}): `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/bollingerBand.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { change } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Change\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = change();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\n\t\t\tdatum.percentChange = indicator.percentChange;\n\t\t});\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/change.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { compare } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Compare\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.compare);\n\n\tvar underlyingAlgorithm = compare()\n\t\t.base(d => d.close)\n\t\t.mainKeys([\"open\", \"high\", \"low\", \"close\"]);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.compare = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"base\", \"mainKeys\", \"compareKeys\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/compare.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isDefined, isNotDefined, merge, slidingWindow } from \"../utils\";\n\nimport { ElderImpulse as appearanceOptions } from \"./defaultOptionsForAppearance\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderImpulse\";\n\nexport default function() {\n\n\tvar macdSource, emaSource;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t// .stroke(d => stroke[d.elderImpulse])\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.fill(undefined);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(2)\n\t\t.undefinedValue(\"neutral\")\n\t\t.accumulator(([prev, curr]) => {\n\t\t\tif (isNotDefined(macdSource)) throw new Error(`macdSource not defined for ${ALGORITHM_TYPE} calculator`);\n\t\t\tif (isNotDefined(emaSource)) throw new Error(`emaSource not defined for ${ALGORITHM_TYPE} calculator`);\n\n\t\t\tif (isDefined(macdSource(prev)) && isDefined(emaSource(prev))) {\n\t\t\t\tvar prevMACDDivergence = macdSource(prev).divergence;\n\t\t\t\tvar currMACDDivergence = macdSource(curr).divergence;\n\n\t\t\t\tvar prevEMA = emaSource(prev);\n\t\t\t\tvar currEMA = emaSource(curr);\n\n\t\t\t\tif (currMACDDivergence >= prevMACDDivergence\n\t\t\t\t\t&& currEMA >= prevEMA) return \"up\";\n\n\t\t\t\tif (currMACDDivergence <= prevMACDDivergence\n\t\t\t\t\t&& currEMA <= prevEMA) return \"down\";\n\t\t\t}\n\t\t\treturn \"neutral\";\n\t\t});\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderImpulse = indicator; });\n\n\tvar indicator = function(data) {\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.macdSource = function(x) {\n\t\tif (!arguments.length) return macdSource;\n\t\tmacdSource = x;\n\t\treturn indicator;\n\t};\n\tindicator.emaSource = function(x) {\n\t\tif (!arguments.length) return emaSource;\n\t\temaSource = x;\n\t\treturn indicator;\n\t};\n\td3.rebind(indicator, base, \"id\", \"echo\", \"type\", \"stroke\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/elderImpulse.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { elderRay } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderRay\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = elderRay();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderRay = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(`${ALGORITHM_TYPE}: `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/elderRay.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge } from \"../utils\";\n\nimport { ema } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"EMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ema);\n\n\tvar underlyingAlgorithm = ema();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.ema = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.windowSize();\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/ema.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { forceIndex } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ForceIndex\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.forceIndex);\n\n\tvar underlyingAlgorithm = forceIndex();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.forceIndex = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/forceIndex.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { heikinAshi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nimport { merge } from \"../utils\";\n\nconst ALGORITHM_TYPE = \"HeikinAshi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ha);\n\n\tvar underlyingAlgorithm = heikinAshi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\treturn { ...datum, ...indicator };\n\t\t});\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/heikinAshi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { kagi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Kagi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = kagi();\n\n\tvar indicator = underlyingAlgorithm;\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/kagi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { macd } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { MACD as appearanceOptions } from \"./defaultOptionsForAppearance\";\n\nconst ALGORITHM_TYPE = \"MACD\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.fill(appearanceOptions.fill)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.accessor(d => d.macd);\n\n\tvar underlyingAlgorithm = macd();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.macd = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\", \"fast\", \"slow\", \"signal\", \"undefinedLength\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/macd.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { pointAndFigure } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"PointAndFigure\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = pointAndFigure();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/pointAndFigure.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { renko } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Renko\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = renko();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\n\treturn indicator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/renko.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { rsi } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar overSold = 70,\n\t\tmiddle = 50,\n\t\toverBought = 30;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.rsi);\n\n\tvar underlyingAlgorithm = rsi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.rsi = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\", \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/rsi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { sma } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"SMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.sma);\n\n\tvar underlyingAlgorithm = sma();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sma = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.windowSize();\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"undefinedValue\", \"sourcePath\", \"skipInitial\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/sma.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { sto } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { FullStochasticOscillator as appearanceOptions } from \"./defaultOptionsForAppearance\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar overSold = 80,\n\t\toverBought = 20,\n\t\tmiddle = 50;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.accessor(d => d.sto);\n\n\tvar underlyingAlgorithm = sto();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sto = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}`\n\t\t\t+ `, ${underlyingAlgorithm.kWindowSize()}, ${underlyingAlgorithm.dWindowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"kWindowSize\", \"dWindowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/stochasticOscillator.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { isDefined, noop } from \"../utils\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Brush extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawBrush = this.handleDrawBrush.bind(this);\n\t\tthis.state = {};\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tx1: null, y1: null,\n\t\t\tx2: null, y2: null,\n\t\t\tstartItem: null,\n\t\t\tstartClick: null,\n\t\t\trect: null,\n\t\t});\n\t}\n\thandleDrawBrush() {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\txScale,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { enabled } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { startClick, startItem } = this.state;\n\n\t\tif (enabled && isDefined(startItem)) {\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar y1Value = yScale.invert(startClick[1]);\n\t\t\tvar y2Value = yScale.invert(mouseXY[1]);\n\n\t\t\tvar x1 = xScale(xAccessor(startItem));\n\t\t\tvar y1 = yScale(y1Value);\n\t\t\tvar x2 = xScale(xAccessor(currentItem));\n\t\t\tvar y2 = yScale(y2Value);\n\n\t\t\tvar height = Math.abs(y2 - y1);\n\t\t\tvar width = Math.abs(x2 - x1);\n\n\t\t\tthis.setState({\n\t\t\t\trect: {\n\t\t\t\t\tx: Math.min(x1, x2),\n\t\t\t\t\ty: Math.min(y1, y2),\n\t\t\t\t\theight,\n\t\t\t\t\twidth,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleStartAndEnd(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { displayXAccessor } = this.context;\n\t\tvar { enabled, onBrush } = this.props;\n\n\t\tif (enabled) {\n\t\t\tvar { x1, y1, startItem, startClick } = this.state;\n\t\t\tvar { yScale } = chartConfig;\n\t\t\tvar xValue = displayXAccessor(currentItem);\n\t\t\tvar yValue = yScale.invert(mouseXY[1]);\n\n\t\t\tif (isDefined(startItem)) {\n\t\t\t\t// brush complete\n\t\t\t\tonBrush({\n\t\t\t\t\tx1,\n\t\t\t\t\ty1,\n\t\t\t\t\tx2: displayXAccessor(currentItem),\n\t\t\t\t\ty2: yValue,\n\t\t\t\t\tstartItem,\n\t\t\t\t\tcurrentItem,\n\t\t\t\t\tstartClick,\n\t\t\t\t\tmouseXY,\n\t\t\t\t}, e);\n\t\t\t\tthis.terminate();\n\t\t\t} else {\n\t\t\t\t// brush start\n\t\t\t\tthis.setState({\n\t\t\t\t\tx1: xValue,\n\t\t\t\t\ty1: yValue,\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t\tstartItem: currentItem,\n\t\t\t\t\tstartClick: mouseXY,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tvar { rect } = this.state;\n\t\tvar { fill, stroke, opacity } = this.props;\n\t\tvar rectProps = { fill, stroke, opacity };\n\n\t\treturn <g>\n\t\t\t{ isDefined(rect) ? <rect {...rect} {...rectProps} /> : null }\n\t\t\t<GenericChartComponent ref=\"component\"\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tisHover={d3.functor(true)}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawBrush}\n\t\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nBrush.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonBrush: PropTypes.func.isRequired,\n\n\ttype: PropTypes.oneOf([\"1D\", \"2D\"]),\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tinteractiveState: PropTypes.object,\n};\nBrush.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n};\n\nBrush.defaultProps = {\n\ttype: \"2D\",\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tfill: \"#3h3h3h\",\n\tonBrush: noop,\n\tonStart: noop,\n};\n\nexport default Brush;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/Brush.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport { noop } from \"../utils\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass ClickCallback extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { displayXAccessor } = this.context;\n\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar yValue = yScale.invert(mouseXY[1]);\n\t\tvar xValue = displayXAccessor(currentItem);\n\t\tthis.props.onClick({\n\t\t\txy: [xValue, yValue],\n\t\t\tmouseXY,\n\t\t\tcurrentItem\n\t\t}, e);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={d3.functor(null)}\n\t\t\tisHover={d3.functor(true)}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t/>;\n\t}\n}\n\nClickCallback.drawOnCanvas = noop;\n\nClickCallback.propTypes = {\n\tonClick: PropTypes.func.isRequired,\n};\nClickCallback.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n};\n\nClickCallback.defaultProps = {\n\tonClick: (e) => { console.log(e); },\n};\n\nexport default ClickCallback;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/ClickCallback.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { isDefined, isNotDefined, head, last, noop } from \"../utils\";\n\nimport InteractiveLine from \"./InteractiveLine\";\nimport MouseLocationIndicator from \"./MouseLocationIndicator\";\n\nclass FibonacciRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawRetracement = this.handleDrawRetracement.bind(this);\n\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\n\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.state = this.props.init;\n\t}\n\tremoveLast() {\n\t\tvar { retracements } = this.state;\n\t\tif (isDefined(retracements) && retracements.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\tretracements: retracements.slice(0, retracements.length - 1),\n\t\t\t});\n\t\t}\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tcurrent: null,\n\t\t\toverride: null,\n\t\t});\n\t}\n\thandleStartAndEnd(xyValue) {\n\t\tvar { current, retracements } = this.state;\n\n\t\tif (isNotDefined(current) || isNotDefined(current.x1)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tx1: xyValue[0],\n\t\t\t\t\ty1: xyValue[1],\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tthis.props.onStart();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tretracements: retracements.concat({ ...current, x2: xyValue[0], y2: xyValue[1] }),\n\t\t\t\tcurrent: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onComplete();\n\t\t\t});\n\t\t}\n\t}\n\thandleDrawRetracement(xyValue) {\n\t\tvar { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.x1)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\t...current,\n\t\t\t\t\tx2: xyValue[0],\n\t\t\t\t\ty2: xyValue[1],\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDrag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\t\tvar dy = origXYValue.y1Value - newXYValue.y1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: newXYValue.x1Value,\n\t\t\t\ty1: retracements[index].y1 - dy,\n\t\t\t\tx2: newXYValue.x2Value,\n\t\t\t\ty2: retracements[index].y2 - dy,\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge1Drag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\n\t\tvar dx = origXYValue.x1Value - newXYValue.x1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1 - dx,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2,\n\t\t\t\ty2: retracements[index].y2,\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge2Drag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\n\t\tvar dx = origXYValue.x2Value - newXYValue.x2Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2 - dx,\n\t\t\t\ty2: retracements[index].y2,\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete() {\n\t\tvar { retracements, override } = this.state;\n\n\t\tif (isDefined(override)) {\n\t\t\tvar { index, ...rest } = override;\n\n\t\t\tvar newRetracements = retracements\n\t\t\t\t.map((each, idx) => idx === index\n\t\t\t\t\t? rest\n\t\t\t\t\t: each);\n\n\t\t\tthis.setState({\n\t\t\t\toverride: null,\n\t\t\t\tretracements: newRetracements\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { retracements, current, override } = this.state;\n\t\tvar { stroke, strokeWidth, opacity, fontFamily, fontSize, fontStroke, type } = this.props;\n\n\t\tvar lineType = type === \"EXTEND\" ? \"XLINE\" : \"LINE\";\n\n\t\tvar { enabled } = this.props;\n\n\t\tvar currentRetracement = null;\n\t\tif (isDefined(current) && isDefined(current.x2)) {\n\t\t\tvar lines = helper(current);\n\t\t\tvar dir = head(lines).y1 > last(lines).y1 ? 3 : -1.3;\n\n\t\t\tcurrentRetracement = lines.map((line, idx) => {\n\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\treturn <InteractiveLine key={idx}\n\t\t\t\t\ttype={lineType}\n\t\t\t\t\tx1Value={line.x1}\n\t\t\t\t\ty1Value={line.y}\n\t\t\t\t\tx2Value={line.x2}\n\t\t\t\t\ty2Value={line.y}\n\n\t\t\t\t\tchildProps={{ dir, text, fontFamily, fontSize, fontStroke }}\n\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}>\n\t\t\t\t\t{retracementText}\n\t\t\t\t</InteractiveLine>;\n\t\t\t});\n\t\t}\n\n\t\treturn <g>\n\t\t\t{retracements.map((each, idx) => {\n\t\t\t\tvar lines = helper(isDefined(override) && override.index === idx ? override : each);\n\n\t\t\t\tvar dir = head(lines).y1 > last(lines).y1 ? 3 : -1.3;\n\t\t\t\treturn lines.map((line, j) => {\n\t\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\t\treturn <InteractiveLine key={`${idx}-${j}`} withEdge\n\t\t\t\t\t\techo={{ index: idx, idx: j }} type={lineType}\n\t\t\t\t\t\tdefaultClassName=\"react-stockcharts-enable-interaction react-stockcharts-move-cursor\"\n\t\t\t\t\t\tx1Value={line.x1}\n\t\t\t\t\t\ty1Value={line.y}\n\t\t\t\t\t\tx2Value={line.x2}\n\t\t\t\t\t\ty2Value={line.y}\n\n\t\t\t\t\t\tchildProps={{ dir, text, fontFamily, fontSize, fontStroke }}\n\n\t\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}\n\t\t\t\t\t\tonEdge1Drag={this.handleEdge1Drag}\n\t\t\t\t\t\tonEdge2Drag={this.handleEdge2Drag}\n\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\tonDragComplete={this.handleDragComplete}>\n\t\t\t\t\t\t{retracementText}\n\t\t\t\t\t</InteractiveLine>;\n\t\t\t\t});\n\t\t\t})}\n\t\t\t{currentRetracement}\n\t\t\t<MouseLocationIndicator\n\t\t\t\tenabled={enabled}\n\t\t\t\tsnap={false}\n\t\t\t\tr={0}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawRetracement} />\n\t\t</g>;\n\t}\n}\n\n/* eslint-disable react/prop-types */\n\nfunction retracementText({ xScale, chartConfig }, props, modLine) {\n\tvar { text, dir, fontStroke, fontFamily, fontSize } = props.childProps;\n\tvar { x1, y1, x2 } = modLine;\n\treturn <text\n\t\tx={xScale(Math.min(x1, x2)) + 10}\n\t\ty={chartConfig.yScale(y1) + dir * 4}\n\t\tfontFamily={fontFamily}\n\t\tfontSize={fontSize}\n\t\tfill={fontStroke}>{text}</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction helper({ x1, y1, x2, y2 }) {\n\tvar dy = y2 - y1;\n\tvar retracements = [100, 61.8, 50, 38.2, 23.6, 0]\n\t\t.map(each => ({\n\t\t\tpercent: each,\n\t\t\tx1,\n\t\t\tx2,\n\t\t\ty: (y2 - (each / 100) * dy),\n\t\t}));\n\n\treturn retracements;\n}\n\nFibonacciRetracement.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.object,\n\tplotData: PropTypes.array,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tinteractive: PropTypes.object,\n\twidth: PropTypes.number,\n\tstrokeWidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontStroke: PropTypes.string,\n\tonStart: PropTypes.func,\n\tonComplete: PropTypes.func,\n\ttype: PropTypes.oneOf([\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\n\t\t\"BOUND\", // extends between the set bounds\n\t]).isRequired,\n\tmouseXY: PropTypes.array,\n\tcurrentItem: PropTypes.object,\n\tinteractiveState: PropTypes.object,\n\toverrideInteractive: PropTypes.func,\n\tchildProps: PropTypes.any,\n\tinit: PropTypes.object.isRequired,\n};\n\nFibonacciRetracement.defaultProps = {\n\tenabled: true,\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 0.4,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 10,\n\tfontStroke: \"#000000\",\n\ttype: \"EXTEND\",\n\tinit: { retracements: [] },\n\tonStart: noop,\n\tonComplete: noop,\n};\n\nexport default FibonacciRetracement;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/FibonacciRetracement.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { isDefined, isNotDefined, noop } from \"../utils\";\n\nimport { getValueFromOverride } from \"./utils\";\n\nimport InteractiveLine from \"./InteractiveLine\";\nimport MouseLocationIndicator from \"./MouseLocationIndicator\";\n\n\nclass TrendLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawLine = this.handleDrawLine.bind(this);\n\t\tthis.handleDragLine = this.handleDragLine.bind(this);\n\t\tthis.handleDragLineComplete = this.handleDragLineComplete.bind(this);\n\n\t\tthis.state = this.props.init;\n\t}\n\tremoveLast() {\n\t\tvar { trends } = this.state;\n\t\tif (isDefined(trends) && trends.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\ttrends: trends.slice(0, trends.length - 1),\n\t\t\t});\n\t\t}\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tcurrent: null,\n\t\t\toverride: null,\n\t\t});\n\t}\n\thandleDragLine(index, newXYValue) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\t...newXYValue\n\t\t\t}\n\t\t});\n\t}\n\thandleDragLineComplete() {\n\t\tvar { trends, override } = this.state;\n\t\tvar newTrends = trends\n\t\t\t.map((each, idx) => idx === override.index\n\t\t\t\t? {\n\t\t\t\t\tstart: [override.x1Value, override.y1Value],\n\t\t\t\t\tend: [override.x2Value, override.y2Value],\n\t\t\t\t}\n\t\t\t\t: each);\n\t\tthis.setState({\n\t\t\ttrends: newTrends,\n\t\t\toverride: null\n\t\t});\n\t}\n\thandleDrawLine(xyValue) {\n\t\tvar { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: current.start,\n\t\t\t\t\tend: xyValue,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleStartAndEnd(xyValue) {\n\t\tvar { current, trends } = this.state;\n\n\t\tif (isNotDefined(current) || isNotDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: xyValue,\n\t\t\t\t\tend: null,\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tthis.props.onStart();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttrends: trends.concat({ start: current.start, end: xyValue }),\n\t\t\t\tcurrent: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onComplete();\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { stroke, opacity, strokeWidth } = this.props;\n\t\tvar { enabled, snap, shouldDisableSnap, snapTo, type } = this.props;\n\t\tvar { currentPositionRadius, currentPositionStroke } = this.props;\n\t\tvar { currentPositionOpacity, currentPositionStrokeWidth } = this.props;\n\t\tvar { trends, current, override } = this.state;\n\n\t\tvar tempLine = isDefined(current) && isDefined(current.end)\n\t\t\t? <InteractiveLine type={type}\n\t\t\t\t\tx1Value={current.start[0]} y1Value={current.start[1]}\n\t\t\t\t\tx2Value={current.end[0]} y2Value={current.end[1]}\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity} />\n\t\t\t: null;\n\n\t\treturn <g>\n\t\t\t{trends.map((each, idx) =>\n\t\t\t\t<InteractiveLine key={idx} withEdge\n\t\t\t\t\techo={idx} type={type}\n\t\t\t\t\tdefaultClassName=\"react-stockcharts-enable-interaction react-stockcharts-move-cursor\"\n\t\t\t\t\tx1Value={getValueFromOverride(override, idx, \"x1Value\", each.start[0])}\n\t\t\t\t\ty1Value={getValueFromOverride(override, idx, \"y1Value\", each.start[1])}\n\t\t\t\t\tx2Value={getValueFromOverride(override, idx, \"x2Value\", each.end[0])}\n\t\t\t\t\ty2Value={getValueFromOverride(override, idx, \"y2Value\", each.end[1])}\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}\n\t\t\t\t\tonDrag={this.handleDragLine}\n\t\t\t\t\tonEdge1Drag={this.handleDragLine}\n\t\t\t\t\tonEdge2Drag={this.handleDragLine}\n\t\t\t\t\tonDragComplete={this.handleDragLineComplete}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t{tempLine}\n\t\t\t<MouseLocationIndicator\n\t\t\t\tenabled={enabled}\n\t\t\t\tsnap={snap}\n\t\t\t\tshouldDisableSnap={shouldDisableSnap}\n\t\t\t\tsnapTo={snapTo}\n\t\t\t\tr={currentPositionRadius}\n\t\t\t\tstroke={currentPositionStroke}\n\t\t\t\topacity={currentPositionOpacity}\n\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawLine} />\n\t\t</g>;\n\t}\n}\n\n\nTrendLine.propTypes = {\n\tsnap: PropTypes.bool.isRequired,\n\tshow: PropTypes.bool,\n\tenabled: PropTypes.bool.isRequired,\n\tsnapTo: PropTypes.func,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonComplete: PropTypes.func.isRequired,\n\tinteractive: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tcurrentPositionStroke: PropTypes.string,\n\tcurrentPositionStrokeWidth: PropTypes.number,\n\tcurrentPositionOpacity: PropTypes.number,\n\tcurrentPositionRadius: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]),\n\tendPointCircleFill: PropTypes.string,\n\tendPointCircleRadius: PropTypes.number,\n\tinit: PropTypes.object.isRequired,\n};\n\nTrendLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nTrendLine.defaultProps = {\n\tstroke: \"#000000\",\n\ttype: \"XLINE\",\n\topacity: 0.7,\n\tstrokeWidth: 2,\n\tonStart: noop,\n\tonComplete: noop,\n\tshouldDisableSnap: e => (e.button === 2 || e.shiftKey),\n\tcurrentPositionStroke: \"#000000\",\n\tcurrentPositionOpacity: 1,\n\tcurrentPositionStrokeWidth: 3,\n\tcurrentPositionRadius: 4,\n\tendPointCircleFill: \"#000000\",\n\tendPointCircleRadius: 5,\n\tinit: { trends: [] },\n};\n\nexport default TrendLine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/TrendLine.jsx","import { isDefined } from \"../utils\";\n\nexport function getValueFromOverride(override, index, key, defaultValue) {\n\tif (isDefined(override) && override.index === index)\n\t\treturn override[key];\n\treturn defaultValue;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/utils.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\nimport { head, last, slidingWindow, zipper, identity, isNotDefined } from \"../utils\";\n\nconst yearFormat = \"%Y\";\nconst quarterFormat = \"%b %Y\";\nconst monthFormat = \"%b\";\nconst weekFormat = \"%d %b\";\nconst dayFormat = \"%a %d\";\nconst hourFormat = \"%_I %p\";\nconst minuteFormat = \"%I:%M %p\";\nconst secondFormat = \"%I:%M:%S %p\";\n// const milliSecondFormat = d3.time.format(\"%L\");\n\nvar levelDefinition = [\n\n\t/* eslint-disable no-unused-vars */\n\t/* 17 */(d, date, i) => d.startOfYear && date.getFullYear() % 2 === 0 && yearFormat,\n\t/* 16 */(d, date, i) => d.startOfYear && yearFormat,\n\t/* 15 */(d, date, i) => d.startOfQuarter && quarterFormat,\n\t/* 14 */(d, date, i) => d.startOfMonth && monthFormat,\n\t/* 13 */(d, date, i) => d.startOfWeek && weekFormat,\n\t/* 12 */(d, date, i) => d.startOfDay && i % 2 === 0 && dayFormat,\n\t/* 11 */(d, date, i) => d.startOfDay && dayFormat,\n\t/* 10 */(d, date, i) => d.startOfHalfDay && hourFormat, // 12h\n\t/*  9 */(d, date, i) => d.startOfQuarterDay && hourFormat, // 6h\n\t/*  8 */(d, date, i) => d.startOfEighthOfADay && hourFormat, // 3h\n\t/*  7 */(d, date, i) => d.startOfHour && date.getHours() % 2 === 0 && hourFormat, // 2h -- REMOVE THIS\n\t/*  6 */(d, date, i) => d.startOfHour && hourFormat, // 1h\n\t/*  5 */(d, date, i) => d.startOf30Minutes && minuteFormat,\n\t/*  4 */(d, date, i) => d.startOf15Minutes && minuteFormat,\n\t/*  3 */(d, date, i) => d.startOf5Minutes && minuteFormat,\n\t/*  2 */(d, date, i) => d.startOfMinute && minuteFormat,\n\t/*  1 */(d, date, i) => d.startOf30Seconds && secondFormat,\n\t/*  0 */(d, date, i) => secondFormat,\n\t/* eslint-enable no-unused-vars */\n\n];\n\nfunction evaluateLevel(d, date, i) {\n\treturn levelDefinition\n\t\t.map((l, idx) => ({ level: levelDefinition.length - idx - 1, format: l(d, date, i) }))\n\t\t.find(l => !!l.format);\n}\n\nvar discontinuousIndexCalculator = slidingWindow()\n\t.windowSize(2)\n\t.undefinedValue((d, idx, di) => {\n\t\tvar i = di;\n\t\tvar row = {\n\t\t\tdate: d.getTime(),\n\t\t\tstartOf30Seconds: false,\n\t\t\tstartOfMinute: false,\n\t\t\tstartOf5Minutes: false,\n\t\t\tstartOf15Minutes: false,\n\t\t\tstartOf30Minutes: false,\n\t\t\tstartOfHour: false,\n\t\t\tstartOfEighthOfADay: false,\n\t\t\tstartOfQuarterDay: false,\n\t\t\tstartOfHalfDay: false,\n\t\t\tstartOfDay: true,\n\t\t\tstartOfWeek: false,\n\t\t\tstartOfMonth: false,\n\t\t\tstartOfQuarter: false,\n\t\t\tstartOfYear: false,\n\t\t};\n\t\tvar level = evaluateLevel(row, d, i);\n\t\treturn { ...row, index: i, ...level };\n\t});\n\nvar discontinuousIndexCalculatorLocalTime = discontinuousIndexCalculator\n\t.accumulator(([prevDate, nowDate], i, idx, di) => {\n\t\tvar startOf30Seconds = nowDate.getSeconds() % 30 === 0;\n\n\t\tvar startOfMinute = nowDate.getMinutes() !== prevDate.getMinutes();\n\t\tvar startOf5Minutes = startOfMinute && nowDate.getMinutes() % 5 <= prevDate.getMinutes() % 5;\n\t\tvar startOf15Minutes = startOfMinute && nowDate.getMinutes() % 15 <= prevDate.getMinutes() % 15;\n\t\tvar startOf30Minutes = startOfMinute && nowDate.getMinutes() % 30 <= prevDate.getMinutes() % 30;\n\n\t\tvar startOfHour = nowDate.getHours() !== prevDate.getHours();\n\n\t\tvar startOfEighthOfADay = startOfHour && nowDate.getHours() % 3 === 0;\n\t\tvar startOfQuarterDay = startOfHour && nowDate.getHours() % 6 === 0;\n\t\tvar startOfHalfDay = startOfHour && nowDate.getHours() % 12 === 0;\n\n\t\tvar startOfDay = nowDate.getDay() !== prevDate.getDay();\n\t\t// According to ISO calendar\n\t\t// Sunday = 0, Monday = 1, ... Saturday = 6\n\t\t// day of week of today < day of week of yesterday then today is start of week\n\t\tvar startOfWeek = nowDate.getDay() < prevDate.getDay();\n\t\t// month of today != month of yesterday then today is start of month\n\t\tvar startOfMonth = nowDate.getMonth() !== prevDate.getMonth();\n\t\t// if start of month and month % 3 === 0 then it is start of quarter\n\t\tvar startOfQuarter = startOfMonth && (nowDate.getMonth() % 3 <= prevDate.getMonth() % 3);\n\t\t// year of today != year of yesterday then today is start of year\n\t\tvar startOfYear = nowDate.getYear() !== prevDate.getYear();\n\n\t\tvar row = {\n\t\t\tdate: nowDate.getTime(),\n\t\t\tstartOf30Seconds,\n\t\t\tstartOfMinute,\n\t\t\tstartOf5Minutes,\n\t\t\tstartOf15Minutes,\n\t\t\tstartOf30Minutes,\n\t\t\tstartOfHour,\n\t\t\tstartOfEighthOfADay,\n\t\t\tstartOfQuarterDay,\n\t\t\tstartOfHalfDay,\n\t\t\tstartOfDay,\n\t\t\tstartOfWeek,\n\t\t\tstartOfMonth,\n\t\t\tstartOfQuarter,\n\t\t\tstartOfYear,\n\t\t};\n\t\tvar level = evaluateLevel(row, nowDate, i);\n\t\treturn { ...row, index: i + di, ...level };\n\t});\n\nfunction doStuff(realDateAccessor, inputDateAccessor, initialIndex) {\n\treturn function(data) {\n\t\tvar dateAccessor = realDateAccessor(inputDateAccessor);\n\t\tvar calculate = discontinuousIndexCalculatorLocalTime.source(dateAccessor).misc(initialIndex);\n\t\tvar index = calculate(data);\n\n\t\tvar map = d3.map();\n\t\tfor (var i = 0; i < data.length - 1; i++) {\n\n\t\t\tvar nextDate = dateAccessor(data[i + 1]);\n\t\t\tvar nowDate = dateAccessor(data[i]);\n\t\t\tvar diff = nextDate - nowDate;\n\n\t\t\tif (map.has(diff)) {\n\t\t\t\tvar count = parseInt(map.get(diff), 10) + 1;\n\t\t\t\tmap.set(diff, count);\n\t\t\t} else {\n\t\t\t\tmap.set(diff, 1);\n\t\t\t}\n\t\t}\n\n\t\tvar entries = map.entries().sort((a, b) => a.value < b.value);\n\n\t\t// For Renko/p&f\n\t\tvar interval = entries[0].value === 1\n\t\t\t? Math.round((dateAccessor(last(data)) - dateAccessor(head(data))) / data.length)\n\t\t\t: parseInt(entries[0].key, 10);\n\n\t\treturn { index, interval };\n\t};\n}\n\nexport function discontinuousTimeScaleProviderBuilder() {\n\tvar initialIndex = 0, realDateAccessor = identity;\n\tvar inputDateAccessor = d => d.date,\n\t\tindexAccessor = d => d.idx,\n\t\tindexMutator = (d, idx) => ({ ...d, idx }),\n\t\twithIndex, withInterval;\n\n\tvar discontinuousTimeScaleProvider = function(data) {\n\n\t\tvar index = withIndex;\n\t\tvar interval = withInterval;\n\t\tif (isNotDefined(index)) {\n\t\t\tconst response = doStuff(realDateAccessor, inputDateAccessor, initialIndex)(data);\n\t\t\tindex = response.index;\n\t\t\tinterval = response.interval;\n\t\t}\n\t\t// console.log(interval, entries[0].key);\n\n\t\tvar inputIndex = index.map(each => {\n\t\t\tvar { format } = each;\n\t\t\treturn {\n\t\t\t\t...each,\n\t\t\t\tdate: new Date(each.date),\n\t\t\t\tformat: d3.time.format(format),\n\t\t\t};\n\t\t});\n\n\t\tvar xScale = financeDiscontinuousScale(inputIndex, interval);\n\n\t\tvar mergedData = zipper()\n\t\t\t.combine(indexMutator);\n\n\t\tvar finalData = mergedData(data, inputIndex);\n\n\t\treturn {\n\t\t\tdata: finalData,\n\t\t\txScale,\n\t\t\txAccessor: d => d && indexAccessor(d).index,\n\t\t\tdisplayXAccessor: realDateAccessor(inputDateAccessor),\n\t\t};\n\t};\n\n\tdiscontinuousTimeScaleProvider.initialIndex = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn initialIndex;\n\t\t}\n\t\tinitialIndex = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.inputDateAccessor = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn inputDateAccessor;\n\t\t}\n\t\tinputDateAccessor = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexAccessor = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn indexAccessor;\n\t\t}\n\t\tindexAccessor = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexMutator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn indexMutator;\n\t\t}\n\t\tindexMutator = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.withIndex = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn withIndex;\n\t\t}\n\t\twithIndex = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.withInterval = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn withInterval;\n\t\t}\n\t\twithInterval = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.utc = function() {\n\t\trealDateAccessor = dateAccessor => d => {\n\t\t\tvar date = dateAccessor(d);\n\t\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\t\treturn new Date(date.getTime() + offsetInMillis);\n\t\t};\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexCalculator = function() {\n\t\treturn doStuff(realDateAccessor, inputDateAccessor, initialIndex);\n\t};\n\n\treturn discontinuousTimeScaleProvider;\n}\n\n\n\n/* discontinuousTimeScaleProvider.utc = function(data,\n\t\tdateAccessor,\n\t\tindexAccessor,\n\t\tindexMutator) {\n\tvar utcDateAccessor = d => {\n\t\tvar date = dateAccessor(d);\n\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\treturn new Date(date.getTime() + offsetInMillis);\n\t};\n\treturn discontinuousTimeScaleProvider(data, utcDateAccessor, indexAccessor, indexMutator);\n};*/\n\nexport default discontinuousTimeScaleProviderBuilder();\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/discontinuousTimeScaleProvider.js","\"use strict\";\n\nimport {\n\tfirst,\n\tlast,\n\tgetClosestItemIndexes,\n\tisDefined,\n\tisNotDefined,\n\tidentity,\n} from \"../utils\";\n\nfunction extentsWrapper(data, inputXAccessor, realXAccessor, useWholeData) {\n\tfunction domain(inputDomain, xAccessor, initialXScale, currentPlotData, currentDomain) {\n\t\tif (useWholeData) {\n\t\t\treturn { plotData: data, domain: inputDomain };\n\t\t}\n\n\t\tvar left = first(inputDomain);\n\t\tvar right = last(inputDomain);\n\n\t\tvar filteredData = getFilteredResponse(data, left, right, xAccessor);\n\n\t\tvar realInputDomain = realXAccessor === xAccessor ? inputDomain : [realXAccessor(first(filteredData)), realXAccessor(last(filteredData))];\n\n\t\tvar xScale = initialXScale.copy().domain(realInputDomain);\n\n\t\tvar width = Math.floor(xScale(realXAccessor(last(filteredData)))\n\t\t\t- xScale(realXAccessor(first(filteredData))));\n\n\t\tvar plotData, domain;\n\n\t\tvar chartWidth = xScale.range()[1] - xScale.range()[0];\n\n\t\tconsole.debug(`Trying to show ${filteredData.length} in ${width}px while the chart width is ${chartWidth}px`);\n\n\t\tif (canShowTheseManyPeriods(width, filteredData.length)) {\n\t\t\tplotData = filteredData;\n\t\t\tdomain = realInputDomain;\n\t\t\tconsole.debug(\"AND IT WORKED\");\n\t\t} else {\n\t\t\tplotData = currentPlotData || filteredData.slice(filteredData.length - showMax(width));\n\t\t\tdomain = currentDomain || [realXAccessor(first(plotData)), realXAccessor(last(plotData))];\n\n\t\t\tvar newXScale = xScale.copy().domain(domain);\n\t\t\tvar newWidth = Math.floor(newXScale(realXAccessor(last(plotData)))\n\t\t\t\t- newXScale(realXAccessor(first(plotData))));\n\n\t\t\tconsole.debug(`and ouch, that is too much, so instead showing ${plotData.length} in ${newWidth}px`);\n\t\t}\n\n\t\treturn { plotData, domain };\n\t}\n\n\treturn domain;\n}\n\nfunction canShowTheseManyPeriods(width, arrayLength) {\n\tvar threshold = 1; // number of datapoints per 1 px\n\treturn arrayLength < width * threshold && arrayLength > 1;\n}\n\nfunction showMax(width) {\n\tvar threshold = 0.99; // number of datapoints per 1 px\n\treturn Math.floor(width * threshold);\n}\n\nfunction getFilteredResponse(data, left, right, xAccessor) {\n\tvar newLeftIndex = getClosestItemIndexes(data, left, xAccessor).right;\n\tvar newRightIndex = getClosestItemIndexes(data, right, xAccessor).left;\n\n\tvar filteredData = data.slice(newLeftIndex, newRightIndex + 1);\n\t// console.log(right, newRightIndex, dataForInterval.length);\n\n\treturn filteredData;\n}\n\nfunction compose(funcs) {\n\tif (funcs.length === 0) {\n\t\treturn identity;\n\t}\n\n\tif (funcs.length === 1) {\n\t\treturn funcs[0];\n\t}\n\n\tvar [head, ...tail] = funcs;\n\n\treturn args => tail.reduce((composed, f) => f(composed), head(args));\n}\n\nexport default function() {\n\n\tvar xAccessor, useWholeData, width, xScale,\n\t\tmap, calculator = [], scaleProvider,\n\t\tindexAccessor, indexMutator;\n\n\tfunction evaluate(data) {\n\n\t\tif (process.env.NODE_ENV !== \"production\") console.time(\"evaluation\");\n\t\tvar mappedData = data.map(map);\n\n\t\tvar composedCalculator = compose(calculator);\n\n\t\tvar calculatedData = composedCalculator(mappedData);\n\t\tif (process.env.NODE_ENV !== \"production\") console.timeEnd(\"evaluation\");\n\n\n\t\tif (isDefined(scaleProvider)) {\n\t\t\tvar scaleProvider2 = scaleProvider\n\t\t\t\t.inputDateAccessor(xAccessor)\n\t\t\t\t.indexAccessor(indexAccessor)\n\t\t\t\t.indexMutator(indexMutator);\n\t\t\tvar {\n\t\t\t\tdata: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor\n\t\t\t} = scaleProvider2(calculatedData);\n\n\t\t\treturn {\n\t\t\t\tfilterData: extentsWrapper(finalData, xAccessor, realXAccessor, useWholeData || isNotDefined(modifiedXScale.invert)),\n\t\t\t\tfullData: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor,\n\t\t\t\tlastItem: last(finalData),\n\t\t\t\tfirstItem: first(finalData),\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tfilterData: extentsWrapper(calculatedData, xAccessor, xAccessor, useWholeData || isNotDefined(xScale.invert)),\n\t\t\tfullData: calculatedData,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor: xAccessor,\n\t\t\tlastItem: last(calculatedData),\n\t\t\tfirstItem: first(calculatedData),\n\t\t};\n\t}\n\tevaluate.xAccessor = function(x) {\n\t\tif (!arguments.length) return xAccessor;\n\t\txAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.map = function(x) {\n\t\tif (!arguments.length) return map;\n\t\tmap = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexAccessor = function(x) {\n\t\tif (!arguments.length) return indexAccessor;\n\t\tindexAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexMutator = function(x) {\n\t\tif (!arguments.length) return indexMutator;\n\t\tindexMutator = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.scaleProvider = function(x) {\n\t\tif (!arguments.length) return scaleProvider;\n\t\tscaleProvider = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.xScale = function(x) {\n\t\tif (!arguments.length) return xScale;\n\t\txScale = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.useWholeData = function(x) {\n\t\tif (!arguments.length) return useWholeData;\n\t\tuseWholeData = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.width = function(x) {\n\t\tif (!arguments.length) return width;\n\t\twidth = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.calculator = function(x) {\n\t\tif (!arguments.length) return calculator;\n\t\tcalculator = x;\n\t\treturn evaluate;\n\t};\n\n\treturn evaluate;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/evaluator.js","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport AreaOnlySeries from \"./AreaOnlySeries\";\n\nfunction AreaSeries(props) {\n\tvar { yAccessor, baseAt } = props;\n\tvar { className, opacity, stroke, strokeWidth, fill } = props;\n\n\treturn (\n\t\t<g className={className}>\n\t\t\t<LineSeries\n\t\t\t\tyAccessor={yAccessor}\n\t\t\t\tstroke={stroke} fill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\thoverHighlight={false} />\n\t\t\t<AreaOnlySeries\n\t\t\t\tyAccessor={yAccessor}\n\t\t\t\tbase={baseAt}\n\t\t\t\tstroke=\"none\" fill={fill}\n\t\t\t\topacity={opacity} />\n\t\t</g>\n\t);\n}\n\nAreaSeries.propTypes = {\n\tstroke: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tbaseAt: PropTypes.func,\n};\n\nAreaSeries.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-area\"\n};\n\nexport default AreaSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/AreaSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport AreaOnlySeries from \"./AreaOnlySeries\";\n\nclass BollingerSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForTop = this.yAccessorForTop.bind(this);\n\t\tthis.yAccessorForMiddle = this.yAccessorForMiddle.bind(this);\n\t\tthis.yAccessorForBottom = this.yAccessorForBottom.bind(this);\n\t\tthis.yAccessorForScalledBottom = this.yAccessorForScalledBottom.bind(this);\n\t}\n\tyAccessorForTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).top;\n\t}\n\tyAccessorForMiddle(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).middle;\n\t}\n\tyAccessorForBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).bottom;\n\t}\n\tyAccessorForScalledBottom(scale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn scale(yAccessor(d) && yAccessor(d).bottom);\n\t}\n\trender() {\n\t\tvar { calculator, areaClassName, className, opacity } = this.props;\n\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForTop}\n\t\t\t\t\tstroke={stroke.top} fill=\"none\" />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForMiddle}\n\t\t\t\t\tstroke={stroke.middle} fill=\"none\" />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForBottom}\n\t\t\t\t\tstroke={stroke.bottom} fill=\"none\" />\n\t\t\t\t<AreaOnlySeries className={areaClassName}\n\t\t\t\t\tyAccessor={this.yAccessorForTop}\n\t\t\t\t\tbase={this.yAccessorForScalledBottom}\n\t\t\t\t\tstroke=\"none\" fill={fill}\n\t\t\t\t\topacity={opacity} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nBollingerSeries.propTypes = {\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tclassName: PropTypes.string,\n\tareaClassName: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.string,\n};\n\nBollingerSeries.defaultProps = {\n\tclassName: \"react-stockcharts-bollinger-band-series\",\n\tareaClassName: \"react-stockcharts-bollinger-band-series-area\",\n\topacity: 0.2\n};\n\nexport default BollingerSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/BollingerSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { first, last, hexToRGBA, isDefined } from \"../utils\";\n\nclass CandlestickSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas(ctx, this.props, this.context, moreProps);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, wickClassName, candleClassName } = this.props;\n\n\t\treturn <g className={className}>\n\t\t\t<g className={wickClassName} key=\"wicks\">\n\t\t\t\t{getWicksSVG(this.props, this.context, moreProps)}\n\t\t\t</g>\n\t\t\t<g className={candleClassName} key=\"candles\">\n\t\t\t\t{getCandlesSVG(this.props, this.context, moreProps)}\n\t\t\t</g>\n\t\t</g>;\n\t}\n\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nCandlestickSeries.propTypes = {\n\tclassName: PropTypes.string,\n\twickClassName: PropTypes.string,\n\tcandleClassName: PropTypes.string,\n\twidthRatio: PropTypes.number.isRequired,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\twickStroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nCandlestickSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nCandlestickSeries.defaultProps = {\n\tclassName: \"react-stockcharts-candlestick\",\n\twickClassName: \"react-stockcharts-candlestick-wick\",\n\tcandleClassName: \"react-stockcharts-candlestick-candle\",\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => d.close > d.open ? \"up\" : \"down\",\n\twidthRatio: 0.8,\n\twickStroke: \"#000000\",\n\t// wickStroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tfill: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tstroke: \"#000000\",\n\tcandleStrokeWidth: 0.5,\n\t// stroke: \"none\",\n\topacity: 0.5,\n};\n\nfunction getWicksSVG(props, context, moreProps) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t/* eslint-enable react/prop-types */\n\n\tvar wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\tvar wicks = wickData\n\t\t.map((d, idx) => <path key={idx}\n\t\t\tclassName={d.className} stroke={d.stroke} style={{ shapeRendering: \"crispEdges\" }}\n\t\t\td={`M${d.x},${d.y1} L${d.x},${d.y2} M${d.x},${d.y3} L${d.x},${d.y4}`} />\n\t\t);\n\treturn wicks;\n}\n\nfunction getCandlesSVG(props, context, moreProps) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { opacity, candleStrokeWidth } = props;\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t/* eslint-enable react/prop-types */\n\n\tvar candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\tvar candles = candleData.map((d, idx) => {\n\t\tif (d.width < 0)\n\t\t\treturn (\n\t\t\t\t<line className={d.className} key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\telse if (d.height === 0)\n\t\t\treturn (\n\t\t\t\t<line key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\treturn (\n\t\t\t<rect key={idx} className={d.className}\n\t\t\t\tfillOpacity={opacity}\n\t\t\t\tx={d.x} y={d.y} width={d.width} height={d.height}\n\t\t\t\tfill={d.fill} stroke={d.stroke} strokeWidth={candleStrokeWidth} />\n\t\t);\n\t});\n\treturn candles;\n}\n\nfunction drawOnCanvas(ctx, props, context, moreProps) {\n\tvar { opacity, candleStrokeWidth } = props;\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\tvar wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(wickData);\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.x, d.y3);\n\t\t\tctx.lineTo(d.x, d.y4);\n\t\t\tctx.stroke();\n\t\t});\n\t});\n\n\tvar candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\n\tvar candleNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.key(d => d.fill)\n\t\t.entries(candleData);\n\n\tcandleNest.forEach(outer => {\n\t\tvar { key: strokeKey, values: strokeValues } = outer;\n\t\tif (strokeKey !== \"none\") {\n\t\t\tctx.strokeStyle = strokeKey;\n\t\t\tctx.lineWidth = candleStrokeWidth;\n\t\t}\n\t\tstrokeValues.forEach(inner => {\n\t\t\tvar { key, values } = inner;\n\t\t\tctx.fillStyle = hexToRGBA(key, opacity);\n\n\t\t\tvalues.forEach(d => {\n\t\t\t\tif (d.width < 0) {\n\t\t\t\t\t// <line className={d.className} key={idx} x1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}/>\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else if (d.height === 0) {\n\t\t\t\t\t// <line key={idx} x1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height} />\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x + d.width, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (strokeKey !== \"none\") ctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n\nfunction getWickData(props, xAccessor, xScale, yScale, plotData) {\n\n\tvar { classNames: classNameProp, wickStroke: wickStrokeProp, yAccessor } = props;\n\tvar wickStroke = d3.functor(wickStrokeProp);\n\tvar className = d3.functor(classNameProp);\n\tvar wickData = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\t// console.log(yAccessor);\n\t\t\t\tvar ohlc = yAccessor(d);\n\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\ty3 = yScale(Math.min(ohlc.open, ohlc.close)),\n\t\t\t\t\ty4 = yScale(ohlc.low);\n\n\t\t\t\treturn {\n\t\t\t\t\tx,\n\t\t\t\t\ty1,\n\t\t\t\t\ty2,\n\t\t\t\t\ty3,\n\t\t\t\t\ty4,\n\t\t\t\t\tclassName: className(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t};\n\t\t\t});\n\treturn wickData;\n}\n\nfunction getCandleData(props, xAccessor, xScale, yScale, plotData) {\n\tvar { classNames, fill: fillProp, stroke: strokeProp, widthRatio, yAccessor } = props;\n\tvar fill = d3.functor(fillProp);\n\tvar stroke = d3.functor(strokeProp);\n\t// console.log(plotData);\n\tvar width = xScale(xAccessor(last(plotData)))\n\t\t- xScale(xAccessor(first(plotData)));\n\tvar cw = (width / (plotData.length - 1) * widthRatio);\n\tvar candleWidth = Math.round(cw); // Math.floor(cw) % 2 === 0 ? Math.floor(cw) : Math.round(cw);\n\n\tvar offset = (candleWidth === 1 ? 0 : 0.5 * cw);\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d)) - offset),\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down;\n\t\t\t\treturn {\n\t\t\t\t\t// type: \"line\"\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: fill(ohlc),\n\t\t\t\t\tstroke: stroke(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default CandlestickSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/CandlestickSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\n\nfunction Circle(props) {\n\tvar { className, stroke, strokeWidth, opacity, fill, point, r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\treturn (\n\t\t<circle className={className}\n\t\t\tcx={point.x} cy={point.y}\n\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\tfillOpacity={opacity} fill={fill} r={radius} />\n\t);\n}\n\nCircle.propTypes = {\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tpoint: PropTypes.shape({\n\t\tx: PropTypes.number.isRequired,\n\t\ty: PropTypes.number.isRequired,\n\t\tdatum: PropTypes.object.isRequired,\n\t}).isRequired,\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tr: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]).isRequired\n};\n\nCircle.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-marker-circle\",\n};\n\nCircle.drawOnCanvas = (props, point, ctx) => {\n\n\tvar { stroke, fill, opacity, strokeWidth } = props;\n\n\tctx.strokeStyle = stroke;\n\tctx.lineWidth = strokeWidth;\n\n\tif (fill !== \"none\") {\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t}\n\n\tCircle.drawOnCanvasWithNoStateChange(props, point, ctx);\n};\n\n\nCircle.drawOnCanvasWithNoStateChange = (props, point, ctx) => {\n\n\tvar { r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\n\tctx.moveTo(point.x, point.y);\n\tctx.beginPath();\n\tctx.arc(point.x, point.y, radius, 0, 2 * Math.PI, false);\n\tctx.stroke();\n\tctx.fill();\n};\n\nexport default Circle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/CircleMarker.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport OverlayBarSeries from \"./OverlayBarSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass ElderRaySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorTop = this.yAccessorTop.bind(this);\n\t\tthis.yAccessorBullTop = this.yAccessorBullTop.bind(this);\n\t\tthis.yAccessorBearTop = this.yAccessorBearTop.bind(this);\n\t\tthis.yAccessorBullBottom = this.yAccessorBullBottom.bind(this);\n\t\tthis.yAccessorBearBottom = this.yAccessorBearBottom.bind(this);\n\t\tthis.yAccessorForBarBase = this.yAccessorForBarBase.bind(this);\n\t}\n\tyAccessorTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n\t}\n\tyAccessorBullTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n\t}\n\tyAccessorBearTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n\t}\n\tyAccessorBullBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n\t}\n\tyAccessorBearBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0\n\t\t\t\t|| yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n\t\t\t? Math.min(0, yAccessor(d).bullPower) : undefined);\n\t}\n\tyAccessorForBarBase(xScale, yScale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n\t\treturn yScale(y);\n\t}\n\tfillForEachBar(d, yAccessorNumber) {\n\t\treturn yAccessorNumber % 2 === 0 ? \"#6BA583\" : \"#FF0000\";\n\t}\n\trender() {\n\t\tvar { className, xScale, yScale, plotData, opacity } = this.props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<OverlayBarSeries\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\tbaseAt={this.yAccessorForBarBase}\n\t\t\t\t\tclassName=\"elderray-bar\"\n\t\t\t\t\tstroke={false} fill={this.fillForEachBar}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tyAccessor={[this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]} />\n\t\t\t\t<StraightLine yValue={0} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nElderRaySeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nElderRaySeries.defaultProps = {\n\tclassName: \"react-stockcharts-elderray-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 1,\n\tdivergenceStroke: false,\n};\n\nexport default ElderRaySeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/ElderRaySeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\nclass GroupedBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor,\n\t\tidentity, postProcessor);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\t// return <g>{svgHelper(this.props, moreProps, xAccessor, identity)}</g>;\n\n\t\treturn <g className=\"react-stockcharts-grouped-bar-series\">\n\t\t\t{svgHelper(this.props, moreProps, xAccessor, identity, postProcessor)}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nGroupedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nGroupedBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nGroupedBarSeries.defaultProps = {\n\t...StackedBarSeries.defaultProps,\n\twidthRatio: 0.8,\n\tspaceBetweenBar: 5,\n};\n\nfunction postProcessor(array) {\n\treturn array.map(each => {\n\t\treturn {\n\t\t\t...each,\n\t\t\tx: each.x + each.offset - each.groupOffset,\n\t\t\twidth: each.groupWidth,\n\t\t};\n\t});\n}\n\nexport default GroupedBarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/GroupedBarSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass KagiSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvas(ctx, this.props, moreProps, xAccessor);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { className, stroke, fill, strokeWidth } = this.props;\n\n\t\tvar paths = helper(plotData, xAccessor).map((each, i) => {\n\t\t\tvar dataSeries = d3.svg.line()\n\t\t\t\t.x((item) => xScale(item[0]))\n\t\t\t\t.y((item) => yScale(item[1]))\n\t\t\t\t.interpolate(\"step-before\");\n\t\t\treturn (<path key={i} d={dataSeries(each.plot)} className={each.type}\n\t\t\t\tstroke={stroke[each.type]} fill={fill[each.type]} strokeWidth={strokeWidth} />);\n\t\t});\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{paths}\n\t\t\t</g>\n\t\t);\n\t}\n}\nKagiSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.object,\n\tfill: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nKagiSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nKagiSeries.defaultProps = {\n\tclassName: \"react-stockcharts-kagi\",\n\tstrokeWidth: 2,\n\tstroke: {\n\t\tyang: \"#6BA583\",\n\t\tyin: \"#E60000\"\n\t},\n\tfill: {\n\t\tyang: \"none\",\n\t\tyin: \"none\"\n\t},\n\tcurrentValueStroke: \"#000000\",\n};\n\nfunction drawOnCanvas(ctx, props, moreProps, xAccessor) {\n\tvar { stroke, strokeWidth, currentValueStroke } = props;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar paths = helper(plotData, xAccessor);\n\n\tvar begin = true;\n\n\tpaths.forEach((each) => {\n\t\tctx.strokeStyle = stroke[each.type];\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tvar prevX;\n\t\teach.plot.forEach(d => {\n\t\t\tvar [x, y] = [xScale(d[0]), yScale(d[1])];\n\t\t\tif (begin) {\n\t\t\t\tctx.moveTo(x, y);\n\t\t\t\tbegin = false;\n\t\t\t} else {\n\t\t\t\tif (isDefined(prevX)) {\n\t\t\t\t\tctx.lineTo(prevX, y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t\tprevX = x;\n\t\t\t// console.log(d);\n\n\t\t});\n\t\tctx.stroke();\n\t});\n\tvar lastPlot = paths[paths.length - 1].plot;\n\tvar last = lastPlot[lastPlot.length - 1];\n\tctx.beginPath();\n\t// ctx.strokeStyle = \"black\";\n\tctx.lineWidth = 1;\n\n\tvar [x, y1, y2] = [xScale(last[0]), yScale(last[2]), yScale(last[3])];\n\t// console.log(last, x, y);\n\tctx.moveTo(x, y1);\n\tctx.lineTo(x + 10, y1);\n\tctx.stroke();\n\n\tctx.beginPath();\n\tctx.strokeStyle = currentValueStroke;\n\tctx.moveTo(x - 10, y2);\n\tctx.lineTo(x, y2);\n\tctx.stroke();\n}\n\nfunction helper(plotData, xAccessor) {\n\tvar kagiLine = [];\n\tvar kagi = {};\n\tvar d = plotData[0];\n\tvar idx = xAccessor(d);\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\td = plotData[i];\n\n\t\tif (isNotDefined(d.close)) continue;\n\t\tif (isNotDefined(kagi.type)) kagi.type = d.startAs;\n\t\tif (isNotDefined(kagi.plot)) kagi.plot = [];\n\n\t\tidx = xAccessor(d);\n\t\tkagi.plot.push([idx, d.open]);\n\n\t\tif (isDefined(d.changeTo)) {\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t\tkagi.added = true;\n\t\t\tkagiLine.push(kagi);\n\n\t\t\tkagi = {\n\t\t\t\ttype: d.changeTo,\n\t\t\t\tplot: [],\n\t\t\t\tadded: false,\n\t\t\t};\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t}\n\t}\n\n\tif (!kagi.added) {\n\t\tkagi.plot.push([idx, d.close, d.current, d.reverseAt]);\n\t\tkagiLine.push(kagi);\n\t}\n\n\t// console.log(d.reverseAt);\n\n\treturn kagiLine;\n}\n\nexport default KagiSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/KagiSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport BarSeries from \"./BarSeries\";\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass MACDSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForMACD = this.yAccessorForMACD.bind(this);\n\t\tthis.yAccessorForSignal = this.yAccessorForSignal.bind(this);\n\t\tthis.yAccessorForDivergence = this.yAccessorForDivergence.bind(this);\n\t\tthis.yAccessorForDivergenceBase = this.yAccessorForDivergenceBase.bind(this);\n\t}\n\tyAccessorForMACD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).macd;\n\t}\n\tyAccessorForSignal(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).signal;\n\t}\n\tyAccessorForDivergence(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).divergence;\n\t}\n\tyAccessorForDivergenceBase(xScale, yScale/* , d */) {\n\t\treturn yScale(0);\n\t}\n\trender() {\n\t\tvar { className, type, opacity, divergenceStroke, calculator } = this.props;\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries\n\t\t\t\t\tyAccessor={this.yAccessorForMACD}\n\t\t\t\t\tstroke={stroke.macd} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<LineSeries\n\t\t\t\t\tyAccessor={this.yAccessorForSignal}\n\t\t\t\t\tstroke={stroke.signal} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<BarSeries\n\t\t\t\t\tbaseAt={this.yAccessorForDivergenceBase}\n\t\t\t\t\tclassName=\"macd-divergence\"\n\t\t\t\t\twidthRatio={0.5}\n\t\t\t\t\tstroke={divergenceStroke} fill={fill.divergence} opacity={opacity}\n\t\t\t\t\tyAccessor={this.yAccessorForDivergence} />\n\t\t\t\t{getHorizontalLine(this.props)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { zeroLineStroke, zeroLineOpacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={zeroLineStroke} opacity={zeroLineOpacity}\n\t\tyValue={0} />;\n}\n\nMACDSeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nMACDSeries.defaultProps = {\n\tclassName: \"react-stockcharts-macd-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 0.6,\n\tdivergenceStroke: false,\n};\n\nexport default MACDSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/MACDSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\n\nclass OHLCSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar barData = getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\t\tdrawOnCanvas(ctx, barData);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\n\t\tvar barData = getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tvar { strokeWidth, bars } = barData;\n\n\t\treturn <g className={className}>\n\t\t\t{bars.map((d, idx) => <path key={idx}\n\t\t\t\tclassName={d.className} stroke={d.stroke} strokeWidth={strokeWidth}\n\t\t\t\td={`M${d.openX1} ${d.openY} L${d.openX2} ${d.openY} M${d.x} ${d.y1} L${d.x} ${d.y2} M${d.closeX1} ${d.closeY} L${d.closeX2} ${d.closeY}`}/>)}\n\t\t</g>;\n\t}\n}\n\nOHLCSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n};\n\nOHLCSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nOHLCSeries.defaultProps = {\n\tclassName: \"react-stockcharts-ohlc\",\n\tyAccessor: (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"up\" : \"down\") : \"firstbar\",\n\tstroke: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"#6BA583\" : \"#FF0000\") : \"#000000\",\n\topacity: 1,\n};\n\nfunction drawOnCanvas(ctx, barData) {\n\n\tvar { strokeWidth, bars } = barData;\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(bars);\n\n\tctx.lineWidth = strokeWidth;\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.openX1, d.openY);\n\t\t\tctx.lineTo(d.openX2, d.openY);\n\n\t\t\tctx.moveTo(d.closeX1, d.closeY);\n\t\t\tctx.lineTo(d.closeX2, d.closeY);\n\n\t\t\tctx.stroke();\n\t\t});\n\t});\n}\n\nfunction getOHLCBars(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { classNames: classNamesProp, stroke: strokeProp } = props;\n\n\tvar strokeFunc = d3.functor(strokeProp);\n\tvar classNameFunc = d3.functor(classNamesProp);\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar barWidth = Math.max(1, Math.round(width / (plotData.length - 1) / 2) - 1.5);\n\tvar strokeWidth = Math.min(barWidth, 6);\n\n\tvar bars = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d),\n\t\t\t\t\tx = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(ohlc.low),\n\t\t\t\t\topenX1 = x - barWidth,\n\t\t\t\t\topenX2 = x + strokeWidth / 2,\n\t\t\t\t\topenY = yScale(ohlc.open),\n\t\t\t\t\tcloseX1 = x - strokeWidth / 2,\n\t\t\t\t\tcloseX2 = x + barWidth,\n\t\t\t\t\tcloseY = yScale(ohlc.close),\n\t\t\t\t\tclassName = classNameFunc(d),\n\t\t\t\t\tstroke = strokeFunc(d);\n\t\t\t\t// console.log(d);\n\t\t\t\treturn { x, y1, y2, openX1, openX2, openY, closeX1, closeX2, closeY, stroke, className };\n\t\t\t});\n\treturn { barWidth, strokeWidth, bars };\n}\n\nexport default OHLCSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/OHLCSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { drawOnCanvas2, getBarsSVG2 } from \"./StackedBarSeries\";\nimport { isDefined, isNotDefined, first, last } from \"../utils\";\n\nclass OverlayBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar bars = getBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tdrawOnCanvas2(this.props, ctx, bars);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar bars = getBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\t\treturn <g className=\"react-stockcharts-bar-series\">\n\t\t\t{getBarsSVG2(this.props, bars)}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nOverlayBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nOverlayBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nOverlayBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: false,\n\tfill: \"#4682B4\",\n\topacity: 1,\n\twidthRatio: 0.5,\n};\n\nfunction getBars(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { baseAt, className, fill, stroke, widthRatio } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\n\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * barWidth);\n\n\t// console.log(xScale.domain(), yScale.domain());\n\n\tvar bars = plotData\n\t\t\t.map(d => {\n\t\t\t\tvar innerBars = yAccessor.map((eachYAccessor, i) => {\n\t\t\t\t\tvar yValue = eachYAccessor(d);\n\t\t\t\t\tif (isNotDefined(yValue)) return undefined;\n\n\t\t\t\t\tvar xValue = xAccessor(d);\n\t\t\t\t\tvar x = Math.round(xScale(xValue)) - offset;\n\t\t\t\t\tvar y = yScale(yValue);\n\t\t\t\t\t// console.log(yValue, y, xValue, x)\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidth: barWidth,\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\t\t\tfill: getFill(d, i),\n\t\t\t\t\t\ti,\n\t\t\t\t\t};\n\t\t\t\t}).filter(yValue => isDefined(yValue));\n\n\t\t\t\tvar b = getBase(xScale, yScale, d);\n\t\t\t\tvar h;\n\t\t\t\tfor (var i = innerBars.length - 1; i >= 0; i--) {\n\t\t\t\t\th = b - innerBars[i].y;\n\t\t\t\t\tif (h < 0) {\n\t\t\t\t\t\tinnerBars[i].y = b;\n\t\t\t\t\t\th = -1 * h;\n\t\t\t\t\t}\n\t\t\t\t\tinnerBars[i].height = h;\n\t\t\t\t\tb = innerBars[i].y;\n\t\t\t\t}\n\t\t\t\treturn innerBars;\n\t\t\t});\n\n\treturn d3.merge(bars);\n}\n\nexport default OverlayBarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/OverlayBarSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass PointAndFigureSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar columns = getColumns(xScale, xAccessor, yScale, plotData);\n\n\t\tdrawOnCanvas(ctx, this.props, columns);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { stroke, fill, strokeWidth, className } = this.props;\n\n\t\tvar columns = getColumns(xScale, xAccessor, yScale, plotData);\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{columns.map((col, idx) => (\n\t\t\t\t\t<g key={idx} className={col.className} transform={`translate(${ col.offset[0] }, ${ col.offset[1] })`}>\n\t\t\t\t\t\t{col.boxes.map((box, i) => {\n\t\t\t\t\t\t\tif (col.direction > 0) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<g key={`${ idx }-${ i }`}>\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.open} x2={box.columnWidth} y2={box.close} />\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.close} x2={box.columnWidth} y2={box.open} />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ellipse key={`${ idx }-${ i }`}\n\t\t\t\t\t\t\t\t\tclassName=\"down\" strokeWidth={strokeWidth} stroke={stroke.down} fill={fill.down}\n\t\t\t\t\t\t\t\t\tcx={box.columnWidth / 2} cy={(box.open + box.close) / 2}\n\t\t\t\t\t\t\t\t\trx={box.columnWidth / 2} ry={box.boxHeight / 2} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</g>\n\t\t\t\t))}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nPointAndFigureSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstroke: PropTypes.object.isRequired,\n\tfill: PropTypes.object.isRequired,\n};\n\nPointAndFigureSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nPointAndFigureSeries.defaultProps = {\n\tclassName: \"react-stockcharts-point-and-figure\",\n\tstrokeWidth: 1,\n\tstroke: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#FF0000\"\n\t},\n\tfill: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n};\n\nfunction drawOnCanvas(ctx, props, columns) {\n\tvar { stroke, fill, strokeWidth } = props;\n\n\tctx.lineWidth = strokeWidth;\n\n\tcolumns.forEach(col => {\n\t\tlet [offsetX, offsetY] = col.offset;\n\t\tcol.boxes.forEach(box => {\n\t\t\tif (col.direction > 0) {\n\t\t\t\tctx.fillStyle = fill.up;\n\t\t\t\tctx.strokeStyle = stroke.up;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.open);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.close);\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.close);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.open);\n\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle = fill.down;\n\t\t\t\tctx.strokeStyle = stroke.down;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tlet [x, y] = [offsetX + box.columnWidth / 2, offsetY + box.open + box.boxHeight / 2];\n\t\t\t\tlet [rx, ry] = [box.columnWidth / 2, box.boxHeight / 2];\n\n\t\t\t\tctx.ellipse(x, y, rx, ry, 0, 0, 2 * Math.PI);\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t});\n\t});\n\n\tctx.stroke();\n}\n\nfunction getColumns(xScale, xAccessor, yScale, plotData) {\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar columnWidth = (width / (plotData.length - 1));\n\n\tvar anyBox, j = 0;\n\twhile (isNotDefined(anyBox)) {\n\t\tif (isDefined(plotData[j].close)) {\n\t\t\tanyBox = plotData[j].boxes[0];\n\t\t}\n\t\tj++;\n\t}\n\n\tvar boxHeight = Math.abs(yScale(anyBox.open) - yScale(anyBox.close));\n\n\tvar columns = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar boxes = d.boxes.map((box) => ({\n\t\t\t\t\tcolumnWidth: columnWidth,\n\t\t\t\t\tboxHeight: boxHeight,\n\t\t\t\t\topen: yScale(box.open),\n\t\t\t\t\tclose: yScale(box.close),\n\t\t\t\t}));\n\n\t\t\t\tvar xOffset = (xScale(xAccessor(d)) - (columnWidth / 2));\n\t\t\t\treturn {\n\t\t\t\t\tboxes: boxes,\n\t\t\t\t\tdirection: d.direction,\n\t\t\t\t\toffset: [xOffset, 0],\n\t\t\t\t};\n\t\t\t});\n\treturn columns;\n}\n\nexport default PointAndFigureSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/PointAndFigureSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass RSISeries extends Component {\n\trender() {\n\t\tvar { className, calculator, stroke, type } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar overSold = calculator.overSold();\n\t\tvar middle = calculator.middle();\n\t\tvar overBought = calculator.overBought();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries\n\t\t\t\t\tclassName={className}\n\t\t\t\t\tyAccessor={yAccessor}\n\t\t\t\t\tstroke={stroke.line} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{getHorizontalLine(this.props, overSold, stroke.top)}\n\t\t\t\t{getHorizontalLine(this.props, middle, stroke.middle)}\n\t\t\t\t{getHorizontalLine(this.props, overBought, stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props, yValue, stroke) {\n\t/* eslint-disable react/prop-types */\n\tlet { yAccessor } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3}\n\t\tyAccessor={yAccessor}\n\t\tyValue={yValue} />;\n}\n\nRSISeries.propTypes = {\n\tclassName: PropTypes.string,\n\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nRSISeries.defaultProps = {\n\tclassName: \"react-stockcharts-rsi-series\",\n\tstroke: {\n\t\tline: \"#000000\",\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default RSISeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/RSISeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\n\nclass RenkoSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { yAccessor } = this.props;\n\n\t\tvar candles = getRenko(this.props, plotData, xScale, xAccessor, yScale, yAccessor);\n\n\t\tdrawOnCanvas(ctx, candles);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { yAccessor } = this.props;\n\n\t\tvar candles = getRenko(this.props, plotData, xScale, xAccessor, yScale, yAccessor)\n\t\t\t.map((each, idx) => (<rect key={idx} className={each.className}\n\t\t\t\t\t\t\t\tfill={each.fill}\n\t\t\t\t\t\t\t\tx={each.x}\n\t\t\t\t\t\t\t\ty={each.y}\n\t\t\t\t\t\t\t\twidth={each.width}\n\t\t\t\t\t\t\t\theight={each.height} />));\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<g className=\"candle\">\n\t\t\t\t\t{candles}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nRenkoSeries.propTypes = {\n\tclassNames: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tstroke: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tfill: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tyAccessor: PropTypes.func.isRequired,\n};\nRenkoSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nRenkoSeries.defaultProps = {\n\tclassNames: {\n\t\tup: \"up\",\n\t\tdown: \"down\"\n\t},\n\tstroke: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n\tfill: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#E60000\",\n\t\tpartial: \"#4682B4\",\n\t},\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n};\n\nfunction drawOnCanvas(ctx, renko) {\n\trenko.forEach(d => {\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = d.stroke;\n\t\tctx.fillStyle = d.fill;\n\n\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\tctx.closePath();\n\t\tctx.fill();\n\t});\n}\n\nfunction getRenko(props, plotData, xScale, xAccessor, yScale, yAccessor) {\n\tvar { classNames, fill } = props;\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar candleWidth = (width / (plotData.length - 1));\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = xScale(xAccessor(d)) - 0.5 * candleWidth,\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down,\n\t\t\t\t\tsvgfill = (ohlc.open <= ohlc.close) ? fill.up : fill.down;\n\n\t\t\t\tif (!d.fullyFormed) {\n\t\t\t\t\tsvgfill = fill.partial;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: svgfill,\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default RenkoSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/RenkoSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { hexToRGBA } from \"../utils\";\n\nclass ScatterSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar points = helper(this.props, moreProps, xAccessor);\n\n\t\tdrawOnCanvas(ctx, this.props, points);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, markerProps } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar points = helper(this.props, moreProps, xAccessor);\n\n\t\treturn <g className={className}>\n\t\t\t{points.map((point, idx) => {\n\t\t\t\tvar { marker: Marker } = point;\n\t\t\t\treturn <Marker key={idx} {...markerProps} point={point} />;\n\t\t\t})}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nScatterSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tmarker: PropTypes.func,\n\tmarkerProvider: PropTypes.func,\n\tmarkerProps: PropTypes.object,\n};\n\nScatterSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\n\nScatterSeries.defaultProps = {\n\tclassName: \"react-stockcharts-scatter\",\n};\n\nfunction helper(props, moreProps, xAccessor) {\n\tvar { yAccessor, marker: Marker, markerProvider, markerProps } = props;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tif (!(markerProvider || Marker)) throw new Error(\"required prop, either marker or markerProvider missing\");\n\n\treturn plotData.map(d => {\n\n\t\tif (markerProvider) Marker = markerProvider(d);\n\n\t\tvar mProps = { ...Marker.defaultProps, ...markerProps };\n\n\t\tvar fill = d3.functor(mProps.fill);\n\t\tvar stroke = d3.functor(mProps.stroke);\n\n\t\treturn {\n\t\t\tx: xScale(xAccessor(d)),\n\t\t\ty: yScale(yAccessor(d)),\n\t\t\tfill: hexToRGBA(fill(d), mProps.opacity),\n\t\t\tstroke: stroke(d),\n\t\t\tdatum: d,\n\t\t\tmarker: Marker,\n\t\t};\n\t});\n}\n\nfunction drawOnCanvas(ctx, props, points) {\n\n\tvar { markerProps } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.key(d => d.stroke)\n\t\t.entries(points);\n\n\tnest.forEach(fillGroup => {\n\t\tvar { key: fillKey, values: fillValues } = fillGroup;\n\n\t\tif (fillKey !== \"none\") {\n\t\t\tctx.fillStyle = fillKey;\n\t\t}\n\n\t\tfillValues.forEach(strokeGroup => {\n\t\t\t// var { key: strokeKey, values: strokeValues } = strokeGroup;\n\t\t\tvar { values: strokeValues } = strokeGroup;\n\n\t\t\tstrokeValues.forEach(point => {\n\t\t\t\tvar { marker } = point;\n\t\t\t\tmarker.drawOnCanvas({ ...marker.defaultProps, ...markerProps, fill: fillKey }, point, ctx);\n\t\t\t});\n\t\t});\n\t});\n}\n\nexport default ScatterSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/ScatterSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass StochasticSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForD = this.yAccessorForD.bind(this);\n\t\tthis.yAccessorForK = this.yAccessorForK.bind(this);\n\t}\n\tyAccessorForD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).D;\n\t}\n\tyAccessorForK(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).K;\n\t}\n\trender() {\n\t\tvar { className, calculator, stroke, type } = this.props;\n\t\tvar seriesStroke = calculator.stroke();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForD}\n\t\t\t\t\tstroke={seriesStroke.D} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForK}\n\t\t\t\t\tstroke={seriesStroke.K} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{getHorizontalLine(this.props, calculator.overSold(), stroke.top)}\n\t\t\t\t{getHorizontalLine(this.props, calculator.middle(), stroke.middle)}\n\t\t\t\t{getHorizontalLine(this.props, calculator.overBought(), stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props, yValue, stroke) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { yAccessor } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3}\n\t\tyAccessor={yAccessor}\n\t\tyValue={yValue} />;\n}\n\nStochasticSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nStochasticSeries.defaultProps = {\n\tclassName: \"react-stockcharts-stochastic-series\",\n\tstroke: {\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default StochasticSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/StochasticSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { head, last, hexToRGBA, accumulatingWindow, identity } from \"../utils\";\n\nclass VolumeProfileSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor, width } = this.context;\n\t\tvar { rects, sessionBg } = helper(this.props, moreProps, xAccessor, width);\n\n\t\tdrawOnCanvas(ctx, this.props, rects, sessionBg);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, opacity } = this.props;\n\t\tvar { showSessionBackground, sessionBackGround, sessionBackGroundOpacity } = this.props;\n\n\t\tvar { xAccessor, width } = this.context;\n\t\tvar { rects, sessionBg } = helper(this.props, moreProps, xAccessor, width);\n\n\t\tvar sessionBgSvg = showSessionBackground\n\t\t\t? sessionBg.map((d, idx) => <rect key={idx} {...d} opacity={sessionBackGroundOpacity} fill={sessionBackGround} />)\n\t\t\t: null;\n\n\t\treturn <g className={className}>\n\t\t\t{sessionBgSvg}\n\t\t\t{rects.map((d, i) => <g key={i}>\n\t\t\t\t\t<rect x={d.x} y={d.y}\n\t\t\t\t\t\twidth={d.w1} height={d.height}\n\t\t\t\t\t\tfill={d.fill1} stroke={d.stroke1} fillOpacity={opacity} />\n\t\t\t\t\t<rect x={d.x + d.w1} y={d.y}\n\t\t\t\t\t\twidth={d.w2} height={d.height}\n\t\t\t\t\t\tfill={d.fill2} stroke={d.stroke2} fillOpacity={opacity} />\n\t\t\t\t</g>)}\n\t\t</g>;\n\t}\n}\n\nVolumeProfileSeries.propTypes = {\n\tclassName: PropTypes.string,\n\topacity: PropTypes.number,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tshowSessionBackground: PropTypes.bool,\n\tsessionBackGround: PropTypes.string,\n\tsessionBackGroundOpacity: PropTypes.number,\n};\n\nVolumeProfileSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nVolumeProfileSeries.defaultProps = {\n\topacity: 0.5,\n\tclassName: \"line \",\n\tbins: 20,\n\tmaxProfileWidthPercent: 50,\n\tsource: d => d.close,\n\tvolume: d => d.volume,\n\tabsoluteChange: d => d.absoluteChange,\n\tbySession: false,\n\t/* eslint-disable no-unused-vars */\n\tsessionStart: ({ d, i, plotData }) => d.idx.startOfMonth,\n\t/* eslint-enable no-unused-vars */\n\torient: \"left\",\n\tfill: ({ type }) => type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// fill: ({ type }) => { var c = type === \"up\" ? \"#6BA583\" : \"#FF0000\"; console.log(type, c); return c },\n\t// stroke: ({ type }) =>  type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: \"none\",\n\tstroke: \"#FFFFFF\",\n\tshowSessionBackground: false,\n\tsessionBackGround: \"#4682B4\",\n\tsessionBackGroundOpacity: 0.3,\n\tpartialStartOK: false,\n\tpartialEndOK: true,\n};\n\nfunction helper(props, moreProps, xAccessor, width) {\n\tvar { xScale: realXScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar { sessionStart, bySession, partialStartOK, partialEndOK } = props;\n\tvar { bins, maxProfileWidthPercent, source, volume, absoluteChange, orient, fill, stroke } = props;\n\n\tvar sessionBuilder = accumulatingWindow()\n\t\t\t.discardTillStart(!partialStartOK)\n\t\t\t.discardTillEnd(!partialEndOK)\n\t\t\t.accumulateTill((d, i) => {\n\t\t\t\treturn sessionStart({ d, i, plotData });\n\t\t\t})\n\t\t\t.accumulator(identity);\n\n\tvar dx = plotData.length > 1 ? realXScale(xAccessor(plotData[1])) - realXScale(xAccessor(head(plotData))) : 0;\n\n\tvar sessions = bySession ? sessionBuilder(plotData) : [plotData];\n\n\tvar allRects = sessions.map(session => {\n\n\t\tvar begin = bySession ? realXScale(xAccessor(head(session))) : 0;\n\t\tvar finish = bySession ? realXScale(xAccessor(last(session))) : width;\n\t\tvar sessionWidth = finish - begin + dx;\n\n\t\tvar histogram = d3.layout.histogram()\n\t\t\t\t.value(source)\n\t\t\t\t.bins(bins);\n\n\t\tvar rollup = d3.nest()\n\t\t\t\t.key(d => d.direction)\n\t\t\t\t.sortKeys(orient === \"right\" ? d3.descending : d3.ascending)\n\t\t\t\t.rollup(leaves => d3.sum(leaves, d => d.volume));\n\n\t\tvar values = histogram(session);\n\t\tvar volumeInBins = values\n\t\t\t\t.map(arr => arr.map(d => absoluteChange(d) > 0 ? { direction: \"up\", volume: volume(d) } : { direction: \"down\", volume: volume(d) }))\n\t\t\t\t.map(arr => rollup.entries(arr));\n\n\t\tvar volumeValues = volumeInBins\n\t\t\t\t.map(each => d3.sum(each.map(d => d.values)));\n\n\t\tvar base = xScale => head(xScale.range());\n\n\t\tvar [start, end] = orient === \"right\"\n\t\t\t\t? [begin, begin + sessionWidth * maxProfileWidthPercent / 100]\n\t\t\t\t: [finish, finish - sessionWidth * (100 - maxProfileWidthPercent) / 100];\n\n\t\tvar xScale = d3.scale.linear()\n\t\t\t\t.domain([0, d3.max(volumeValues)])\n\t\t\t\t.range([start, end]);\n\n\t\tvar totalVolumes = volumeInBins.map(volumes => {\n\n\t\t\tvar totalVolume = d3.sum(volumes, d => d.values);\n\t\t\tvar totalVolumeX = xScale(totalVolume);\n\t\t\tvar width = base(xScale) - totalVolumeX;\n\t\t\tvar x = width < 0 ? totalVolumeX + width : totalVolumeX;\n\n\t\t\tvar ws = volumes.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: d.key,\n\t\t\t\t\twidth: d.values * Math.abs(width) / totalVolume,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn { x, ws, totalVolumeX };\n\t\t});\n\n\t\tvar rects = d3.zip(values, totalVolumes)\n\t\t\t\t.map(([d, { x, ws }]) => {\n\t\t\t\t\tvar w1 = ws[0] || { type: \"up\", width: 0 };\n\t\t\t\t\tvar w2 = ws[1] || { type: \"down\", width: 0 };\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ty: yScale(d.x + d.dx),\n\t\t\t\t\t\theight: yScale(d.x - d.dx) - yScale(d.x),\n\t\t\t\t\t\tx,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\tw1: w1.width,\n\t\t\t\t\t\tw2: w2.width,\n\t\t\t\t\t\tstroke1: d3.functor(stroke)(w1),\n\t\t\t\t\t\tstroke2: d3.functor(stroke)(w2),\n\t\t\t\t\t\tfill1: d3.functor(fill)(w1),\n\t\t\t\t\t\tfill2: d3.functor(fill)(w2),\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\tvar sessionBg = {\n\t\t\tx: begin,\n\t\t\ty: last(rects).y,\n\t\t\theight: head(rects).y - last(rects).y + head(rects).height,\n\t\t\twidth: sessionWidth,\n\t\t};\n\n\t\treturn { rects, sessionBg };\n\t});\n\n\treturn {\n\t\trects: d3.merge(allRects.map(d => d.rects)),\n\t\tsessionBg: allRects.map(d => d.sessionBg),\n\t};\n}\n\n\nfunction drawOnCanvas(ctx, props, rects, sessionBg) {\n\tvar { opacity, sessionBackGround, sessionBackGroundOpacity, showSessionBackground } = props;\n\n\t// var { rects, sessionBg } = helper(props, xScale, yScale, plotData);\n\n\tif (showSessionBackground) {\n\t\tctx.fillStyle = hexToRGBA(sessionBackGround, sessionBackGroundOpacity);\n\n\t\tsessionBg.forEach(each => {\n\t\t\tvar { x, y, height, width } = each;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, width, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t});\n\t}\n\n\trects.forEach(each => {\n\t\tvar { x, y, height, w1, w2, stroke1, stroke2, fill1, fill2 } = each;\n\n\n\t\tif (w1 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill1, opacity);\n\t\t\tif (stroke1 !== \"none\") ctx.strokeStyle = stroke1;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, w1, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke1 !== \"none\") ctx.stroke();\n\t\t}\n\n\t\tif (w2 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill2, opacity);\n\t\t\tif (stroke2 !== \"none\") ctx.strokeStyle = stroke2;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x + w1, y, w2, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke2 !== \"none\") ctx.stroke();\n\t\t}\n\n\t});\n}\n\nexport default VolumeProfileSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/VolumeProfileSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, displayFormat, calculator } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\t\tvar accessor = calculator.accessor();\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar tooltipLabel = d3.functor(calculator.tooltipLabel());\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\n\t\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{`${ top }, ${ middle }, ${ bottom }`}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nBollingerBandTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforDataSeries: PropTypes.number,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n};\n\nexport default BollingerBandTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/BollingerBandTooltip.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\n\nimport { first, last, isNotDefined, hexToRGBA } from \"../utils\";\n\nclass HoverTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar pointer = helper(this.props, moreProps, this.context);\n\n\t\tif (isNotDefined(pointer)) return null;\n\t\tdrawOnCanvas(ctx, this.props, this.context, pointer);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar pointer = helper(this.props, moreProps, this.context);\n\n\t\tif (isNotDefined(pointer)) return null;\n\n\t\tvar { bgFill, bgOpacity, backgroundShapeSVG } = this.props;\n\t\tvar { height } = this.context;\n\n\t\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<rect x={centerX - drawWidth / 2} y={0} width={drawWidth} height={height} fill={bgFill} opacity={bgOpacity} />\n\t\t\t\t<g className=\"react-stockcharts-tooltip-content\" transform={`translate(${x}, ${y})`}>\n\t\t\t\t\t{backgroundShapeSVG(this.props)}\n\t\t\t\t\t{tooltipSVG(this.props, content)}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nHoverTooltip.propTypes = {\n\tbackgroundShapeSVG: PropTypes.func,\n\tbgwidth: PropTypes.number.isRequired,\n\tbgheight: PropTypes.number.isRequired,\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\ttooltipContent: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.func\n\t]).isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n};\n\nHoverTooltip.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tratio: PropTypes.number.isRequired,\n};\n\nHoverTooltip.defaultProps = {\n\tbgwidth: 150,\n\tbgheight: 50,\n\ttooltipSVG: tooltipSVG,\n\ttooltipCanvas: tooltipCanvas,\n\torigin: origin,\n\tfill: \"#D4E2FD\",\n\tbgFill: \"#D4E2FD\",\n\tbgOpacity: 0.5,\n\tstroke: \"#9B9BFF\",\n\tfontFill: \"#000000\",\n\topacity: 0.8,\n\tbackgroundShapeSVG: backgroundShapeSVG,\n\tbackgroundShapeCanvas: backgroundShapeCanvas,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n};\n\nconst PADDING = 5;\n\n\n/* eslint-disable react/prop-types */\nfunction backgroundShapeSVG({ bgheight, bgwidth, fill, stroke, opacity }) {\n\treturn <rect height={bgheight} width={bgwidth} fill={fill} opacity={opacity} stroke={stroke} />;\n}\n\nfunction tooltipSVG({ fontFamily, fontSize, fontFill }, content) {\n\tvar tspans = [];\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\ttspans.push(<tspan key={`L-${i}`} x={10} dy={fontSize} fill={y.stroke}>{y.label}</tspan>);\n\t\ttspans.push(<tspan key={`${i}`}>: </tspan>);\n\t\ttspans.push(<tspan key={`V-${i}`}>{y.value}</tspan>);\n\t}\n\treturn <text fontFamily={fontFamily} fontSize={fontSize} fill={fontFill}>\n\t\t<tspan x={10} y={15}>{content.x}</tspan>\n\t\t{tspans}\n\t</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction backgroundShapeCanvas({ bgheight, bgwidth, fill, stroke, opacity }, ctx) {\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.strokeStyle = stroke;\n\tctx.beginPath();\n\tctx.rect(0, 0, bgwidth, bgheight);\n\tctx.fill();\n\tctx.stroke();\n}\n\nfunction tooltipCanvas({ fontFamily, fontSize, fontFill }, content, ctx) {\n\tctx.font = `${fontSize}px ${fontFamily}`;\n\tctx.fillStyle = fontFill;\n\tctx.textAlign = \"left\";\n\n\tconst X = 10;\n\tconst Y = 15;\n\tctx.fillText(content.x, X, Y);\n\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\tlet textY = Y + (fontSize * (i + 1));\n\t\tctx.fillStyle = y.stroke || fontFill;\n\t\tctx.fillText(y.label, X, textY);\n\n\t\tctx.fillStyle = fontFill;\n\t\tctx.fillText(\": \" + y.value, X + ctx.measureText(y.label).width, textY);\n\t}\n}\n\nfunction origin(mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale) {\n\tvar y = last(mouseXY);\n\n\tvar snapX = xScale(xAccessor(currentItem));\n\tvar originX = (snapX - bgwidth - PADDING * 2 < 0) ? snapX + PADDING : snapX - bgwidth - PADDING;\n\t// originX = (x - width - PADDING * 2 < 0) ? x + PADDING : x - width - PADDING;\n\n\tvar originY = y - bgheight / 2;\n\treturn [originX, originY];\n}\n\nfunction drawOnCanvas(ctx, props, context, pointer) {\n\n\tvar { height, margin, ratio } = context;\n\tvar { bgFill, bgOpacity } = props;\n\tvar { backgroundShapeCanvas, tooltipCanvas } = props;\n\n\tvar originX = 0.5 * ratio + margin.left;\n\tvar originY = 0.5 * ratio + margin.top;\n\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.scale(ratio, ratio);\n\n\tctx.translate(originX, originY);\n\n\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\tctx.fillStyle = hexToRGBA(bgFill, bgOpacity);\n\tctx.beginPath();\n\tctx.rect(centerX - drawWidth / 2, 0, drawWidth, height);\n\tctx.fill();\n\n\tctx.translate(x, y);\n\tbackgroundShapeCanvas(props, ctx);\n\ttooltipCanvas(props, content, ctx);\n\n\tctx.restore();\n}\n\nfunction helper(props, moreProps, context) {\n\tvar { show, xScale, mouseXY, currentItem, plotData } = moreProps;\n\tvar { bgheight, bgwidth, origin, tooltipContent } = props;\n\tvar { xAccessor, displayXAccessor } = context;\n\n\tif (!show || isNotDefined(currentItem)) return;\n\n\tvar xValue = xAccessor(currentItem);\n\n\tif (!show || isNotDefined(xValue)) return;\n\n\tvar [x, y] = origin(mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale);\n\n\tvar content = tooltipContent({ currentItem, xAccessor: displayXAccessor });\n\tvar centerX = xScale(xValue);\n\tvar drawWidth = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData)))) / (plotData.length - 1);\n\n\treturn { x, y, content, centerX, drawWidth };\n}\n\nexport default HoverTooltip;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/HoverTooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass MACDTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\n\t\tvar macdValue = currentItem && yAccessor(currentItem);\n\n\t\tvar macd = (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || \"n/a\";\n\t\tvar signal = (macdValue && macdValue.signal && displayFormat(macdValue.signal)) || \"n/a\";\n\t\tvar divergence = (macdValue && macdValue.divergence && displayFormat(macdValue.divergence)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>MACD (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.slow()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>, </ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.fast()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().macd}>{macd}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Signal (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().signal}>{calculator.signal()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().signal}>{signal}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Divergence: </ToolTipTSpanLabel><tspan fill={calculator.fill().divergence}>{divergence}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nMACDTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMACDTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n};\n\nMACDTooltip.defaultProps = {\n\torigin: [0, 0],\n\tdisplayFormat: d3.format(\".2f\"),\n};\n\nexport default MACDTooltip;\n// export default MACDTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/MACDTooltip.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass SingleMAToolTip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick, forChart, options } = this.props;\n\t\tonClick({ chartId: forChart, ...options }, e);\n\t}\n\trender() {\n\t\tvar translate = \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\";\n\t\treturn (\n\t\t\t<g transform={translate}>\n\t\t\t\t<line x1={0} y1={2} x2={0} y2={28} stroke={this.props.color} strokeWidth=\"4px\"/>\n\t\t\t\t<ToolTipText x={5} y={11}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{this.props.displayName}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan x=\"5\" dy=\"15\">{this.props.value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t\t<rect x={0} y={0} width={55} height={30}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tfill=\"none\" stroke=\"none\" />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nSingleMAToolTip.propTypes = {\n\torigin: PropTypes.array.isRequired,\n\tcolor: PropTypes.string.isRequired,\n\tdisplayName: PropTypes.string.isRequired,\n\tvalue: PropTypes.string.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforChart: PropTypes.number.isRequired,\n\toptions: PropTypes.object.isRequired,\n};\n\nclass MovingAverageTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { height, chartId } = this.context;\n\t\tvar { chartConfig, currentItem } = moreProps;\n\n\t\tvar { className, onClick, width, fontFamily, fontSize, origin: originProp, calculators, displayFormat } = this.props;\n\n\t\tvar config = chartConfig;\n\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} className={className}>\n\t\t\t\t{calculators\n\t\t\t\t\t.map((each, idx) => {\n\t\t\t\t\t\tvar yValue = currentItem && each.accessor()(currentItem);\n\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\ttype: each.type(),\n\t\t\t\t\t\t\twindowSize: each.windowSize(),\n\t\t\t\t\t\t\tsourcePath: each.sourcePath(),\n\t\t\t\t\t\t\techo: each.echo()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar yDisplayValue = yValue ? displayFormat(yValue) : \"n/a\";\n\t\t\t\t\t\treturn <SingleMAToolTip\n\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\torigin={[width * idx, 0]}\n\t\t\t\t\t\t\tcolor={each.stroke()}\n\t\t\t\t\t\t\tdisplayName={each.tooltipLabel()}\n\t\t\t\t\t\t\tvalue={yDisplayValue}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tforChart={chartId} onClick={onClick}\n\t\t\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize} />;\n\t\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nMovingAverageTooltip.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\tchartId: PropTypes.number.isRequired,\n};\n\nMovingAverageTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\twidth: PropTypes.number,\n\tcalculators: PropTypes.array.isRequired,\n\tforDataSeries: PropTypes.arrayOf(PropTypes.number),\n};\n\nMovingAverageTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-moving-average-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n\twidth: 65,\n};\n\nexport default MovingAverageTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/MovingAverageTooltip.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass OHLCTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar { onClick, xDisplayFormat, fontFamily, fontSize, accessor, volumeFormat, ohlcFormat } = this.props;\n\n\t\tvar displayDate, open, high, low, close, volume;\n\n\t\tdisplayDate = open = height = low = close = volume = \"n/a\";\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))\n\t\t\t\t&& isDefined(accessor(currentItem).close)) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\tvolume = volumeFormat(item.volume);\n\n\t\t\tdisplayDate = xDisplayFormat(item.date);\n\t\t\topen = ohlcFormat(item.open);\n\t\t\thigh = ohlcFormat(item.high);\n\t\t\tlow = ohlcFormat(item.low);\n\t\t\tclose = ohlcFormat(item.close);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-toottip-hover ${className}`}\n\t\t\t\ttransform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label\" x={0} dy=\"5\">Date: </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan key=\"value\">{displayDate}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_O\"> O: </ToolTipTSpanLabel><tspan key=\"value_O\">{open}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_H\"> H: </ToolTipTSpanLabel><tspan key=\"value_H\">{high}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_L\"> L: </ToolTipTSpanLabel><tspan key=\"value_L\">{low}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_C\"> C: </ToolTipTSpanLabel><tspan key=\"value_C\">{close}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_Vol\"> Vol: </ToolTipTSpanLabel><tspan key=\"value_Vol\">{volume}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nOHLCTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nOHLCTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\taccessor: PropTypes.func.isRequired,\n\txDisplayFormat: PropTypes.func.isRequired,\n\tohlcFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tvolumeFormat: PropTypes.func,\n};\n\nOHLCTooltip.defaultProps = {\n\taccessor: (d) => { return { date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume }; },\n\txDisplayFormat: d3.time.format(\"%Y-%m-%d\"),\n\tvolumeFormat: d3.format(\".4s\"),\n\tohlcFormat: d3.format(\".2f\"),\n\torigin: [0, 0],\n};\n\nexport default OHLCTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/OHLCTooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass RSITooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\n\t\tvar rsi = isDefined(currentItem) && yAccessor(currentItem);\n\t\tvar value = (rsi && displayFormat(rsi)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{calculator.tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nRSITooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nRSITooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nRSITooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default RSITooltip;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/RSITooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\nimport { isDefined, identity, noop } from \"../utils\";\n\nclass SingleValueTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\n\t\tvar { onClick, fontFamily, fontSize, labelStroke, valueStroke } = this.props;\n\t\tvar { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\n\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\n\t\tvar yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelStroke}>{`${xLabel}: `}</ToolTipTSpanLabel> : null}\n\t\t\t\t\t{ xLabel ? <tspan fill={valueStroke}>{`${xDisplayValue} `}</tspan> : null}\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelStroke}>{`${yLabel}: `}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={valueStroke} >{yDisplayValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nSingleValueTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nSingleValueTooltip.propTypes = {\n\txDisplayFormat: PropTypes.func,\n\tyDisplayFormat: PropTypes.func.isRequired,\n\txLabel: PropTypes.string,\n\tyLabel: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n\tlabelStroke: PropTypes.string.isRequired,\n\tvalueStroke: PropTypes.string,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nSingleValueTooltip.defaultProps = {\n\torigin: [0, 0],\n\tlabelStroke: \"#4682B4\",\n\tvalueStroke: \"#000000\",\n\tyDisplayFormat: d3.format(\".2f\"),\n\txAccessor: noop,\n\tyAccessor: identity,\n};\n\nexport default SingleValueTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/SingleValueTooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass StochasticTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat, children } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar stroke = calculator.stroke();\n\t\tvar stochastic = currentItem && yAccessor(currentItem);\n\n\t\tvar K = (stochastic && stochastic.K && displayFormat(stochastic.K)) || \"n/a\";\n\t\tvar D = (stochastic && stochastic.D && displayFormat(stochastic.D)) || \"n/a\";\n\t\tvar label = children || \"Stochastic\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{`${ label } %K(`}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{`${ calculator.windowSize() }, ${ calculator.kWindowSize() }`}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{K}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> %D (</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{calculator.dWindowSize()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{D}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nStochasticTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nStochasticTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nStochasticTooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default StochasticTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/StochasticTooltip.jsx","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar accumulateTill = d3.functor(false),\n\t\taccumulator = noop,\n\t\tvalue = identity,\n\t\tdiscardTillStart = false,\n\t\tdiscardTillEnd = false;\n\n\tvar accumulatingWindow = function(data) {\n\t\tvar accumulatedWindow = discardTillStart ? undefined : [];\n\t\tvar response = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar i = 0;\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tvar d = data[i];\n\t\t\t// console.log(d, accumulateTill(d));\n\t\t\tif (accumulateTill(d, i)) {\n\t\t\t\tif (accumulatedWindow && accumulatedWindow.length > 0) response.push(accumulator(accumulatedWindow, i, accumulatorIdx++));\n\t\t\t\taccumulatedWindow = [value(d)];\n\t\t\t} else {\n\t\t\t\tif (accumulatedWindow) accumulatedWindow.push(value(d));\n\t\t\t}\n\t\t}\n\t\tif (!discardTillEnd) response.push(accumulator(accumulatedWindow, i, accumulatorIdx));\n\t\treturn response;\n\t};\n\n\taccumulatingWindow.accumulateTill = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulateTill;\n\t\t}\n\t\taccumulateTill = d3.functor(x);\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.value = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillStart = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillStart;\n\t\t}\n\t\tdiscardTillStart = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillEnd = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillEnd;\n\t\t}\n\t\tdiscardTillEnd = x;\n\t\treturn accumulatingWindow;\n\t};\n\treturn accumulatingWindow;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/accumulatingWindow.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsource = identity,\n\t\tskipInitial = 0;\n\n\tvar mappedSlidingWindow = function(data) {\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\tvar result = [];\n\t\tdata.forEach(function(d, i) {\n\t\t\t// console.log(d, i, windowData.length);\n\t\t\tvar mapped;\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\tmapped = undef(d, i);\n\t\t\t\tresult.push(mapped);\n\t\t\t\twindowData.push(mapped);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t}\n\t\t\twindowData.push(source(d, i));\n\t\t\tmapped = accumulator(windowData, i, accumulatorIdx++);\n\t\t\tresult.push(mapped);\n\t\t\twindowData.pop();\n\t\t\twindowData.push(mapped);\n\t\t\treturn;\n\t\t});\n\t\treturn result;\n\t};\n\n\tmappedSlidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\n\treturn mappedSlidingWindow;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/mappedSlidingWindow.js","/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/merge.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport identity from \"./identity\";\nimport zipper from \"./zipper\";\nimport noop from \"./noop\";\n\nimport { isNotDefined } from \"./index\";\n\n// applies an algorithm to an array, merging the result back into\n// the source array using the given merge function.\nexport default function() {\n\n\tvar algorithm = identity,\n\t\tskipUndefined = true,\n\t\tmerge = noop;\n\n\tfunction mergeCompute(data) {\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, indicator) => {\n\t\t\t\tvar result = (skipUndefined && isNotDefined(indicator))\n\t\t\t\t\t? datum\n\t\t\t\t\t: merge(datum, indicator);\n\t\t\t\treturn isNotDefined(result) ? datum : result;\n\t\t\t});\n\n\t\t// console.log(data);\n\t\treturn zip(data, algorithm(data));\n\t}\n\n\tmergeCompute.algorithm = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn algorithm;\n\t\t}\n\t\talgorithm = x;\n\t\treturn mergeCompute;\n\t};\n\n\tmergeCompute.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn merge;\n\t\t}\n\t\tmerge = x;\n\t\treturn mergeCompute;\n\t};\n\tmergeCompute.skipUndefined = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipUndefined;\n\t\t}\n\t\tskipUndefined = x;\n\t\treturn mergeCompute;\n\t};\n\n\treturn mergeCompute;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/merge.js","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport { path } from \"./index\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsourcePath,\n\t\tsource,\n\t\tskipInitial = 0,\n\t\tmisc;\n\n\tvar slidingWindow = function(data) {\n\t\tvar sourceFunction = source || path(sourcePath);\n\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = data.slice(skipInitial, size + skipInitial).map(sourceFunction);\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\treturn data.map(function(d, i) {\n\t\t\t// console.log(d, i);\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\treturn undef(sourceFunction(d), i, misc);\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t\twindowData.push(sourceFunction(d, i));\n\t\t\t}\n\t\t\treturn accumulator(windowData, i, accumulatorIdx++, misc);\n\t\t});\n\t};\n\n\tslidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.misc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn misc;\n\t\t}\n\t\tmisc = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn slidingWindow;\n\t};\n\n\treturn slidingWindow;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/slidingWindow.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = flattenDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.flattendeep/index.js\n// module id = 295\n// module chunks = 3","(function() {\n  var out$ = typeof exports != 'undefined' && exports || typeof define != 'undefined' && {} || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">';\n\n  function isElement(obj) {\n    return obj instanceof HTMLElement || obj instanceof SVGElement;\n  }\n\n  function requireDomNode(el) {\n    if (!isElement(el)) {\n      throw new Error('an HTMLElement or SVGElement is required; got ' + el);\n    }\n  }\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    requireDomNode(el);\n\n    var images = el.querySelectorAll('image'),\n        left = images.length,\n        checkDone = function() {\n          if (left === 0) {\n            callback();\n          }\n        };\n\n    checkDone();\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        href = href || image.getAttribute('href');\n        if (href) {\n          img.src = href;\n          img.onload = function() {\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0);\n            image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n            left--;\n            checkDone();\n          }\n          img.onerror = function() {\n            console.log(\"Could not load \"+href);\n            left--;\n            checkDone();\n          }\n        } else {\n          left--;\n          checkDone();\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, selectorRemap) {\n    var css = \"\";\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0; j < rules.length; j++) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var match, selectorText;\n\n            try {\n              selectorText = rule.selectorText;\n            } catch(err) {\n              console.warn('The following CSS rule has an invalid selector: \"' + rule + '\"', err);\n            }\n\n            try {\n              if (selectorText) {\n                match = el.querySelector(selectorText);\n              }\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + selectorText + '\"', err);\n            }\n\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              css += selector + \" { \" + rule.style.cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              css += rule.cssText + '\\n';\n            }\n          }\n        }\n      }\n    }\n    return css;\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox && el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    requireDomNode(el);\n\n    options = options || {};\n    options.scale = options.scale || 1;\n    options.responsive = options.responsive || false;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      if (!clone.getAttribute('xmlns')) {\n        clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      }\n      if (!clone.getAttribute('xmlns:xlink')) {\n        clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      }\n\n      if (options.responsive) {\n        clone.removeAttribute('width');\n        clone.removeAttribute('height');\n        clone.setAttribute('preserveAspectRatio', 'xMinYMin meet');\n      } else {\n        clone.setAttribute(\"width\", width * options.scale);\n        clone.setAttribute(\"height\", height * options.scale);\n      }\n\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      var fos = clone.querySelectorAll('foreignObject > *');\n      for (var i = 0; i < fos.length; i++) {\n        fos[i].setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/1999/xhtml\");\n      }\n\n      outer.appendChild(clone);\n\n      var css = styles(el, options.selectorRemap);\n      var s = document.createElement('style');\n      s.setAttribute('type', 'text/css');\n      s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n      var defs = document.createElement('defs');\n      defs.appendChild(s);\n      clone.insertBefore(defs, clone.firstChild);\n\n      var svg = doctype + outer.innerHTML;\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    requireDomNode(el);\n\n    out$.svgAsDataUri(el, options, function(uri) {\n      var image = new Image();\n      image.onload = function() {\n        var canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        if(options && options.backgroundColor){\n          context.fillStyle = options.backgroundColor;\n          context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        var a = document.createElement('a'), png;\n        try {\n          png = canvas.toDataURL('image/png');\n        } catch (e) {\n          if ((typeof SecurityError !== 'undefined' && e instanceof SecurityError) || e.name == \"SecurityError\") {\n            console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n            return;\n          } else {\n            throw e;\n          }\n        }\n        cb(png);\n      }\n      image.onerror = function(error) {\n        console.error('There was an error loading the data URI as an image', error);\n      }\n      image.src = uri;\n    });\n  }\n\n  function download(name, uri) {\n    var a = document.createElement('a');\n    a.download = name;\n    a.href = uri;\n    document.body.appendChild(a);\n    a.addEventListener(\"click\", function(e) {\n      a.parentNode.removeChild(a);\n    });\n    a.click();\n  }\n\n  out$.saveSvg = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsDataUri(el, options, function(uri) {\n      download(name, uri);\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      download(name, uri);\n    });\n  }\n\n  // if define is defined create as an AMD module\n  if (typeof define !== 'undefined') {\n    define(function() {\n      return out$;\n    });\n  }\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/save-svg-as-png/saveSvgAsPng.js\n// module id = 296\n// module chunks = 3"],"sourceRoot":""}