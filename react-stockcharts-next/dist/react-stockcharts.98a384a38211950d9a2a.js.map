{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6*","webpack:///webpack/bootstrap cb9c3e5eb6311a40f84f","webpack:///external \"React\"","webpack:///external \"d3\"","webpack:///./src/index.js","webpack:///./src/lib/utils/index.js","webpack:///./src/lib/GenericChartComponent.jsx","webpack:///./src/lib/indicator/baseIndicator.js","webpack:///./src/lib/indicator/algorithm/index.js","webpack:///./src/lib/indicator/defaultOptionsForComputation.js","webpack:///./src/lib/tooltip/ToolTipTSpanLabel.jsx","webpack:///./src/lib/tooltip/ToolTipText.jsx","webpack:///./src/lib/series/LineSeries.jsx","webpack:///./src/lib/GenericComponent.jsx","webpack:///./src/lib/indicator/defaultOptionsForAppearance.js","webpack:///./src/lib/series/StraightLine.jsx","webpack:///./src/lib/utils/identity.js","webpack:///./src/lib/utils/noop.js","webpack:///external \"ReactDOM\"","webpack:///./src/lib/indicator/algorithm/ema.js","webpack:///./src/lib/series/StackedBarSeries.jsx","webpack:///./src/lib/coordinates/EdgeCoordinateV2.jsx","webpack:///./src/lib/indicator/algorithm/atr.js","webpack:///./src/lib/utils/ChartDataUtil.js","webpack:///./src/lib/utils/PureComponent.js","webpack:///./src/lib/Chart.jsx","webpack:///./src/lib/annotation/LabelAnnotation.jsx","webpack:///./src/lib/axes/Axis.jsx","webpack:///./src/lib/interactive/InteractiveLine.jsx","webpack:///./src/lib/interactive/MouseLocationIndicator.jsx","webpack:///./src/lib/scale/financeDiscontinuousScale.js","webpack:///./src/lib/series/AreaOnlySeries.jsx","webpack:///./src/lib/series/BarSeries.jsx","webpack:///./src/lib/utils/shallowEqual.js","webpack:///./src/lib/utils/zipper.js","webpack:///./src/lib/BackgroundText.jsx","webpack:///./src/lib/ChartCanvas.jsx","webpack:///./src/lib/algorithm/index.js","webpack:///./src/lib/annotation/index.js","webpack:///./src/lib/axes/index.js","webpack:///./src/lib/coordinates/index.js","webpack:///./src/lib/helper/index.js","webpack:///./src/lib/indicator/index.js","webpack:///./src/lib/interactive/index.js","webpack:///./src/lib/scale/index.js","webpack:///./src/lib/series/index.js","webpack:///./src/lib/tooltip/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/lib/CanvasContainer.jsx","webpack:///./src/lib/EventCapture.jsx","webpack:///./src/lib/annotation/Annotate.jsx","webpack:///./src/lib/annotation/Label.jsx","webpack:///./src/lib/annotation/SvgPathAnnotation.jsx","webpack:///./src/lib/axes/AxisZoomCapture.jsx","webpack:///./src/lib/axes/XAxis.jsx","webpack:///./src/lib/axes/YAxis.jsx","webpack:///./src/lib/coordinates/CrossHairCursor.jsx","webpack:///./src/lib/coordinates/CurrentCoordinate.jsx","webpack:///./src/lib/coordinates/EdgeIndicator.jsx","webpack:///./src/lib/coordinates/MouseCoordinateX.jsx","webpack:///./src/lib/coordinates/MouseCoordinateY.jsx","webpack:///./src/lib/helper/SaveChartAsImage.js","webpack:///./src/lib/helper/TypeChooser.jsx","webpack:///./src/lib/helper/fitWidth.jsx","webpack:///./src/lib/indicator/algorithm/bollingerband.js","webpack:///./src/lib/indicator/algorithm/change.js","webpack:///./src/lib/indicator/algorithm/compare.js","webpack:///./src/lib/indicator/algorithm/elderRay.js","webpack:///./src/lib/indicator/algorithm/forceIndex.js","webpack:///./src/lib/indicator/algorithm/heikinAshi.js","webpack:///./src/lib/indicator/algorithm/kagi.js","webpack:///./src/lib/indicator/algorithm/macd.js","webpack:///./src/lib/indicator/algorithm/pointAndFigure.js","webpack:///./src/lib/indicator/algorithm/renko.js","webpack:///./src/lib/indicator/algorithm/rsi.js","webpack:///./src/lib/indicator/algorithm/sma.js","webpack:///./src/lib/indicator/algorithm/sto.js","webpack:///./src/lib/indicator/atr.js","webpack:///./src/lib/indicator/bollingerBand.js","webpack:///./src/lib/indicator/change.js","webpack:///./src/lib/indicator/compare.js","webpack:///./src/lib/indicator/elderImpulse.js","webpack:///./src/lib/indicator/elderRay.js","webpack:///./src/lib/indicator/ema.js","webpack:///./src/lib/indicator/forceIndex.js","webpack:///./src/lib/indicator/heikinAshi.js","webpack:///./src/lib/indicator/kagi.js","webpack:///./src/lib/indicator/macd.js","webpack:///./src/lib/indicator/pointAndFigure.js","webpack:///./src/lib/indicator/renko.js","webpack:///./src/lib/indicator/rsi.js","webpack:///./src/lib/indicator/sma.js","webpack:///./src/lib/indicator/stochasticOscillator.js","webpack:///./src/lib/interactive/Brush.jsx","webpack:///./src/lib/interactive/ClickCallback.jsx","webpack:///./src/lib/interactive/FibonacciRetracement.jsx","webpack:///./src/lib/interactive/TrendLine.jsx","webpack:///./src/lib/interactive/utils.js","webpack:///./src/lib/scale/discontinuousTimeScaleProvider.js","webpack:///./src/lib/scale/evaluator.js","webpack:///./src/lib/series/AreaSeries.jsx","webpack:///./src/lib/series/BollingerSeries.jsx","webpack:///./src/lib/series/CandlestickSeries.jsx","webpack:///./src/lib/series/CircleMarker.jsx","webpack:///./src/lib/series/ElderRaySeries.jsx","webpack:///./src/lib/series/GroupedBarSeries.jsx","webpack:///./src/lib/series/KagiSeries.jsx","webpack:///./src/lib/series/MACDSeries.jsx","webpack:///./src/lib/series/OHLCSeries.jsx","webpack:///./src/lib/series/OverlayBarSeries.jsx","webpack:///./src/lib/series/PointAndFigureSeries.jsx","webpack:///./src/lib/series/RSISeries.jsx","webpack:///./src/lib/series/RenkoSeries.jsx","webpack:///./src/lib/series/ScatterSeries.jsx","webpack:///./src/lib/series/StochasticSeries.jsx","webpack:///./src/lib/series/VolumeProfileSeries.jsx","webpack:///./src/lib/tooltip/BollingerBandTooltip.jsx","webpack:///./src/lib/tooltip/HoverTooltip.jsx","webpack:///./src/lib/tooltip/MACDTooltip.jsx","webpack:///./src/lib/tooltip/MovingAverageTooltip.jsx","webpack:///./src/lib/tooltip/OHLCTooltip.jsx","webpack:///./src/lib/tooltip/RSITooltip.jsx","webpack:///./src/lib/tooltip/SingleValueTooltip.jsx","webpack:///./src/lib/tooltip/StochasticTooltip.jsx","webpack:///./src/lib/utils/accumulatingWindow.js","webpack:///./src/lib/utils/mappedSlidingWindow.js","webpack:///./src/lib/utils/merge.js","webpack:///./src/lib/utils/slidingWindow.js","webpack:///./~/lodash.flattendeep/index.js","webpack:///./~/save-svg-as-png/saveSvgAsPng.js"],"names":["series","scale","coordinates","indicator","algorithm","annotation","axes","tooltip","helper","interactive","utils","version","ChartCanvas","Chart","GenericChartComponent","GenericComponent","BackgroundText","path","getClosestItemIndexes2","getClosestValue","d3Window","getClosestItemIndexes","getClosestItem","rebind","head","tail","last","isDefined","isNotDefined","isObject","touchPosition","mousePosition","clearCanvas","capitalizeFirst","hexToRGBA","accumulatingWindow","mappedSlidingWindow","merge","identity","noop","shallowEqual","slidingWindow","zipper","key","Array","isArray","length","obj","defaultValue","index","array","value","accessor","left","bisector","Math","max","right","min","item","values","currentValue","diff","map","each","reduce","diff1","diff2","abs","node","d3win","ownerDocument","defaultView","document","MOUSEMOVE","MOUSEUP","log","lo","hi","mid","round","closest","console","overlayColors","category10","target","source","mappings","apply","arguments","Object","keys","forEach","targetName","method","Error","i","undefined","slice","first","d","touch","e","container","rect","getBoundingClientRect","x","clientX","clientLeft","y","clientY","top","clientTop","xy","currentTarget","canvasList","setTransform","clearRect","canvas","width","height","str","charAt","toUpperCase","substring","inputHex","opacity","hex","replace","indexOf","multiplier","r","parseInt","g","b","result","getAxisCanvas","props","context","listener","bind","preCanvasDraw","postCanvasDraw","ctx","save","canvasOriginX","canvasOriginY","margin","clip","edgeClip","beginPath","translate","restore","moreProps","chartConfigList","chartConfig","chartId","filter","id","propTypes","defaultProps","contextTypes","number","isRequired","object","contexts","stroke","fill","echo","type","tooltipLabel","domain","tickValues","baseIndicator","ema","sma","bollingerband","heikinAshi","kagi","pointAndFigure","renko","macd","rsi","sto","atr","forceIndex","elderRay","compare","change","BollingerBand","windowSize","sourcePath","movingAverageType","ATR","ForceIndex","ElderRay","ElderImpulse","MACD","fast","slow","signal","FullStochasticOscillator","kWindowSize","dWindowSize","RSI","EMA","SMA","Kagi","reversalType","reversal","Renko","fixedBrickSize","PointAndFigure","boxSize","ToolTipTSpanLabel","children","ToolTipText","fontFamily","fontSize","string","LineSeries","renderSVG","drawOnCanvas","isHover","highlightOnHover","yAccessor","hoverTolerance","mouseXY","currentItem","xScale","plotData","yScale","origin","xAccessor","radius","invert","cy","cx","hovering1","pow","l","x1","y1","x2","y2","m","desiredY","hovering2","strokeWidth","hoverStrokeWidth","defined","hovering","lineWidth","strokeStyle","points","push","segment","dataSeries","svg","line","className","onClick","onDoubleClick","onContextMenu","moveTo","lineTo","func","bool","isNaN","suscriberId","getMoreProps","draw","updateMoreProps","evaluateType","executeMouseMove","getRef","drawOnNextTick","state","updateCount","ref","refs","prevMoreProps","assign","drawOnMouseMove","onMouseMove","onMouseDown","drawOnMouseExitOfCanvas","drawOnPan","debug","chartCanvasType","canvasDraw","setState","subscribe","componentWillReceiveProps","unsubscribe","componentDidUpdate","nextProps","nextContext","canvasToDraw","hoverCanvasToDraw","getCanvasContexts","svgDraw","suffix","style","functor","drawOnHover","mouseCoord","oneOfType","themes","light","middle","bottom","up","down","neutral","divergence","D","K","dark","StraightLine","yValue","calculator","data","alpha","previous","initialAccumulator","skip","v","initialValue","nextValue","undefinedLength","drawOnCanvasHelper","svgHelper","getBarsSVG2","drawOnCanvas2","getBars","StackedBarSeries","layout","stack","baseAt","direction","oneOf","widthRatio","range","stackFn","defaultPostAction","postRotateAction","rotateXY","bars","doStuff","convertToArray","swapScales","modifiedYAccessor","modifiedXAccessor","modifiedXScale","modifiedYScale","postProcessor","idx","nest","entries","outer","fillStyle","after","spaceBetweenBar","getClassName","getFill","getBase","bw","barWidth","eachBarWidth","offset","layers","eachYAccessor","datum","y0","h","groupOffset","groupWidth","edge","coordinateBase","coordinate","rectWidth","rectHeight","arrowWidth","orient","edgeXRect","edgeYRect","edgeXText","edgeYText","textAnchor","textFill","displayCoordinate","show","edgeAt","hideLine","lineStroke","lineOpacity","dx","closePath","font","textAlign","textBaseline","fillText","open","high","low","close","trueRangeAlgorithm","undefinedValue","accumulator","prev","prevATR","atrAlgorithm","skipInitial","tr","sum","newData","getChartOrigin","getDimensions","getNewChartConfig","getCurrentCharts","getChartConfigWithUpdatedYScales","getCurrentItem","contextWidth","contextHeight","originCoordinates","chartProps","chartWidth","chartHeight","availableWidth","availableHeight","innerDimension","Children","padding","yExtentsProp","yExtents","flipYScale","yExtentsCalculator","yPan","currentCharts","eachConfig","config","setRange","rangeRoundPoints","yDomainFromYExtents","yValues","eachExtent","allYValues","realYDomain","extent","set","dy","chartsToPan","yDomains","yDomainDY","prevYDomain","combine","yPanEnabled","another","copy","updatedChartConfig","xValue","a","PureComponent","nextState","propName","componentName","yMousePointerDisplayLocation","yMousePointerDisplayFormat","shape","linear","childContextTypes","LabelAnnotation","handleClick","rotate","xPos","yPos","text","xFunc","yFunc","Axis","showDomain","showTicks","transform","getScale","drawAxisLine","tickProps","tickHelper","drawTicks","ticks","axisTicksSVG","axisLineSVG","propProvider","bg","axisZoomCallback","zoomCursorClassName","zoomEnabled","getMouseDelta","zoomCapture","innerTickSize","outerTickSize","tickFormat","tickPadding","tickSize","arrayOf","tickTransform_svg_axisX","tick","tickTransform_svg_axisY","tickArguments","tickStroke","tickStrokeOpacity","baseFormat","format","sign","tickSpacing","tickTransform","canvas_dy","domainClassName","xAxis","Tick","drawEachTick","InteractiveLine","handleMouseDown","handleDrag","handleDragEnd","handleEdgeDrag1","handleEdgeDrag2","handleEdgeDragEnd","preventDefault","win","component","select","on","pageX","pageY","x1Value","x2Value","y1Value","y2Value","moveStartPosition","event","newPos","newX1Value","newY1Value","newX2Value","newY2Value","onDrag","onDragComplete","origEdge","newCX","newCY","newXValue","newYValue","oldXValue","oldYValue","onEdge1Drag","onEdge2Drag","withEdge","defaultClassName","edgeFill","edgeStroke","edgeStrokeWidth","modLine","generateLine","childrenToRender","start","end","any","ClickableCircle","handleMouseEnter","handleMouseLeave","hover","hoverOpacity","MouseLocationIndicator","handleMousePosChange","mutableState","pos","enabled","snap","shouldDisableSnap","snapTo","getPrevMoreProps","mousXY","handleContextMenu","financeDiscontinuousScale","tickLevels","level","tickLevelBisector","interval","backingLinearScale","inverted","rangeRound","clamp","interpolate","domainStart","domainEnd","ceil","floor","newM","levelIndex","backingTicks","distance","ticksSet","j","remove","date","nice","AreaOnlySeries","base","newBase","points0","points1","areaSeries","area","concat","x0","BarSeries","isDate","prototype","toString","call","isEqual","val1","val2","getTime","numKeysA","numKeysB","hasOwnProperty","zip","n","d3_zipLength","zips","componentDidMount","strokeOpacity","getText","strokeText","CANDIDATES_FOR_RESET","shouldResetChart","thisProps","every","getCursorStyle","useCrossHairStyleCursor","tooltipStyle","getXScaleDirection","flipXScale","calculateFullData","inputData","plotFull","xScaleProp","inputXAccesor","xScaleProvider","indexAccessor","indexMutator","wholeData","dimensions","evaluate","useWholeData","scaleProvider","displayXAccessor","fullData","filterData","firstItem","lastItem","resetChart","firstCalculation","calculateState","initialPlotData","postCalculator","updateChart","newState","initialXScale","prevLastItem","lastItemVisible","updatedXScale","setXRange","newStart","newEnd","xExtentsProp","xExtents","getDataInfo","handleMouseMove","handleZoom","handlePinchZoom","handlePan","handlePanEnd","handleDoubleClick","xAxisZoom","yAxisZoom","calculateStateForDomain","pinchCoordinates","subscriptions","interactiveState","chartContainer","canvases","callback","triggerEvent","inputType","requestAnimationFrame","clearMouseCanvas","pinch","touch1Pos","touch2Pos","topLeft","bottomRight","initialPinch","finalPinch","initialPinchXScale","initialChartConfig","iTL","iBR","fTL","fBR","xDash","yDash","newDomain","updatedScale","clearThreeCanvas","zoomDirection","c","clearBothCanvas","onLoadMore","panOrigin","hackyWayToStopPanBeyondBounds__plotData","hackyWayToStopPanBeyondBounds__domain","panStartXScale","panHelper","reset","interaction","isInteractionEnabled","calculatedState","sourceChartConfig","zIndex","defaultFocus","drawMode","cursor","position","seriesName","yExtentsProvider","mouseCoordinates","at","ohlcv","volume","mergeAs","defaultAlgorithm","buyPath","sellPath","Annotate","SvgPathAnnotation","Label","halfWidth","bottomWidth","XAxis","YAxis","EdgeIndicator","CurrentCoordinate","MouseCoordinateX","MouseCoordinateY","CrossHairCursor","TypeChooser","SaveChartAsImage","fitWidth","defaultOptionsForComputation","defaultOptionsForAppearance","bollingerBand","stochasticOscillator","elderImpulse","TrendLine","FibonacciRetracement","ClickCallback","Brush","defaultScaleProvider","discontinuousTimeScaleProviderBuilder","discontinuousTimeScaleProvider","ScatterSeries","CircleMarker","AreaSeries","CandlestickSeries","OHLCSeries","GroupedBarSeries","KagiSeries","PointAndFigureSeries","RenkoSeries","MACDSeries","BollingerSeries","RSISeries","StochasticSeries","ElderRaySeries","VolumeProfileSeries","MACDTooltip","OHLCTooltip","SingleValueTooltip","MovingAverageTooltip","BollingerBandTooltip","RSITooltip","StochasticTooltip","HoverTooltip","CanvasContainer","axesCanvasDOM","canvas_axes","mouseCoordDOM","canvas_mouse_coordinates","bgDOM","getContext","getTouchProps","EventCapture","handleEnter","handleLeave","handleWheel","handleTouchStart","handleTouchMove","handleTouchEnd","handleRightClick","lastTouch","mouseInteraction","panInProgress","focus","onMouseEnter","onMouseLeave","zoom","onZoom","zoomMultiplier","zoomDir","deltaY","mouseMove","stopPropagation","onPanEnd","panStart","panHappened","capture","contextMenuClicked","pan","persist","setTimeout","panEnabled","onPan","clicked","touches","touchXY","touch1","onPinchZoom","touch2","panSpeedMultiplier","usingProps","Annotation","with","when","selectCanvas","getYScale","radians","PI","AxisZoomCapture","handleDragStart","startPosition","startScale","startXY","leftX","topY","center","mean","tempRange","w","newXDomain","axisAt","showGrid","xZoomHeight","axisLocation","newYDomain","yZoomWidth","lines","originX","originY","dashArray","strokeDasharray","split","setLineDash","snapX","line1","line2","circle","arc","itemType","displayFormat","yAxisPad","edgeType","edgeX","coordinateProps","doc","background","cb","svgAsDataUri","getElementsByTagName","uri","image","Image","onload","createElement","fillRect","parent","parentNode","drawImage","toDataURL","src","saveWithWhiteBG","saveWithBG","saveWithDarkBG","saveChartAsImage","setAttribute","body","appendChild","addEventListener","removeChild","click","handleTypeChange","getDisplayName","Series","name","displayName","WrappedComponent","withRef","ResponsiveComponent","handleWindowResize","getWrappedInstance","saveNode","window","el","clientWidth","removeEventListener","findDOMNode","meanAlgorithm","bollingerBandAlgorithm","avg","stdDev","deviation","tuples","algo","curr","absoluteChange","percentChange","mainKeys","compareKeys","f","compareData","ohlc","bullPower","bearPower","volumePath","forceIndexCalulator","now","dateAccessor","dateMutator","reversalThreshold","atrCalculator","kagiData","prevPeak","prevTrough","from","startOfYear","startOfQuarter","startOfMonth","startOfWeek","to","priceMovement","changePoint","startAs","changeTo","nextLineOpen","nextChangePoint","nextChangeTo","added","current","dir","reverseAt","fastEMA","slowEMA","signalEMA","macdCalculator","macdArray","undefinedArray","signalArray","rawData","pricingMethod","columnData","column","boxes","box","createBox","upwardMovement","downwardMovement","toDate","noOfBoxes","prevBoxClose","fromDate","updateColumns","eachBox","brickSize","renkoData","prevBrickClose","prevBrickOpen","brick","prevCloseToHigh","prevCloseToLow","prevOpenToHigh","prevOpenToLow","noOfBricks","fullyFormed","newBrick","prevAvgGain","prevAvgLoss","rsiAlgorithm","avgGain","gain","avgLoss","loss","relativeStrength","gainsAndLossesCalculator","tuple","gainsAndLosses","rsiData","kWindow","highestHigh","lowestLow","currentClose","k","kSmoothed","dWindow","stoAlgorithm","kData","dData","ALGORITHM_TYPE","underlyingAlgorithm","period","mergedAlgorithm","macdSource","emaSource","prevMACDDivergence","currMACDDivergence","prevEMA","currEMA","ha","overSold","overBought","handleStartAndEnd","handleDrawBrush","startItem","startClick","onBrush","terminate","rectProps","onStart","handleDrawRetracement","handleEdge1Drag","handleEdge2Drag","handleDragComplete","init","retracements","override","xyValue","onComplete","newXYValue","origXYValue","rest","newRetracements","fontStroke","lineType","currentRetracement","toFixed","percent","retracementText","childProps","overrideInteractive","handleDrawLine","handleDragLine","handleDragLineComplete","trends","newTrends","currentPositionRadius","currentPositionStroke","currentPositionOpacity","currentPositionStrokeWidth","tempLine","endPointCircleFill","endPointCircleRadius","button","shiftKey","getValueFromOverride","yearFormat","quarterFormat","monthFormat","weekFormat","dayFormat","hourFormat","minuteFormat","secondFormat","levelDefinition","getFullYear","startOfDay","startOfHalfDay","startOfQuarterDay","startOfEighthOfADay","startOfHour","getHours","startOf30Minutes","startOf15Minutes","startOf5Minutes","startOfMinute","startOf30Seconds","evaluateLevel","find","discontinuousIndexCalculator","di","row","discontinuousIndexCalculatorLocalTime","prevDate","nowDate","getSeconds","getMinutes","getDay","getMonth","getYear","realDateAccessor","inputDateAccessor","initialIndex","calculate","misc","nextDate","has","count","get","sort","withIndex","withInterval","response","inputIndex","Date","time","mergedData","finalData","utc","offsetInMillis","getTimezoneOffset","indexCalculator","mappedData","composedCalculator","compose","calculatedData","timeEnd","scaleProvider2","realXAccessor","extentsWrapper","inputXAccessor","inputDomain","currentPlotData","currentDomain","filteredData","getFilteredResponse","realInputDomain","canShowTheseManyPeriods","showMax","newXScale","newWidth","arrayLength","threshold","newLeftIndex","newRightIndex","funcs","composed","args","yAccessorForTop","yAccessorForMiddle","yAccessorForBottom","yAccessorForScalledBottom","areaClassName","wickClassName","candleClassName","getWicksSVG","getCandlesSVG","classNames","wickStroke","candleStrokeWidth","wickData","getWickData","wicks","shapeRendering","y3","y4","candleData","getCandleData","candles","wickNest","candleNest","strokeKey","strokeValues","inner","classNameProp","wickStrokeProp","fillProp","strokeProp","cw","candleWidth","Circle","point","drawOnCanvasWithNoStateChange","yAccessorTop","yAccessorBullTop","yAccessorBearTop","yAccessorBullBottom","yAccessorBearBottom","yAccessorForBarBase","yAccessorNumber","fillForEachBar","divergenceStroke","zeroLineStroke","zeroLineOpacity","paths","plot","yang","yin","currentValueStroke","begin","prevX","lastPlot","kagiLine","yAccessorForMACD","yAccessorForSignal","yAccessorForDivergence","yAccessorForDivergenceBase","getHorizontalLine","barData","getOHLCBars","openX1","openY","openX2","closeX1","closeY","closeX2","classNamesProp","strokeFunc","classNameFunc","OverlayBarSeries","innerBars","columns","getColumns","col","columnWidth","boxHeight","offsetX","offsetY","rx","ry","ellipse","anyBox","xOffset","getRenko","partial","svgfill","markerProps","Marker","marker","markerProvider","mProps","fillKey","fillGroup","fillValues","strokeGroup","yAccessorForD","yAccessorForK","seriesStroke","rects","sessionBg","showSessionBackground","sessionBackGround","sessionBackGroundOpacity","sessionBgSvg","w1","fill1","stroke1","w2","fill2","stroke2","bins","maxProfileWidthPercent","bySession","sessionStart","partialStartOK","partialEndOK","realXScale","sessionBuilder","discardTillStart","discardTillEnd","accumulateTill","sessions","allRects","session","finish","sessionWidth","histogram","rollup","sortKeys","descending","ascending","leaves","volumeInBins","arr","volumeValues","totalVolumes","totalVolume","volumes","totalVolumeX","ws","originProp","forDataSeries","pointer","bgFill","bgOpacity","backgroundShapeSVG","content","centerX","drawWidth","tooltipSVG","bgwidth","bgheight","tooltipContent","tooltipCanvas","fontFill","backgroundShapeCanvas","PADDING","tspans","label","X","Y","textY","measureText","macdValue","SingleMAToolTip","forChart","options","color","calculators","ox","oy","yDisplayValue","xDisplayFormat","volumeFormat","ohlcFormat","displayDate","labelStroke","valueStroke","yDisplayFormat","xLabel","yLabel","xDisplayValue","stochastic","accumulatedWindow","accumulatorIdx","size","windowData","undef","mapped","shift","pop","skipUndefined","mergeCompute","sourceFunction"],"mappings":"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;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC7VA;AACA,wFAA2F;;AAE3F;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,mCAAmC,6BAA6B;AAChE,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,EAAE;AACtC;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gBAAgB;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC","file":"dist/react-stockcharts.98a384a38211950d9a2a.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"ReactDOM\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_20__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonpReStock\"];\n \twindow[\"webpackJsonpReStock\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length)\n \t\t\tresolves.shift()();\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t3: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn Promise.resolve();\n\n \t\t// an Promise means \"currently loading\".\n \t\tif(installedChunks[chunkId]) {\n \t\t\treturn installedChunks[chunkId][2];\n \t\t}\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tscript.src = __webpack_require__.p + \"dist/\" + chunkId + \".\" + {\"0\":\"1cf437ea4691dc3c6179\",\"1\":\"5be661891dba599553b5\",\"2\":\"1c5ac211755f01a83532\"}[chunkId] + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) chunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\treturn installedChunks[chunkId][2] = promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmory imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmory exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tObject.defineProperty(exports, name, {\n \t\t\tconfigurable: false,\n \t\t\tenumerable: true,\n \t\t\tget: getter\n \t\t});\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cb9c3e5eb6311a40f84f","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 1\n// module chunks = 3","\"use strict\";\n\n// common components\nimport ChartCanvas from \"./lib/ChartCanvas\";\nimport Chart from \"./lib/Chart\";\n\nimport GenericChartComponent from \"./lib/GenericChartComponent\";\nimport GenericComponent from \"./lib/GenericComponent\";\n\nimport BackgroundText from \"./lib/BackgroundText\";\n\n// chart types & Series\nimport * as series from \"./lib/series\";\nimport * as scale from \"./lib/scale\";\n\nimport * as coordinates from \"./lib/coordinates\";\nimport * as indicator from \"./lib/indicator\";\nimport * as algorithm from \"./lib/algorithm\";\n\nimport * as annotation from \"./lib/annotation\";\n\nimport * as axes from \"./lib/axes\";\nimport * as tooltip from \"./lib/tooltip\";\nimport * as helper from \"./lib/helper\";\n\nimport * as interactive from \"./lib/interactive\";\nimport * as utils from \"./lib/utils\";\n\nconst version = \"0.5.0\";\n\nexport {\n\tChartCanvas,\n\tChart,\n\tGenericChartComponent,\n\tGenericComponent,\n\tBackgroundText,\n\tseries,\n\tcoordinates,\n\tindicator,\n\talgorithm,\n\taxes,\n\tscale,\n\ttooltip,\n\tannotation,\n\thelper,\n\tinteractive,\n\tversion,\n\tutils\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\"use strict\";\n\n\nimport d3 from \"d3\";\n\nimport zipper from \"./zipper\";\nimport merge from \"./merge\";\nimport slidingWindow from \"./slidingWindow\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\nimport shallowEqual from \"./shallowEqual\";\nimport mappedSlidingWindow from \"./mappedSlidingWindow\";\nimport accumulatingWindow from \"./accumulatingWindow\";\n\nexport {\n\taccumulatingWindow,\n\tmappedSlidingWindow,\n\tmerge,\n\tidentity,\n\tnoop,\n\tshallowEqual,\n\tslidingWindow,\n\tzipper,\n};\n\nexport function path(path = []) {\n\tvar key = Array.isArray(path) ? path : [path];\n\tvar length = key.length;\n\n\treturn function(obj, defaultValue) {\n\t\tvar index = 0;\n\t\twhile (obj != null && index < length) {\n\t\t\tobj = obj[key[index++]];\n\t\t}\n\t\treturn (index === length) ? obj : defaultValue;\n\t};\n}\n\nexport function getClosestItemIndexes2(array, value, accessor) {\n\tvar left = d3.bisector(accessor).left(array, value);\n\tleft = Math.max(left - 1, 0);\n\tvar right = Math.min(left + 1, array.length - 1);\n\n\tvar item = accessor(array[left]);\n\tif (item >= value && item <= value) right = left;\n\n\treturn { left, right };\n}\n\nexport function getClosestValue(values, currentValue) {\n\tvar diff = values\n\t\t.map(each => each - currentValue)\n\t\t.reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n\treturn currentValue + diff;\n}\n\n\nexport function d3Window(node) {\n\tvar d3win = node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n\treturn d3win;\n}\n\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\n\nexport function getClosestItemIndexes(array, value, accessor, log) {\n\tvar lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tvar mid = Math.round((lo + hi) / 2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\t// for Date object === does not work, so using the <= in combination with >=\n\t// the same code works for both dates and numbers\n\tif (accessor(array[lo]) >= value && accessor(array[lo]) <= value) hi = lo;\n\tif (accessor(array[hi]) >= value && accessor(array[hi]) <= value) lo = hi;\n\n\tif (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\n\tif (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\n\n\tif (log) {\n\t\t// console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\n\t\t// console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\n\t\t// console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\n\t}\n\t// var left = value > accessor(array[lo]) ? lo : lo;\n\t// var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\n\n\t// console.log(value, accessor(array[left]), accessor(array[right]));\n\treturn { left: lo, right: hi };\n}\n\nexport function getClosestItem(array, value, accessor, log) {\n\tvar { left, right } = getClosestItemIndexes(array, value, accessor, log);\n\n\tif (left === right) {\n\t\treturn array[left];\n\t}\n\n\tvar closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\n\t\t\t\t\t\t? array[left]\n\t\t\t\t\t\t: array[right];\n\tif (log) {\n\t\tconsole.log(array[left], array[right], closest, left, right);\n\t}\n\treturn closest;\n}\n\n\nexport const overlayColors = d3.scale.category10();\n\nexport function rebind(target, source, mappings) {\n\tif (typeof(mappings) !== \"object\") {\n\t\treturn d3.rebind.apply(d3, arguments);\n\t}\n\tObject.keys(mappings)\n\t\t.forEach(function(targetName) {\n\t\t\tvar method = source[mappings[targetName]];\n\t\t\tif (typeof method !== \"function\") {\n\t\t\t\tthrow new Error(`The method ${mappings[targetName]} does not exist on the source object`);\n\t\t\t}\n\t\t\ttarget[targetName] = function() {\n\t\t\t\tvar value = method.apply(source, arguments);\n\t\t\t\treturn value === source ? target : value;\n\t\t\t};\n\t\t});\n\treturn target;\n}\n\nexport function head(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\treturn array ? array[0] : undefined;\n}\n\nexport function tail(array, accessor) {\n\tif (accessor && array) {\n\t\treturn array.map(accessor).slice(1);\n\t}\n\treturn array ? array.slice(1) : undefined;\n}\n\nexport const first = head;\n\nexport function last(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = array.length - 1; i >= 0; i--) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\tvar length = array ? array.length : 0;\n\treturn length ? array[length - 1] : undefined;\n}\n\nexport function isDefined(d) {\n\treturn d !== null && typeof d != \"undefined\";\n}\n\nexport function isNotDefined(d) {\n\treturn !isDefined(d);\n}\n\nexport function isObject(d) {\n\treturn isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\n\nexport const isArray = Array.isArray;\n\nexport function touchPosition(touch, e) {\n\tvar container = e.target,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = touch.clientX - rect.left - container.clientLeft,\n\t\ty = touch.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\nexport function mousePosition(e) {\n\tvar container = e.currentTarget,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\ty = e.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\n\nexport function clearCanvas(canvasList) {\n\tcanvasList.forEach(each => {\n\t\teach.setTransform(1, 0, 0, 1, 0, 0);\n\t\teach.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n\t});\n}\n\nexport function capitalizeFirst(str) {\n\treturn str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function hexToRGBA(inputHex, opacity) {\n\tvar hex = inputHex.replace(\"#\", \"\");\n\tif (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\n\n\t\tvar multiplier = (hex.length === 3) ? 1 : 2;\n\n\t\tvar r = parseInt(hex.substring(0, 1 * multiplier), 16);\n\t\tvar g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\n\t\tvar b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\n\n\t\tvar result = `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\n\n\t\treturn result;\n\t}\n\treturn inputHex;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/index.js","\"use strict\";\n\nimport { PropTypes } from \"react\";\n\nimport GenericComponent from \"./GenericComponent\";\n\nclass GenericChartComponent extends GenericComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t}\n\tpreCanvasDraw(ctx) {\n\t\tctx.save();\n\t\tvar { canvasOriginX, canvasOriginY, width, height, margin } = this.context;\n\t\tvar { clip, edgeClip } = this.props;\n\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tif (edgeClip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, canvasOriginY - 10, width + margin.left + margin.right + 1, height + 20);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, -1, width + 1, height + 1);\n\t\t\tctx.clip();\n\t\t}\n\t}\n\tpostCanvasDraw(ctx) {\n\t\tctx.restore();\n\t}\n\tupdateMoreProps(moreProps) {\n\t\t// console.log(type, moreProps, e)\n\t\tsuper.updateMoreProps(moreProps);\n\t\tvar { chartConfig: chartConfigList } = moreProps;\n\n\t\tif (chartConfigList) {\n\t\t\tvar { chartId } = this.context;\n\t\t\tvar chartConfig = chartConfigList\n\t\t\t\t.filter(each => each.id === chartId)[0];\n\t\t\tthis.moreProps.chartConfig = chartConfig;\n\t\t}\n\t}\n}\n\nGenericChartComponent.propTypes = GenericComponent.propTypes;\n\nGenericChartComponent.defaultProps = GenericComponent.defaultProps;\n\nGenericChartComponent.contextTypes = {\n\t...GenericComponent.contextTypes,\n\tchartId: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n};\n\nexport default GenericChartComponent;\n\nexport function getAxisCanvas(contexts) {\n\treturn contexts.axes;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GenericChartComponent.jsx","\"use strict\";\n\nimport { overlayColors } from \"../utils\";\n\nvar i = 0;\n\nexport default function() {\n\n\tvar id = i++, accessor, stroke, fill, echo, type, tooltipLabel, domain, tickValues;\n\n\tfunction baseIndicator() {\n\t}\n\n\tbaseIndicator.id = function(x) {\n\t\tif (!arguments.length) return id;\n\t\tid = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.accessor = function(x) {\n\t\tif (!arguments.length) return accessor;\n\t\taccessor = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.stroke = function(x) {\n\t\tif (!arguments.length) return !stroke ? stroke = overlayColors(id) : stroke;\n\t\tstroke = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.fill = function(x) {\n\t\tif (!arguments.length) return !fill ? fill = overlayColors(id) : fill;\n\t\tfill = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.echo = function(x) {\n\t\tif (!arguments.length) return echo;\n\t\techo = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.type = function(x) {\n\t\tif (!arguments.length) return type;\n\t\ttype = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tooltipLabel = function(x) {\n\t\tif (!arguments.length) {\n\t\t\tif (typeof tooltipLabel === \"function\") return tooltipLabel();\n\t\t\treturn tooltipLabel;\n\t\t}\n\t\ttooltipLabel = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.domain = function(x) {\n\t\tif (!arguments.length) return domain;\n\t\tdomain = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tickValues = function(x) {\n\t\tif (!arguments.length) return tickValues;\n\t\ttickValues = x;\n\t\treturn baseIndicator;\n\t};\n\treturn baseIndicator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/baseIndicator.js","// import slidingWindow from \"./slidingWindow\";\n// import merge from \"./merge\";\n// import zipper from \"./zipper\";\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerband from \"./bollingerband\";\nimport heikinAshi from \"./heikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\n\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport sto from \"./sto\";\nimport atr from \"./atr\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport compare from \"./compare\";\nimport change from \"./change\";\n\nexport {\n\t// slidingWindow,\n\t// merge,\n\t// zipper\n\tema,\n\tsma,\n\tbollingerband,\n\theikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\n\trsi,\n\tsto,\n\tatr,\n\tforceIndex,\n\telderRay,\n\tcompare,\n\tchange,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/index.js","\"use strict\";\n\nexport const BollingerBand = {\n\twindowSize: 20,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\tmultiplier: 2,\n\tmovingAverageType: \"sma\"\n};\n\nexport const ATR = {\n\twindowSize: 14,\n};\n\nexport const ForceIndex = {\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const ElderRay = {\n\twindowSize: 13,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n\tmovingAverageType: \"sma\",\n};\n\nexport const ElderImpulse = {\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const MACD = {\n\tfast: 12,\n\tslow: 26,\n\tsignal: 9,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n};\n\nexport const FullStochasticOscillator = {\n\twindowSize: 12,\n\tkWindowSize: 3,\n\tdWindowSize: 3,\n};\n\nexport const RSI = {\n\twindowSize: 14,\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n};\n\nexport const EMA = {\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\twindowSize: 10,\n};\n\nexport const SMA = {\n\t// source: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tsourcePath: \"close\",\n\twindowSize: 10,\n};\n\nexport const Kagi = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\twindowSize: 14,\n\treversal: 2,\n\tsourcePath: \"close\", // \"high\", \"low\", \"open\", \"close\"\n\t/* dateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; }, */\n};\n\nexport const Renko = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\twindowSize: 14,\n\tfixedBrickSize: 2,\n\tsourcePath: \"high/low\", // \"close\", \"high/low\"\n\t/* source: d => ({ high: d.high, low: d.low }),\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; }, */\n};\n\nexport const PointAndFigure = {\n\tboxSize: 0.5,\n\treversal: 3,\n\tsourcePath: \"high/low\", // \"close\", \"high/low\"\n\n\t/* source: d => ({ high: d.high, low: d.low }), // \"close\", \"hi/lo\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; }, */\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/defaultOptionsForComputation.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipTSpanLabel extends Component {\n\trender() {\n\t\treturn <tspan className=\"react-stockcharts-tooltip-label\" fill=\"#4682B4\" {...this.props}>{this.props.children}</tspan>;\n\t}\n}\n\nToolTipTSpanLabel.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n\nexport default ToolTipTSpanLabel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/ToolTipTSpanLabel.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipText extends Component {\n\trender() {\n\t\treturn <text\n\t\t\tfontFamily={this.props.fontFamily}\n\t\t\tfontSize={this.props.fontSize}\n\t\t\t{...this.props}\n\t\t\tclassName=\"react-stockcharts-tooltip\">{this.props.children}</text>;\n\t}\n}\n\nToolTipText.propTypes = {\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nToolTipText.defaultProps = {\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 11,\n};\n\nexport default ToolTipText;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/ToolTipText.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { first, getClosestItemIndexes } from \"../utils\";\n\nclass LineSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\t// console.log(\"HERE\")\n\t\tvar { highlightOnHover, yAccessor, hoverTolerance } = this.props;\n\n\t\tif (!highlightOnHover) return false;\n\n\t\tvar { mouseXY, currentItem, xScale, plotData } = moreProps;\n\t\tvar { chartConfig: { yScale, origin } } = moreProps;\n\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar [x, y] = mouseXY;\n\t\tconst radius = hoverTolerance;\n\n\t\tvar { left, right } = getClosestItemIndexes(plotData, xScale.invert(x), xAccessor);\n\t\tif (left === right) {\n\t\t\tvar cy = yScale(yAccessor(currentItem)) + origin[1];\n\t\t\tvar cx = xScale(xAccessor(currentItem)) + origin[0];\n\n\t\t\tvar hovering1 = Math.pow(x - cx, 2) + Math.pow(y - cy, 2) < Math.pow(radius, 2);\n\n\t\t\treturn hovering1;\n\t\t} else {\n\t\t\tvar l = plotData[left];\n\t\t\tvar r = plotData[right];\n\t\t\tvar x1 = xScale(xAccessor(l)) + origin[0];\n\t\t\tvar y1 = yScale(yAccessor(l)) + origin[1];\n\t\t\tvar x2 = xScale(xAccessor(r)) + origin[0];\n\t\t\tvar y2 = yScale(yAccessor(r)) + origin[1];\n\n\t\t\t// y = m * x + b\n\t\t\tvar m /* slope */ = (y2 - y1) / (x2 - x1);\n\t\t\tvar b /* y intercept */ = -1 * m * x1 + y1;\n\n\t\t\tvar desiredY = Math.round(m * x + b);\n\n\t\t\tvar hovering2 = y >= desiredY - radius && y <= desiredY + radius;\n\n\t\t\treturn hovering2;\n\t\t}\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor, stroke, strokeWidth, hoverStrokeWidth, defined } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tctx.lineWidth = hovering ? hoverStrokeWidth : strokeWidth;\n\n\t\tctx.strokeStyle = stroke;\n\n\t\tvar points = [];\n\t\tfor (let i = 0; i < plotData.length; i++) {\n\t\t\tlet d = plotData[i];\n\t\t\tif (defined(yAccessor(d), i)) {\n\t\t\t\tlet [x, y] = [xScale(xAccessor(d)), yScale(yAccessor(d))];\n\n\t\t\t\tpoints.push([x, y]);\n\t\t\t} else if (points.length) {\n\t\t\t\tsegment(points, ctx);\n\t\t\t\tpoints = [];\n\t\t\t}\n\t\t}\n\n\t\tif (points.length) segment(points, ctx);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor, stroke, strokeWidth, hoverStrokeWidth, defined } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData, hovering } = moreProps;\n\n\t\tvar dataSeries = d3.svg.line()\n\t\t\t.defined(d => defined(yAccessor(d)))\n\t\t\t.x(d => xScale(xAccessor(d)))\n\t\t\t.y(d => yScale(yAccessor(d)));\n\n\t\tvar d = dataSeries(plotData);\n\n\t\tvar { fill, className } = this.props;\n\n\t\treturn <path className={`${className} ${stroke ? \"\" : \" line-stroke\"}`}\n\t\t\td={d}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={hovering ? hoverStrokeWidth : strokeWidth}\n\t\t\tfill={fill}\n\t\t\t/>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tisHover={this.isHover}\n\t\t\tonClick={this.props.onClick}\n\t\t\tonDoubleClick={this.props.onDoubleClick}\n\t\t\tonContextMenu={this.props.onContextMenu}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\nfunction segment(points, ctx) {\n\tctx.beginPath();\n\n\tlet [x, y] = first(points);\n\tctx.moveTo(x, y);\n\tfor (let i = 1; i < points.length; i++) {\n\t\tlet [x1, y1] = points[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tctx.stroke();\n}\n\nLineSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\thoverStrokeWidth: PropTypes.number,\n\tfill: PropTypes.string,\n\tdefined: PropTypes.func,\n\thoverTolerance: PropTypes.number,\n\thighlightOnHover: PropTypes.bool,\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nLineSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nLineSeries.defaultProps = {\n\tclassName: \"line \",\n\tstrokeWidth: 1,\n\thoverStrokeWidth: 4,\n\tfill: \"none\",\n\tstroke: \"#4682B4\",\n\tdefined: d => !isNaN(d),\n\thoverTolerance: 6,\n\thighlightOnHover: false,\n\tonClick: function(e) { console.log(\"Click\", e); },\n\tonDoubleClick: function(e) { console.log(\"Double Click\", e); },\n\tonContextMenu: function(e) { console.log(\"Right Click\", e); },\n};\n\nexport default LineSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/LineSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport { isNotDefined, isDefined, noop } from \"./utils\";\n\nvar suscriberId = 0;\n\nclass GenericComponent extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\t\tthis.listener = this.listener.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\tthis.updateMoreProps = this.updateMoreProps.bind(this);\n\t\tthis.evaluateType = this.evaluateType.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t\tthis.executeMouseMove = this.executeMouseMove.bind(this);\n\t\tthis.preCanvasDraw = this.preCanvasDraw.bind(this);\n\t\tthis.postCanvasDraw = this.postCanvasDraw.bind(this);\n\t\tthis.getRef = this.getRef.bind(this);\n\n\t\tthis.suscriberId = suscriberId++;\n\n\t\tthis.drawOnNextTick = false;\n\n\t\tthis.moreProps = {};\n\t\tthis.state = {\n\t\t\tupdateCount: 0,\n\t\t};\n\t}\n\tgetRef(ref) {\n\t\treturn this.refs[ref];\n\t}\n\tupdateMoreProps(moreProps) {\n\t\tthis.prevMoreProps = this.moreProps;\n\t\tthis.moreProps = Object.assign(this.moreProps, moreProps);\n\t}\n\tlistener(type, moreProps, e) {\n\t\t// console.log(e.shiftKey)\n\t\tif (isDefined(moreProps)) {\n\t\t\tthis.updateMoreProps(moreProps);\n\t\t}\n\n\t\tthis.evaluateType(type, e);\n\t}\n\texecuteMouseMove(e) {\n\t\tthis.moreProps.hovering = this.isHover(e);\n\n\t\tif (this.moreProps.hovering\n\t\t\t\t|| this.props.drawOnMouseMove) {\n\t\t\tif (this.props.onMouseMove) this.props.onMouseMove(e);\n\t\t\tthis.drawOnNextTick = true;\n\t\t} else {\n\t\t\tthis.drawOnNextTick = false;\n\t\t}\n\t}\n\tevaluateType(type, e) {\n\t\t// if (this.props.debug) console.log(this.props.debug, type);\n\n\t\tswitch (type) {\n\t\tcase \"zoom\":\n\t\tcase \"mouseenter\":\n\t\t\t\t// DO NOT DRAW FOR THESE EVENTS\n\t\t\tbreak;\n\t\tcase \"contextmenu\": {\n\t\t\tif (this.moreProps.hovering && this.props.onContextMenu) {\n\t\t\t\tthis.props.onContextMenu(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mousedown\": {\n\t\t\tif (this.moreProps.hovering && this.props.onMouseDown) {\n\t\t\t\tthis.props.onMouseDown(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"click\": {\n\t\t\tif (this.moreProps.hovering && this.props.onClick) {\n\t\t\t\tthis.props.onClick(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mousemove\": {\n\t\t\tthis.executeMouseMove(e);\n\t\t\tbreak;\n\t\t}\n\t\tcase \"dblclick\": {\n\t\t\tif (this.moreProps.hovering && this.props.onDoubleClick) {\n\t\t\t\tthis.props.onDoubleClick(e);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tcase \"mouseleave\": {\n\t\t\tthis.drawOnNextTick = this.props.drawOnMouseExitOfCanvas;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"pan\": {\n\t\t\tthis.moreProps.hovering = false;\n\t\t\tthis.drawOnNextTick = this.props.drawOnPan;\n\t\t\tbreak;\n\t\t}\n\t\tcase \"draw\": {\n\t\t\tif (this.drawOnNextTick) {\n\t\t\t\tthis.draw();\n\t\t\t}\n\t\t}\n\t\t}\n\t\tif (this.props.debug) console.log(this.props.debug, type, this.drawOnNextTick);\n\n\t\t// if (type !== \"mousemove\" && type !== \"ff\") this.moreProps.prevHovering = false;\n\t}\n\tisHover(e) {\n\t\treturn this.props.isHover(this.moreProps, e);\n\t}\n\tdraw() {\n\t\tvar { chartCanvasType } = this.context;\n\t\tvar { canvasDraw } = this.props;\n\n\t\tif (isNotDefined(canvasDraw) || chartCanvasType === \"svg\") {\n\t\t\tvar { updateCount } = this.state;\n\n\t\t\tthis.setState({\n\t\t\t\tupdateCount: updateCount + 1,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tvar { subscribe } = this.context;\n\t\tsubscribe(this.suscriberId, this.listener);\n\t\tthis.componentWillReceiveProps(this.props, this.context);\n\t}\n\tcomponentWillUnmount() {\n\t\tvar { unsubscribe } = this.context;\n\t\tunsubscribe(this.suscriberId);\n\t}\n\tcomponentDidMount() {\n\t\tthis.componentDidUpdate();\n\t}\n\tcomponentDidUpdate() {\n\t\tvar { chartCanvasType } = this.context;\n\t\tvar { canvasDraw } = this.props;\n\n\t\tif (this.props.debug) console.log(this.props.debug, \"updated\");\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") {\n\t\t\tthis.drawOnCanvas();\n\t\t}\n\t}\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tvar { xScale, plotData, chartConfig } = nextContext;\n\t\tif (this.props.debug) console.log(nextContext);\n\t\tthis.moreProps = {\n\t\t\t...this.moreProps,\n\t\t\txScale, plotData, chartConfig\n\t\t};\n\t}\n\tgetMoreProps() {\n\t\tvar { xScale, plotData, chartConfig } = this.context;\n\n\t\tvar moreProps = {\n\t\t\txScale, plotData, chartConfig,\n\t\t\t...this.moreProps\n\t\t};\n\t\treturn moreProps;\n\t}\n\tgetPrevMoreProps() {\n\t\treturn this.prevMoreProps;\n\t}\n\tpreCanvasDraw() {\n\t\t// do nothing\n\t}\n\tpostCanvasDraw() {\n\t\t// do nothing\n\t}\n\tdrawOnCanvas() {\n\t\tvar { canvasDraw, canvasToDraw, hoverCanvasToDraw } = this.props;\n\t\tvar { getCanvasContexts } = this.context;\n\t\tvar { hovering } = this.moreProps;\n\n\t\tvar ctx = hovering\n\t\t\t? hoverCanvasToDraw(getCanvasContexts())\n\t\t\t: canvasToDraw(getCanvasContexts());\n\n\t\tthis.preCanvasDraw(ctx);\n\t\tcanvasDraw(ctx, this.getMoreProps());\n\n\t\tthis.postCanvasDraw(ctx);\n\t}\n\trender() {\n\t\tvar { chartCanvasType, chartId } = this.context;\n\t\tvar { canvasDraw, clip, svgDraw } = this.props;\n\n\t\tif (isDefined(canvasDraw) && chartCanvasType !== \"svg\") return null;\n\n\t\tvar suffix = isDefined(chartId) ? \"-\" + chartId : \"\";\n\n\t\tvar style = clip ? { \"clipPath\": `url(#chart-area-clip${suffix})` } : null;\n\n\t\treturn <g style={style}>{svgDraw(this.getMoreProps())}</g>;\n\t}\n}\n\nGenericComponent.propTypes = {\n\tsvgDraw: PropTypes.func.isRequired,\n\tcanvasDraw: PropTypes.func,\n\tdrawOnMouseMove: PropTypes.bool.isRequired,\n\tdrawOnPan: PropTypes.bool.isRequired,\n\tclip: PropTypes.bool.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n\tdrawOnMouseExitOfCanvas: PropTypes.bool.isRequired,\n\tcanvasToDraw: PropTypes.func.isRequired,\n\thoverCanvasToDraw: PropTypes.func.isRequired,\n\tisHover: PropTypes.func.isRequired,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\n\tdebug: PropTypes.string,\n};\n\nGenericComponent.defaultProps = {\n\tsvgDraw: d3.functor(null),\n\tdrawOnMouseMove: false,\n\tdrawOnPan: false,\n\tdrawOnHover: false,\n\tdrawOnMouseExitOfCanvas: false,\n\tcanvasToDraw: contexts => contexts.mouseCoord,\n\thoverCanvasToDraw: contexts => contexts.mouseCoord,\n\tclip: true,\n\tedgeClip: false,\n\tisHover: d3.functor(false),\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n};\n\nGenericComponent.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tchartId: PropTypes.number,\n\tgetCanvasContexts: PropTypes.func,\n\n\tchartCanvasType: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\n\tchartConfig: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]).isRequired,\n\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n};\n\nexport default GenericComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GenericComponent.jsx","\"use strict\";\n\nexport const themes = {\n\tlight: {\n\t\tBollingerBand: {\n\t\t\tstroke: {\n\t\t\t\ttop: \"#964B00\",\n\t\t\t\tmiddle: \"#000000\",\n\t\t\t\tbottom: \"#964B00\",\n\t\t\t},\n\t\t\tfill: \"#4682B4\",\n\t\t},\n\t\tElderImpulse: {\n\t\t\tstroke: {\n\t\t\t\tup: \"#6BA583\",\n\t\t\t\tdown: \"#FF0000\",\n\t\t\t\tneutral: \"#0000FF\",\n\t\t\t}\n\t\t},\n\t\tMACD: {\n\t\t\tfill: {\n\t\t\t\tdivergence: \"#4682B4\"\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tmacd: \"#FF0000\",\n\t\t\t\tsignal: \"#00F300\",\n\t\t\t},\n\t\t},\n\t\tFullStochasticOscillator: {\n\t\t\tstroke: {\n\t\t\t\tD: \"#17becf\",\n\t\t\t\tK: \"#ff7f0e\",\n\t\t\t},\n\t\t},\n\t},\n\tdark: {\n\t\tBollingerBand: {\n\t\t\tstroke: {\n\t\t\t\ttop: \"#964B00\",\n\t\t\t\tmiddle: \"#FF6600\",\n\t\t\t\tbottom: \"#964B00\",\n\t\t\t},\n\t\t\tfill: \"#4682B4\",\n\t\t},\n\t\tElderImpulse: {\n\t\t\tstroke: {\n\t\t\t\tup: \"#6BA583\",\n\t\t\t\tdown: \"#FF0000\",\n\t\t\t\tneutral: \"#0000FF\",\n\t\t\t}\n\t\t},\n\t\tMACD: {\n\t\t\tfill: {\n\t\t\t\tdivergence: \"#FF6600\"\n\t\t\t},\n\t\t\tstroke: {\n\t\t\t\tmacd: \"#ea2bff\",\n\t\t\t\tsignal: \"#74d400\",\n\t\t\t},\n\t\t},\n\t\tFullStochasticOscillator: {\n\t\t\tstroke: {\n\t\t\t\tD: \"#ea2bff\",\n\t\t\t\tK: \"#74d400\",\n\t\t\t},\n\t\t},\n\t}\n};\n\nexport const BollingerBand = themes.light.BollingerBand;\nexport const ElderImpulse = themes.light.ElderImpulse;\nexport const MACD = themes.light.MACD;\nexport const FullStochasticOscillator = themes.light.FullStochasticOscillator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/defaultOptionsForAppearance.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nclass StraightLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { stroke, opacity, yValue } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\t\tctx.moveTo(xScale(first), yScale(yValue));\n\t\tctx.lineTo(xScale(last), yScale(yValue));\n\t\tctx.stroke();\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { stroke, className, opacity, yValue } = this.props;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\treturn (\n\t\t\t<line className={className}\n\t\t\t\tstroke={stroke} opacity={opacity}\n\t\t\t\tx1={xScale(first)} y1={yScale(yValue)}\n\t\t\t\tx2={xScale(last)} y2={yScale(yValue)} />\n\t\t);\n\t}\n}\n\nStraightLine.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number.isRequired,\n\tyValue: PropTypes.number.isRequired,\n};\nStraightLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nStraightLine.defaultProps = {\n\tclassName: \"line \",\n\tstroke: \"#000000\",\n\topacity: 0.5,\n};\n\nexport default StraightLine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/StraightLine.jsx","\"use strict\";\n\nexport default d => d;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/identity.js","export default () => {};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/noop.js","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 20\n// module chunks = 3","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/exponentialMovingAverage.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport { isNotDefined, path } from \"../../utils\";\nimport { EMA as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar alpha = 2 / (windowSize + 1);\n\t\tvar previous;\n\t\tvar initialAccumulator = 0;\n\t\tvar skip = 0;\n\n\t\treturn data.map(function(d, i) {\n\t\t\tvar v = source(d, i);\n\t\t\tif (isNotDefined(previous) && isNotDefined(v)) {\n\t\t\t\tskip++;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i < windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i === windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\tvar initialValue = initialAccumulator / windowSize;\n\t\t\t\tprevious = initialValue;\n\t\t\t\treturn initialValue;\n\t\t\t} else {\n\t\t\t\tvar nextValue = v * alpha + (1 - alpha) * previous;\n\t\t\t\tprevious = nextValue;\n\t\t\t\treturn nextValue;\n\t\t\t}\n\t\t});\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/ema.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { identity, hexToRGBA, first, last, isDefined } from \"../utils\";\n\n\nclass StackedBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\t// var { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor, d3.layout.stack());\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\treturn <g>{svgHelper(this.props, moreProps, xAccessor, d3.layout.stack())}</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nStackedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n};\n\nStackedBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nStackedBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: true,\n\tfill: \"#4682B4\",\n\topacity: 0.5,\n\twidthRatio: 0.8,\n};\n\nexport function drawOnCanvasHelper(ctx, props, moreProps, xAccessor, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar bars = doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\n\tdrawOnCanvas2(props, ctx, bars);\n}\n\nfunction convertToArray(item) {\n\treturn Array.isArray(item) ? item : [item];\n}\n\nexport function svgHelper(props, moreProps, xAccessor, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\tvar bars = doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\treturn getBarsSVG2(props, bars);\n}\n\nfunction doStuff(props, xAccessor, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction) {\n\tvar { yAccessor, swapScales } = props;\n\n\tvar modifiedYAccessor = swapScales ? convertToArray(props.xAccessor) : convertToArray(yAccessor);\n\tvar modifiedXAccessor = swapScales ? yAccessor : xAccessor;\n\n\tvar modifiedXScale = swapScales ? yScale : xScale;\n\tvar modifiedYScale = swapScales ? xScale : yScale;\n\n\tvar postProcessor =  swapScales ? postRotateAction : defaultPostAction;\n\n\tvar bars = getBars(props, modifiedXAccessor, modifiedYAccessor, modifiedXScale, modifiedYScale, plotData, stackFn, postProcessor);\n\n\treturn bars;\n}\n\nexport const rotateXY = (array) => array.map(each => {\n\treturn {\n\t\t...each,\n\t\tx: each.y,\n\t\ty: each.x,\n\t\theight: each.width,\n\t\twidth: each.height\n\t};\n});\n\nexport function getBarsSVG2(props, bars) {\n\t/* eslint-disable react/prop-types */\n\tvar { opacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn bars.map((d, idx) => {\n\t\tif (d.width <= 1) {\n\t\t\treturn <line key={idx} className={d.className}\n\t\t\t\t\t\tstroke={d.fill}\n\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />;\n\t\t}\n\t\treturn <rect key={idx} className={d.className}\n\t\t\t\t\tstroke={d.stroke}\n\t\t\t\t\tfill={d.fill}\n\t\t\t\t\tx={d.x}\n\t\t\t\t\ty={d.y}\n\t\t\t\t\twidth={d.width}\n\t\t\t\t\tfillOpacity={opacity}\n\t\t\t\t\theight={d.height} />;\n\t});\n}\n\nexport function drawOnCanvas2(props, ctx, bars) {\n\tvar { stroke } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.entries(bars);\n\n\tnest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tif (values[0].width < 1) {\n\t\t\tctx.strokeStyle = key;\n\t\t} else {\n\t\t\tctx.strokeStyle = key;\n\t\t\tctx.fillStyle = hexToRGBA(key, props.opacity);\n\t\t}\n\t\tvalues.forEach(d => {\n\t\t\tif (d.width < 1) {\n\t\t\t\t/* <line key={idx} className={d.className}\n\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />*/\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\t/* <rect key={idx} className={d.className}\n\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\tx={d.x}\n\t\t\t\t\t\ty={d.y}\n\t\t\t\t\t\twidth={d.width}\n\t\t\t\t\t\theight={d.height} /> */\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\tctx.fill();\n\t\t\t\tif (stroke) ctx.stroke();\n\t\t\t}\n\n\t\t});\n\t});\n}\n\nexport function getBars(props, xAccessor, yAccessor, xScale, yScale, plotData, stack = identity, after = identity) {\n\tvar { baseAt, className, fill, stroke, widthRatio, spaceBetweenBar = 0 } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\t// console.log(barWidth)\n\n\tvar eachBarWidth = (barWidth - spaceBetweenBar * (yAccessor.length - 1)) / yAccessor.length;\n\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * bw);\n\n\tvar layers = yAccessor\n\t\t.map((eachYAccessor, i) => plotData\n\t\t\t.map(d => ({\n\t\t\t\tseries: xAccessor(d),\n\t\t\t\tdatum: d,\n\t\t\t\tx: i,\n\t\t\t\ty: eachYAccessor(d),\n\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\tfill: getFill(d, i),\n\t\t\t}))\n\t\t);\n\tvar data = stack(layers);\n\n\tvar bars = d3.merge(data)\n\t\t\t.filter(d => isDefined(d.y))\n\t\t\t.map(d => {\n\t\t\t\t// let baseValue = yScale.invert(getBase(xScale, yScale, d.datum));\n\t\t\t\tlet y = yScale(d.y + (d.y0 || 0));\n\t\t\t\t/* let h = isDefined(d.y0) && d.y0 !== 0 && !isNaN(d.y0)\n\t\t\t\t\t? yScale(d.y0) - y\n\t\t\t\t\t: getBase(xScale, yScale, d.datum) - yScale(d.y)*/\n\t\t\t\tvar h = getBase(xScale, yScale, d.datum) - yScale(d.y);\n\t\t\t\t// console.log(d.y, yScale.domain(), yScale.range())\n\t\t\t\t// let h = ;\n\t\t\t\t// if (d.y < 0) h = -h;\n\t\t\t\tif (h < 0) {\n\t\t\t\t\ty = y + h;\n\t\t\t\t\th = -h;\n\t\t\t\t}\n\t\t\t\t/* console.log(d.series, d.datum.date, d.x,\n\t\t\t\t\tgetBase(xScale, yScale, d.datum), `d.y=${d.y}, d.y0=${d.y0}, y=${y}, h=${h}`)*/\n\t\t\t\treturn {\n\t\t\t\t\tclassName: d.className,\n\t\t\t\t\tstroke: d.stroke,\n\t\t\t\t\tfill: d.fill,\n\t\t\t\t\t// series: d.series,\n\t\t\t\t\t// i: d.x,\n\t\t\t\t\tx: Math.round(xScale(d.series) - bw / 2),\n\t\t\t\t\ty: y,\n\t\t\t\t\tgroupOffset: Math.round(offset - (d.x > 0 ? (eachBarWidth + spaceBetweenBar) * d.x : 0)),\n\t\t\t\t\tgroupWidth: Math.round(eachBarWidth),\n\t\t\t\t\toffset: Math.round(offset),\n\t\t\t\t\theight: h,\n\t\t\t\t\twidth: barWidth,\n\t\t\t\t};\n\t\t\t});\n\t// console.log(bars)\n\n\treturn after(bars);\n}\n\nexport default StackedBarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/StackedBarSeries.jsx","\"use strict\";\n\nimport React from \"react\";\n\nimport { hexToRGBA, isDefined } from \"../utils\";\n\n/* eslint-disable react/prop-types */\nexport function renderSVG(props) {\n\tvar { className } = props;\n\n\tvar edge = helper(props);\n\tif (edge === null) return null;\n\tvar line, coordinateBase, coordinate;\n\n\tif (isDefined(edge.line)) {\n\t\tline = <line\n\t\t\tclassName=\"react-stockcharts-cross-hair\" opacity={edge.line.opacity} stroke={edge.line.stroke}\n\t\t\tx1={edge.line.x1} y1={edge.line.y1}\n\t\t\tx2={edge.line.x2} y2={edge.line.y2} />;\n\t}\n\tif (isDefined(edge.coordinateBase)) {\n\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tvar path = edge.orient === \"left\"\n\t\t\t? `M0,0L0,${ rectHeight }L${ rectWidth },${ rectHeight }L${ rectWidth + arrowWidth },10L${ rectWidth },0L0,0L0,0`\n\t\t\t: `M0,${ arrowWidth }L${ arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },0L${ arrowWidth },0L0,${ arrowWidth }`;\n\n\t\tcoordinateBase = edge.orient === \"left\" || edge.orient === \"right\"\n\t\t\t? <g transform={`translate(${edge.coordinateBase.edgeXRect},${edge.coordinateBase.edgeYRect})`}>\n\t\t\t\t\t<path d={path} key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />\n\t\t\t\t</g>\n\t\t\t: <rect key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\tx={edge.coordinateBase.edgeXRect}\n\t\t\t\t\ty={edge.coordinateBase.edgeYRect}\n\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />;\n\n\t\tcoordinate = (<text key={2} x={edge.coordinate.edgeXText}\n\t\t\ty={edge.coordinate.edgeYText}\n\t\t\ttextAnchor={edge.coordinate.textAnchor}\n\t\t\tfontFamily={edge.coordinate.fontFamily}\n\t\t\tfontSize={edge.coordinate.fontSize}\n\t\t\tdy=\".32em\" fill={edge.coordinate.textFill} >{edge.coordinate.displayCoordinate}</text>);\n\t}\n\treturn (\n\t\t<g className={className}>\n\t\t\t{line}\n\t\t\t{coordinateBase}\n\t\t\t{coordinate}\n\t\t</g>\n\t);\n}\n/* eslint-enable react/prop-types */\n\nfunction helper(props) {\n\tvar { coordinate: displayCoordinate, show, type, orient, edgeAt, hideLine } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, lineStroke, lineOpacity, arrowWidth } = props;\n\tvar { rectWidth, rectHeight } = props;\n\tvar { x1, y1, x2, y2, dx } = props;\n\n\tif (!show) return null;\n\n\t// rectWidth = rectWidth ? rectWidth : (type === \"horizontal\") ? 60 : 100;\n\n\tvar edgeXRect, edgeYRect, edgeXText, edgeYText;\n\n\tif (type === \"horizontal\") {\n\n\t\tedgeXRect = dx + ((orient === \"right\") ? edgeAt + 1 : edgeAt - rectWidth - arrowWidth - 1);\n\t\tedgeYRect = y1 - (rectHeight / 2);\n\t\tedgeXText = dx + ((orient === \"right\") ? edgeAt + (rectWidth / 2) + arrowWidth : edgeAt - (rectWidth / 2) - arrowWidth);\n\t\tedgeYText = y1;\n\t} else {\n\t\tedgeXRect = x1 - (rectWidth / 2);\n\t\tedgeYRect = (orient === \"bottom\") ? edgeAt : edgeAt - rectHeight;\n\t\tedgeXText = x1;\n\t\tedgeYText = (orient === \"bottom\") ? edgeAt + (rectHeight / 2) : edgeAt - (rectHeight / 2);\n\t}\n\tvar coordinateBase, coordinate, textAnchor = \"middle\";\n\tif (isDefined(displayCoordinate)) {\n\t\tcoordinateBase = {\n\t\t\tedgeXRect, edgeYRect, rectHeight, rectWidth, fill, opacity, arrowWidth\n\t\t};\n\t\tcoordinate = {\n\t\t\tedgeXText, edgeYText, textAnchor, fontFamily, fontSize, textFill, displayCoordinate\n\t\t};\n\t}\n\n\tvar line = hideLine ? undefined : {\n\t\topacity: lineOpacity, stroke: lineStroke, x1, y1, x2, y2\n\t};\n\treturn {\n\t\tcoordinateBase, coordinate, line, orient\n\t};\n}\n\nexport function drawOnCanvas(ctx, props) {\n\tvar edge = helper(props);\n\n\tif (edge === null) return;\n\n\tif (isDefined(edge.coordinateBase)) {\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tctx.fillStyle = hexToRGBA(edge.coordinateBase.fill, edge.coordinateBase.opacity);\n\n\t\tvar x = edge.coordinateBase.edgeXRect;\n\t\tvar y = edge.coordinateBase.edgeYRect;\n\n\t\tctx.beginPath();\n\n\t\tif (edge.orient === \"right\") {\n\t\t\tctx.moveTo(x, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight);\n\t\t\tctx.lineTo(x + arrowWidth, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else if (edge.orient === \"left\") {\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + rectWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + rectWidth, y + rectHeight);\n\t\t\tctx.lineTo(x, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else {\n\t\t\tctx.rect(x, y, rectWidth, rectHeight);\n\t\t}\n\t\tctx.fill();\n\n\t\tctx.font = `${ edge.coordinate.fontSize }px ${edge.coordinate.fontFamily}`;\n\t\tctx.fillStyle = edge.coordinate.textFill;\n\t\tctx.textAlign = edge.coordinate.textAnchor === \"middle\" ? \"center\" : edge.coordinate.textAnchor;\n\t\tctx.textBaseline = \"middle\";\n\n\t\tctx.fillText(edge.coordinate.displayCoordinate, edge.coordinate.edgeXText, edge.coordinate.edgeYText);\n\t}\n\tif (isDefined(edge.line)) {\n\t\tctx.strokeStyle = hexToRGBA(edge.line.stroke, edge.line.opacity);\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(edge.line.x1, edge.line.y1);\n\t\tctx.lineTo(edge.line.x2, edge.line.y2);\n\t\tctx.stroke();\n\t}\n}\n\n// export default EdgeCoordinate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/EdgeCoordinateV2.jsx","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow, last, isDefined } from \"../../utils\";\n\nexport default function() {\n\n\tvar windowSize = 9,\n\t\tsource = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction calculator(data) {\n\n\t\tvar trueRangeAlgorithm = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.source(source)\n\t\t\t.undefinedValue(d => d.high - d.low) // the first TR value is simply the High minus the Low\n\t\t\t.accumulator(values => {\n\t\t\t\tvar prev = values[0];\n\t\t\t\tvar d = values[1];\n\t\t\t\treturn Math.max(d.high - d.low,\n\t\t\t\t\td.high - prev.close,\n\t\t\t\t\td.low - prev.close);\n\t\t\t});\n\n\t\tvar prevATR;\n\n\t\tvar atrAlgorithm = slidingWindow()\n\t\t\t.skipInitial(1) // trueRange starts from index 1 so ATR starts from 1\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\t\t\t\tvar tr = last(values);\n\t\t\t\tvar atr = isDefined(prevATR)\n\t\t\t\t\t? ((prevATR * (windowSize - 1)) + tr) / windowSize\n\t\t\t\t\t: d3.sum(values) / windowSize;\n\n\t\t\t\tprevATR = atr;\n\t\t\t\treturn atr;\n\t\t\t});\n\n\t\tvar newData = atrAlgorithm(trueRangeAlgorithm(data));\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/atr.js","\"use strict\";\n\nimport React from \"react\";\nimport d3 from \"d3\";\nimport flattenDeep from \"lodash.flattendeep\";\n\nimport Chart from \"../Chart\";\n\nimport {\n\tisObject,\n\tgetClosestItem,\n\tzipper,\n\tisDefined,\n} from \"./index\";\n\nexport function getChartOrigin(origin, contextWidth, contextHeight) {\n\tvar originCoordinates = typeof origin === \"function\"\n\t\t? origin(contextWidth, contextHeight)\n\t\t: origin;\n\treturn originCoordinates;\n}\n\nexport function getDimensions({ width, height }, chartProps) {\n\n\tvar chartWidth = (chartProps.width || width);\n\tvar chartHeight = (chartProps.height || height);\n\n\treturn {\n\t\tavailableWidth: width,\n\t\tavailableHeight: height,\n\t\twidth: chartWidth,\n\t\theight: chartHeight\n\t};\n}\n\nfunction values(func) {\n\treturn (d) => {\n\t\tvar obj = func(d);\n\t\treturn isObject(obj) ? Object.keys(obj).map(key => obj[key]) : obj;\n\t};\n}\n\nexport function getNewChartConfig(innerDimension, children) {\n\n\treturn React.Children.map(children, (each) => {\n\t\tif (each.type === Chart) {\n\t\t\tvar { id, origin, padding, yExtents: yExtentsProp, yScale, flipYScale, yExtentsCalculator } = each.props;\n\t\t\tvar { width, height, availableWidth, availableHeight } = getDimensions(innerDimension, each.props);\n\t\t\tvar { yPan } = each.props;\n\t\t\t// var { yMousePointerRectWidth: rectWidth, yMousePointerRectHeight: rectHeight, yMousePointerArrowWidth: arrowWidth } = each.props;\n\t\t\t// var mouseCoordinates = { at, yDisplayFormat, rectHeight, rectWidth, arrowWidth };\n\t\t\tvar yExtents = isDefined(yExtentsProp)\n\t\t\t\t? (Array.isArray(yExtentsProp) ? yExtentsProp : [yExtentsProp]).map(d3.functor)\n\t\t\t\t: undefined;\n\t\t\t// console.log(yExtentsProp, yExtents);\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\torigin: d3.functor(origin)(availableWidth, availableHeight),\n\t\t\t\tpadding,\n\t\t\t\tyExtents,\n\t\t\t\tyExtentsCalculator,\n\t\t\t\tflipYScale,\n\t\t\t\tyScale,\n\t\t\t\tyPan,\n\t\t\t\t// mouseCoordinates,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}).filter(each => isDefined(each));\n}\nexport function getCurrentCharts(chartConfig, mouseXY) {\n\tvar currentCharts = chartConfig.filter(eachConfig => {\n\t\tvar top = eachConfig.origin[1];\n\t\tvar bottom = top + eachConfig.height;\n\t\treturn (mouseXY[1] > top && mouseXY[1] < bottom);\n\t}).map(config => config.id);\n\n\treturn currentCharts;\n}\n\nfunction setRange(scale, height, padding, flipYScale) {\n\tif (scale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\tscale.rangeRoundPoints(flipYScale ? [0, height] : [height, 0], padding);\n\t} else {\n\t\tvar { top, bottom } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { top: padding, bottom: padding };\n\n\t\tscale.range(flipYScale ? [top, height - bottom] : [height - bottom, top]);\n\t}\n\treturn scale;\n}\n\nfunction yDomainFromYExtents(yExtents, yScale, plotData) {\n\tvar yValues = yExtents.map(eachExtent =>\n\t\tplotData.map(values(eachExtent)));\n\n\tvar allYValues = flattenDeep(yValues);\n\n\tvar realYDomain =  (yScale.invert)\n\t\t? d3.extent(allYValues)\n\t\t: d3.set(allYValues).values();\n\n\treturn realYDomain;\n}\n\n\nexport function getChartConfigWithUpdatedYScales(chartConfig, plotData, dy, chartsToPan) {\n\n\tvar yDomains = chartConfig\n\t\t.map(({ yExtentsCalculator, yExtents, yScale }) => {\n\n\t\t\tvar realYDomain = isDefined(yExtentsCalculator)\n\t\t\t\t? yExtentsCalculator(plotData)\n\t\t\t\t: yDomainFromYExtents(yExtents, yScale, plotData);\n\n\t\t\tvar yDomainDY = isDefined(dy)\n\t\t\t\t\t? yScale.range().map(each => each - dy).map(yScale.invert)\n\t\t\t\t\t: yScale.domain();\n\t\t\treturn {\n\t\t\t\trealYDomain,\n\t\t\t\tyDomainDY,\n\t\t\t\tprevYDomain: yScale.domain(),\n\t\t\t};\n\t\t});\n\n\tvar combine = zipper()\n\t\t.combine((config, { realYDomain, yDomainDY, prevYDomain }) => {\n\t\t\tvar { id, padding, height, yScale, yPan, flipYScale, yPanEnabled = false } = config;\n\n\t\t\tvar another = isDefined(chartsToPan)\n\t\t\t\t? chartsToPan.indexOf(id) > -1\n\t\t\t\t: true;\n\t\t\tvar domain = yPan && yPanEnabled\n\t\t\t\t? another ? yDomainDY : prevYDomain\n\t\t\t\t: realYDomain;\n\t\t\t// console.log(yPan, yPanEnabled, properYDomain, domain, realYDomain)\n\t\t\treturn {\n\t\t\t\t...config,\n\t\t\t\tyScale: setRange(yScale.copy().domain(domain), height, padding, flipYScale),\n\t\t\t\trealYDomain,\n\t\t\t};\n\t\t\t// return { ...config, yScale: yScale.copy().domain(domain).range([height - padding, padding]) };\n\t\t});\n\n\tvar updatedChartConfig = combine(chartConfig, yDomains);\n\treturn updatedChartConfig;\n}\n\nexport function getCurrentItem(xScale, xAccessor, mouseXY, plotData) {\n\tvar xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t} else {\n\t\tvar d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn item;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/ChartDataUtil.js","\"use strict\";\n\nimport { Component } from \"react\";\nimport shallowEqual from \"./shallowEqual\";\n\nclass PureComponent extends Component {\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\treturn !shallowEqual(this.props, nextProps)\n\t\t\t|| !shallowEqual(this.state, nextState)\n\t\t\t|| !shallowEqual(this.context, nextContext);\n\t}\n}\n\nexport default PureComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/PureComponent.js","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport PureComponent from \"./utils/PureComponent\";\nimport { isNotDefined } from \"./utils\";\n\nclass Chart extends PureComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.yScale = this.yScale.bind(this);\n\t}\n\tyScale() {\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\treturn chartConfig.yScale.copy();\n\t}\n\tgetChildContext() {\n\t\tvar { id: chartId } = this.props;\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === chartId)[0];\n\n\t\tvar { width, height } = chartConfig;\n\t\tvar canvasOriginX = 0.5 + chartConfig.origin[0] + this.context.margin.left;\n\t\tvar canvasOriginY = 0.5 + chartConfig.origin[1] + this.context.margin.top;\n\n\t\treturn { chartId, chartConfig, canvasOriginX, canvasOriginY, width, height };\n\t}\n\trender() {\n\t\tvar { origin } = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\tvar [x, y] = origin;\n\n\t\treturn <g transform={`translate(${ x }, ${ y })`}>{this.props.children}</g>;\n\t}\n}\n\nChart.propTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tid: PropTypes.number.isRequired,\n\tyExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]),\n\tyExtentsCalculator: function(props, propName, componentName) {\n\t\tif (isNotDefined(props.yExtents) && typeof props.yExtentsCalculator !== \"function\")\n\t\t\treturn new Error(\"yExtents or yExtentsCalculator must\"\n\t\t\t\t+ ` be present on ${componentName}. Validation failed.`);\n\t},\n\tyScale: PropTypes.func.isRequired,\n\tyMousePointerDisplayLocation: PropTypes.oneOf([\"left\", \"right\"]),\n\tyMousePointerDisplayFormat: PropTypes.func,\n\tflipYScale: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\ttop: PropTypes.number,\n\t\t\tbottom: PropTypes.number,\n\t\t})\n\t]).isRequired,\n\tchildren: PropTypes.node,\n};\n\nChart.defaultProps = {\n\tid: 0,\n\torigin: [0, 0],\n\tpadding: 0,\n\tyScale: d3.scale.linear(),\n\tflipYScale: false,\n\tyPan: true,\n};\n\nChart.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\tmargin: PropTypes.object.isRequired,\n\n\t// adding here even when this is not used by Chart, refer to https://github.com/facebook/react/issues/2517\n\t// used by CurrentCoordinate\n\t// currentItem: PropTypes.object,\n\t// mouseXY: PropTypes.array,\n\t// show: PropTypes.bool,\n};\n\nChart.childContextTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\tchartConfig: PropTypes.object.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartId: PropTypes.number.isRequired,\n};\n\nexport default Chart;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/Chart.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\n\t\tvar { xAccessor, xScale, yScale } = this.props;\n\n\t\tvar { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<text x={xPos} y={yPos}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttextAnchor={textAnchor}>{text}</text>\n\t\t</g>);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: d3.functor(text)(datum),\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.func,\n\ty: PropTypes.func,\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/LabelAnnotation.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport AxisZoomCapture from \"./AxisZoomCapture\";\n\nimport { first, last, hexToRGBA, isNotDefined, isDefined, identity } from \"../utils\";\n\nclass Axis extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { showDomain, showTicks, transform, range, getScale } = this.props;\n\n\t\tctx.save();\n\t\tctx.translate(transform[0], transform[1]);\n\n\t\tif (showDomain) drawAxisLine(ctx, this.props, range);\n\t\tif (showTicks) {\n\t\t\tvar tickProps = tickHelper(this.props, getScale(moreProps));\n\t\t\tdrawTicks(ctx, tickProps);\n\t\t}\n\n\t\tctx.restore();\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar { showDomain, showTicks, range, getScale } = this.props;\n\n\t\tvar ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n\t\tvar domain = showDomain ? axisLineSVG(this.props, range) : null;\n\n\t\treturn <g className={className}>\n\t\t\t{ticks}\n\t\t\t{domain}\n\t\t</g>;\n\t}\n\tgetMoreProps() {\n\t\treturn this.refs.propProvider.getMoreProps();\n\t}\n\trender() {\n\t\tvar { bg, axisZoomCallback, zoomCursorClassName, zoomEnabled, getScale } = this.props;\n\t\tvar { transform, getMouseDelta, edgeClip } = this.props;\n\n\t\tvar zoomCapture = zoomEnabled\n\t\t\t? <AxisZoomCapture\n\t\t\t\tbg={bg}\n\t\t\t\tgetScale={getScale}\n\t\t\t\tgetMoreProps={this.getMoreProps}\n\t\t\t\tgetMouseDelta={getMouseDelta}\n\t\t\t\taxisZoomCallback={axisZoomCallback}\n\t\t\t\tzoomCursorClassName={zoomCursorClassName} />\n\t\t\t: null;\n\n\t\treturn <g transform={`translate(${ transform[0] }, ${ transform[1] })`}>\n\t\t\t{zoomCapture}\n\t\t\t<GenericChartComponent ref=\"propProvider\"\n\t\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\t\tclip={false}\n\t\t\t\tedgeClip={edgeClip}\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t\tdrawOnPan\n\t\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nAxis.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\tzoomEnabled: PropTypes.bool,\n\tzoomCursorClassName: PropTypes.string,\n\ttransform: PropTypes.arrayOf(PropTypes.number).isRequired,\n\trange: PropTypes.arrayOf(PropTypes.number).isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tbg: PropTypes.object.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n};\n\nAxis.defaultProps = {\n\tzoomEnabled: false,\n\tzoomCursorClassName: \"\",\n\tedgeClip: false,\n};\n\nAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nfunction tickTransform_svg_axisX(scale, tick) {\n\treturn [Math.round(scale(tick)), 0];\n}\n\nfunction tickTransform_svg_axisY(scale, tick) {\n\treturn [0, Math.round(scale(tick))];\n}\n\nfunction tickHelper(props, scale) {\n\tvar { orient, innerTickSize, tickFormat, tickPadding, fontSize, fontFamily } = props;\n\tvar { ticks: tickArguments, tickValues, tickStroke, tickStrokeOpacity } = props;\n\n\tif (tickArguments) tickArguments = [tickArguments];\n\n\tvar ticks = isNotDefined(tickValues)\n\t\t? (isDefined(scale.ticks)\n\t\t\t? scale.ticks.apply(scale, tickArguments)\n\t\t\t: scale.domain())\n\t\t: tickValues;\n\n\tvar baseFormat = scale.tickFormat\n\t\t\t? scale.tickFormat.apply(scale, tickArguments)\n\t\t\t: identity;\n\n\tvar format = isNotDefined(tickFormat)\n\t\t? baseFormat\n\t\t: d => baseFormat(d) ? tickFormat(d) : \"\";\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n\n\tvar tickTransform, x, y, x2, y2, dy, canvas_dy, textAnchor;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\ttickTransform = tickTransform_svg_axisX;\n\t\tx2 = 0;\n\t\ty2 = sign * innerTickSize;\n\t\tx = 0;\n\t\ty = sign * tickSpacing;\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\n\t\ttextAnchor = \"middle\";\n\t} else {\n\t\ttickTransform = tickTransform_svg_axisY;\n\t\tx2 = sign * innerTickSize;\n\t\ty2 = 0;\n\t\tx = sign * tickSpacing;\n\t\ty = 0;\n\t\tdy = \".32em\";\n\t\tcanvas_dy = (fontSize * .32);\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\n\t}\n\treturn { ticks, scale, tickTransform, tickStroke, tickStrokeOpacity, dy, canvas_dy, x, y, x2, y2, textAnchor, fontSize, fontFamily, format };\n}\n\n/* eslint-disable react/prop-types */\nfunction axisLineSVG(props, range) {\n\tvar { orient, outerTickSize } = props;\n\tvar { domainClassName, fill, stroke, strokeWidth, opacity } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\n\tvar d;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n\t} else {\n\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n\t}\n\n\treturn (\n\t\t<path\n\t\t\tclassName={domainClassName}\n\t\t\td={d}\n\t\t\tfill={fill}\n\t\t\topacity={opacity}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={strokeWidth} >\n\t\t</path>\n\t);\n}\n/* eslint-enable react/prop-types */\n\n\nfunction drawAxisLine(ctx, props, range) {\n\t// props = { ...AxisLine.defaultProps, ...props };\n\n\tvar { orient, outerTickSize, stroke, strokeWidth, opacity } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.beginPath();\n\n\tif (xAxis) {\n\t\tctx.moveTo(first(range), sign * outerTickSize);\n\t\tctx.lineTo(first(range), 0);\n\t\tctx.lineTo(last(range), 0);\n\t\tctx.lineTo(last(range), sign * outerTickSize);\n\t} else {\n\t\tctx.moveTo(sign * outerTickSize, first(range));\n\t\tctx.lineTo(0, first(range));\n\t\tctx.lineTo(0, last(range));\n\t\tctx.lineTo(sign * outerTickSize, last(range));\n\t}\n\tctx.stroke();\n}\n\nfunction Tick(props) {\n\tvar { transform, tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily } = props;\n\tvar { x, y, x2, y2, dy } = props;\n\treturn (\n\t\t<g className=\"tick\" transform={`translate(${ transform[0] }, ${ transform[1] })`} >\n\t\t\t<line shapeRendering=\"crispEdges\" opacity={tickStrokeOpacity} stroke={tickStroke} x2={x2} y2={y2} />\n\t\t\t<text\n\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\tfill={tickStroke}\n\t\t\t\tfontSize={fontSize}\n\t\t\t\tfontFamily={fontFamily}\n\t\t\t\ttextAnchor={textAnchor}>\n\t\t\t\t{props.children}\n\t\t\t</text>\n\t\t</g>\n\t);\n}\n\nTick.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tx2: PropTypes.number.isRequired,\n\ty2: PropTypes.number.isRequired,\n\tdy: PropTypes.string.isRequired,\n\ttransform: PropTypes.array,\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfontFamily: PropTypes.string,\n};\n\nfunction axisTicksSVG(props, scale) {\n\tvar result = tickHelper(props, scale);\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, tickTransform } = result;\n\tvar { fontSize, fontFamily, ticks, format } = result;\n\n\tvar { dy, x, y, x2, y2 } = result;\n\n\treturn (\n\t\t<g>\n\t\t\t{ticks.map((tick, idx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Tick key={idx} transform={tickTransform(scale, tick)}\n\t\t\t\t\t\ttickStroke={tickStroke} tickStrokeOpacity={tickStrokeOpacity}\n\t\t\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\t\t\tx2={x2} y2={y2} textAnchor={textAnchor}\n\t\t\t\t\t\tfontSize={fontSize} fontFamily={fontFamily}>{format(tick)}</Tick>\n\t\t\t\t);\n\t\t\t})}\n\t\t</g>\n\t);\n}\n\nfunction drawTicks(ctx, result) {\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily, ticks } = result;\n\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\n\n\tctx.font = `${ fontSize }px ${fontFamily}`;\n\tctx.fillStyle = tickStroke;\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\t// ctx.textBaseline = 'middle';\n\n\tticks.forEach((tick) => {\n\t\tdrawEachTick(ctx, tick, result);\n\t});\n}\n\nfunction drawEachTick(ctx, tick, result) {\n\tvar { scale, tickTransform, canvas_dy, x, y, x2, y2, format } = result;\n\n\tvar origin = tickTransform(scale, tick);\n\n\tctx.beginPath();\n\n\tctx.moveTo(origin[0], origin[1]);\n\tctx.lineTo(origin[0] + x2, origin[1] + y2);\n\tctx.stroke();\n\n\tctx.fillText(format(tick), origin[0] + x, origin[1] + y + canvas_dy);\n}\n\nexport default Axis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/Axis.jsx","import React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\nimport { head, last, noop } from \"../utils\";\nimport { getCurrentItem } from \"../utils/ChartDataUtil\";\n\nclass InteractiveLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\n\t\tthis.handleEdgeDrag1 = this.handleEdgeDrag1.bind(this);\n\t\tthis.handleEdgeDrag2 = this.handleEdgeDrag2.bind(this);\n\t\tthis.handleEdgeDragEnd = this.handleEdgeDragEnd.bind(this);\n\t}\n\thandleMouseDown(e) {\n\t\te.preventDefault();\n\n\t\tvar win = d3Window(this.refs.component.getRef(\"capture\"));\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\tvar mouseXY = [e.pageX, e.pageY];\n\n\t\tvar { x1Value, x2Value, y1Value, y2Value } = this.props;\n\n\t\tthis.moveStartPosition = {\n\t\t\tmouseXY,\n\t\t\tx1Value, x2Value, y1Value, y2Value\n\t\t};\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { mouseXY, x1Value, x2Value, y1Value, y2Value } = this.moveStartPosition;\n\t\tvar x1 = xScale(x1Value);\n\t\tvar y1 = yScale(y1Value);\n\t\tvar x2 = xScale(x2Value);\n\t\tvar y2 = yScale(y2Value);\n\n\t\tvar newPos = [e.pageX, e.pageY];\n\n\t\tvar dx = mouseXY[0] - newPos[0];\n\t\tvar dy = mouseXY[1] - newPos[1];\n\n\t\tvar newX1Value = xAccessor(getCurrentItem(xScale, xAccessor, [x1 - dx, y1 - dy], plotData));\n\t\tvar newY1Value = yScale.invert(y1 - dy);\n\t\tvar newX2Value = xAccessor(getCurrentItem(xScale, xAccessor, [x2 - dx, y2 - dy], plotData));\n\t\tvar newY2Value = yScale.invert(y2 - dy);\n\n\t\tthis.props.onDrag(this.props.echo, {\n\t\t\tx1Value: newX1Value,\n\t\t\ty1Value: newY1Value,\n\t\t\tx2Value: newX2Value,\n\t\t\ty2Value: newY2Value,\n\t\t\tdx, dy\n\t\t}, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, e);\n\t}\n\thandleDragEnd() {\n\t\tvar e = d3.event;\n\t\tthis.moveStartPosition = null;\n\n\t\tvar win = d3Window(this.refs.component.getRef(\"capture\"));\n\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.props.onDragComplete(this.props.echo, e);\n\t}\n\thandleEdgeDrag1(edge, origEdge, e) {\n\t\tvar [newCX, newCY] = edge;\n\t\tvar [cx, cy] = origEdge;\n\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { x2Value, y2Value } = this.props;\n\n\t\tvar newXValue = xAccessor(getCurrentItem(xScale, xAccessor, [newCX, newCY], plotData));\n\t\tvar newYValue = yScale.invert(newCY);\n\t\tvar oldXValue = xAccessor(getCurrentItem(xScale, xAccessor, [cx, cy], plotData));\n\t\tvar oldYValue = yScale.invert(cy);\n\n\t\tthis.props.onEdge1Drag(this.props.echo, {\n\t\t\tx1Value: newXValue,\n\t\t\ty1Value: newYValue,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, {\n\t\t\tx1Value: oldXValue,\n\t\t\ty1Value: oldYValue,\n\t\t\tx2Value,\n\t\t\ty2Value,\n\t\t}, e);\n\t}\n\thandleEdgeDrag2(edge, origEdge, e) {\n\t\tvar [newCX, newCY] = edge;\n\t\tvar [cx, cy] = origEdge;\n\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { x1Value, y1Value } = this.props;\n\n\t\tvar newXValue = xAccessor(getCurrentItem(xScale, xAccessor, [newCX, newCY], plotData));\n\t\tvar newYValue = yScale.invert(newCY);\n\t\tvar oldXValue = xAccessor(getCurrentItem(xScale, xAccessor, [cx, cy], plotData));\n\t\tvar oldYValue = yScale.invert(cy);\n\n\t\tthis.props.onEdge2Drag(this.props.echo, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value: newXValue,\n\t\t\ty2Value: newYValue,\n\t\t}, {\n\t\t\tx1Value,\n\t\t\ty1Value,\n\t\t\tx2Value: oldXValue,\n\t\t\ty2Value: oldYValue,\n\t\t}, e);\n\t}\n\thandleEdgeDragEnd(e) {\n\t\tthis.props.onDragComplete(this.props.echo, e);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { x1Value, x2Value, y1Value, y2Value, withEdge, type } = this.props;\n\t\tvar { defaultClassName, stroke, strokeWidth, opacity } = this.props;\n\t\tvar { r, edgeFill, edgeStroke, edgeStrokeWidth, children } = this.props;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar modLine = generateLine(type,\n\t\t\t[x1Value, y1Value],\n\t\t\t[x2Value, y2Value], xAccessor, plotData);\n\n\t\tvar x1 = xScale(modLine.x1);\n\t\tvar y1 = yScale(modLine.y1);\n\t\tvar x2 = xScale(modLine.x2);\n\t\tvar y2 = yScale(modLine.y2);\n\t\tvar childrenToRender = children(moreProps, this.props, modLine);\n\n\t\treturn <g ref=\"capture\">\n\t\t\t<line\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\t\topacity={opacity} />\n\t\t\t<line className={defaultClassName}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\tstroke={stroke} strokeWidth={8} opacity={0} />\n\t\t\t{withEdge ? <ClickableCircle className={defaultClassName}\n\t\t\t\tonDrag={this.handleEdgeDrag1}\n\t\t\t\tonDragComplete={this.handleEdgeDragEnd}\n\t\t\t\tcx={x1} cy={y1} r={r}\n\t\t\t\tfill={edgeFill} stroke={edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\thoverOpacity={1} /> : null }\n\t\t\t{withEdge ? <ClickableCircle className={defaultClassName}\n\t\t\t\tonDrag={this.handleEdgeDrag2}\n\t\t\t\tonDragComplete={this.handleEdgeDragEnd}\n\t\t\t\tcx={x2} cy={y2} r={r}\n\t\t\t\tfill={edgeFill} stroke={edgeStroke}\n\t\t\t\tstrokeWidth={edgeStrokeWidth}\n\t\t\t\thoverOpacity={1} /> : null }\n\t\t\t{childrenToRender}\n\t\t</g>;\n\n\t}\n\trender() {\n\t\t// console.log(\"FOO\")\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nfunction generateLine(type, start, end, xAccessor, plotData) {\n\t/* if (end[0] - start[0] === 0) {\n\t\t// vertical line\n\t\tthrow new Error(\"Trendline cannot be a vertical line\")\n\t} */\n\tvar m /* slope */ = end[0] === start[0] ? 0 : (end[1] - start[1]) / (end[0] - start[0]);\n\t// console.log(end[0] - start[0], m)\n\tvar b /* y intercept */ = -1 * m * end[0] + end[1];\n\t// y = m * x + b\n\tvar x1 = type === \"XLINE\"\n\t\t? xAccessor(head(plotData))\n\t\t: start[0]; // RAY or LINE start is the same\n\n\tvar y1 = m * x1 + b;\n\n\tvar x2 = type === \"XLINE\"\n\t\t? xAccessor(last(plotData))\n\t\t: type === \"RAY\"\n\t\t\t? end[0] > start[0] ? xAccessor(last(plotData)) : xAccessor(head(plotData))\n\t\t\t: end[0];\n\tvar y2 = m * x2 + b;\n\treturn { x1, y1, x2, y2 };\n}\n\nInteractiveLine.propTypes = {\n\tx1Value: PropTypes.any.isRequired,\n\tx2Value: PropTypes.any.isRequired,\n\ty1Value: PropTypes.any.isRequired,\n\ty2Value: PropTypes.any.isRequired,\n\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]).isRequired,\n\tonDrag: PropTypes.func.isRequired,\n\tonEdge1Drag: PropTypes.func.isRequired,\n\tonEdge2Drag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tedgeFill: PropTypes.string.isRequired,\n\tdefaultClassName: PropTypes.string,\n\techo: PropTypes.any,\n\tedgeStroke: PropTypes.string.isRequired,\n\tedgeStrokeWidth: PropTypes.number.isRequired,\n\twithEdge: PropTypes.bool.isRequired,\n\tchildren: PropTypes.func.isRequired,\n};\n\nInteractiveLine.defaultProps = {\n\tonDrag: noop,\n\tonEdge1Drag: noop,\n\tonEdge2Drag: noop,\n\tonDragComplete: noop,\n\tedgeStrokeWidth: 3,\n\tedgeStroke: \"#000000\",\n\tedgeFill: \"#FFFFFF\",\n\tr: 10,\n\twithEdge: false,\n\tstrokeWidth: 1,\n\tchildren: noop,\n};\n\nInteractiveLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nclass ClickableCircle extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t};\n\t}\n\thandleMouseEnter() {\n\t\tthis.setState({\n\t\t\thover: true,\n\t\t});\n\t}\n\thandleMouseLeave() {\n\t\tthis.setState({\n\t\t\thover: false,\n\t\t});\n\t}\n\thandleMouseDown(e) {\n\t\te.preventDefault();\n\n\t\tvar win = d3Window(this.refs.edge);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\tvar mouseXY = [e.pageX, e.pageY];\n\n\t\tvar { cx, cy } = this.props;\n\n\t\tthis.moveStartPosition = {\n\t\t\tmouseXY,\n\t\t\tcx, cy,\n\t\t};\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\tvar newPos = [e.pageX, e.pageY];\n\n\t\tvar { mouseXY, cx, cy } = this.moveStartPosition;\n\n\t\tvar dx = mouseXY[0] - newPos[0];\n\t\tvar dy = mouseXY[1] - newPos[1];\n\n\t\tvar newCX = cx - dx;\n\t\tvar newCY = cy - dy;\n\n\t\tthis.props.onDrag([newCX, newCY], [cx, cy], e);\n\t}\n\thandleDragEnd() {\n\t\tvar e = d3.event;\n\t\tthis.moveStartPosition = null;\n\n\t\tvar win = d3Window(this.refs.edge);\n\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.props.onDragComplete(e);\n\t}\n\trender() {\n\t\tvar { className, cx, cy, r, fill, stroke, strokeWidth, hoverOpacity } = this.props;\n\t\tvar opacity = this.state.hover ? hoverOpacity : 0;\n\t\treturn <circle ref=\"edge\" className={className}\n\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tcx={cx} cy={cy} r={r}\n\t\t\t\tfill={fill} stroke={stroke}\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\topacity={opacity} />;\n\t}\n}\n\nClickableCircle.propTypes = {\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\thoverOpacity: PropTypes.number.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tr: PropTypes.number.isRequired,\n\tcx: PropTypes.number.isRequired,\n\tcy: PropTypes.number.isRequired,\n\tclassName: PropTypes.string.isRequired,\n};\n\n\nClickableCircle.defaultProps = {\n\tonDrag: noop,\n\tonDragComplete: noop,\n};\n\n\nexport default InteractiveLine;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/InteractiveLine.jsx","import React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, getClosestValue } from \"../utils\";\nimport { noop, shallowEqual } from \"../utils\";\n// import { getCurrentCharts } from \"../utils/ChartDataUtil\";\n\nclass MouseLocationIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\n\t\tthis.handleMousePosChange = this.handleMousePosChange.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.xy = this.xy.bind(this);\n\n\t\tthis.mutableState = {};\n\t}\n\thandleMouseDown(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onMouseDown([xValue, yValue], e);\n\t\t}\n\t}\n\thandleClick(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onClick([xValue, yValue], e);\n\t\t}\n\t}\n\txy(moreProps, e) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { mouseXY, currentItem, xScale, chartConfig: { yScale } } = moreProps;\n\t\tvar { enabled, snap, shouldDisableSnap, snapTo } = this.props;\n\n\t\tif (enabled && isDefined(currentItem) && isDefined(e)) {\n\n\t\t\tvar xValue = xAccessor(currentItem);\n\t\t\tvar yValue = snap && !shouldDisableSnap(e)\n\t\t\t\t? getClosestValue(snapTo(currentItem), yScale.invert(mouseXY[1]))\n\t\t\t\t: yScale.invert(mouseXY[1]);\n\n\t\t\tvar x = xScale(xValue);\n\t\t\tvar y = yScale(yValue);\n\n\t\t\treturn { xValue, yValue, x, y };\n\t\t}\n\t}\n\thandleMousePosChange(e) {\n\t\t// var { idx, onMouseEnter } = this.props;\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\t\tvar prevMoreProps = this.refs.component.getPrevMoreProps();\n\n\t\tif (!shallowEqual(moreProps.mousXY, prevMoreProps.mouseXY)) {\n\t\t\tvar pos = this.xy(moreProps, e);\n\t\t\t// console.log(\"HERE11\", pos)\n\t\t\tif (isDefined(pos)) {\n\t\t\t\tvar { xValue, yValue, x, y } = pos;\n\t\t\t\tthis.mutableState = { x, y };\n\t\t\t\tthis.props.onMouseMove([xValue, yValue], e);\n\t\t\t}\n\t\t}\n\t\t// console.log(this.refs.component.getRef(\"capture\"))\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { enabled, r, stroke, strokeWidth, opacity } = this.props;\n\t\tvar { x, y } = this.mutableState;\n\t\tvar { show } = moreProps;\n\t\t// console.log(\"HERE\")\n\n\t\t// console.log(stroke, strokeWidth, opacity)\n\t\treturn enabled && show && isDefined(x)\n\t\t\t? <circle ref=\"capture\"\n\t\t\t\tclassName=\"react-stockcharts-avoid-interaction\"\n\t\t\t\tcx={x}\n\t\t\t\tcy={y}\n\t\t\t\tr={r}\n\t\t\t\tstroke={stroke}\n\t\t\t\topacity={opacity}\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth} />\n\t\t\t: null;\n\n\t}\n\trender() {\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tonMouseMove={this.handleMousePosChange}\n\t\t\tisHover={d3.functor(true)}\n\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseLocationIndicator.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tsnap: PropTypes.bool.isRequired,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tsnapTo: PropTypes.func,\n\n\tonMouseMove: PropTypes.func.isRequired,\n\tonMouseDown: PropTypes.func.isRequired,\n\tonClick: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n};\n\nMouseLocationIndicator.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nMouseLocationIndicator.defaultProps = {\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n\tonClick: noop,\n\tshouldDisableSnap: d3.functor(false),\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n};\n\nexport default MouseLocationIndicator;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/MouseLocationIndicator.jsx","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isNotDefined, head, last } from \"../utils\";\n\nvar tickLevels = [\n\t{ target: 50e2, level: 0 },\n\t{ target: 50e3, level: 1 },\n\t{ target: 10e4, level: 2 },\n\t{ target: 28e4, level: 3 },\n\t{ target: 55e4, level: 4 },\n\t{ target: 11e5, level: 5 },\n\t{ target: 21e5, level: 6 },\n\t{ target: 43e5, level: 7 },\n\t{ target: 59e5, level: 8 }, // not tested\n\t{ target: 12e6, level: 9 }, // not tested\n\t{ target: 58e6, level: 10 }, // not tested\n\t{ target: 89e6, level: 11 },\n\t{ target: 11e7, level: 12 },\n\t{ target: 78e7, level: 13 },\n\t{ target: 16e8, level: 14 },\n\t{ target: 62e8, level: 15 },\n\t{ target: 10e20, level: 16 },\n];\n\nvar tickLevelBisector = d3.bisector(function(d) { return d.target; }).left;\n\nexport default function financeDiscontinuousScale(index,\n\t\tinterval,\n\t\tbackingLinearScale = d3.scale.linear()) {\n\n\tif (isNotDefined(index) || isNotDefined(interval))\n\t\tthrow new Error(\"Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale\");\n\n\tfunction scale(x) {\n\t\treturn backingLinearScale(x);\n\t}\n\tscale.invert = function(x) {\n\t\tvar inverted = backingLinearScale.invert(x);\n\t\treturn Math.round(inverted * 10000) / 10000;\n\t};\n\tscale.domain = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.domain();\n\t\tbackingLinearScale.domain(x);\n\t\treturn scale;\n\t};\n\tscale.range = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.range();\n\t\tbackingLinearScale.range(x);\n\t\treturn scale;\n\t};\n\tscale.rangeRound = function(x) {\n\t\treturn backingLinearScale.range(x);\n\t};\n\tscale.clamp = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.clamp();\n\t\tbackingLinearScale.clamp(x);\n\t\treturn scale;\n\t};\n\tscale.interpolate = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.interpolate();\n\t\tbackingLinearScale.interpolate(x);\n\t\treturn scale;\n\t};\n\tscale.ticks = function(m) {\n\n\t\tvar [domainStart, domainEnd] = backingLinearScale.domain();\n\t\tvar start = Math.max(Math.ceil(domainStart), head(index).index) + Math.abs(head(index).index);\n\t\tvar end = Math.min(Math.floor(domainEnd), last(index).index) + Math.abs(head(index).index);\n\n\t\t// console.log(index.length, domainStart, domainEnd, start, end)\n\n\t\tvar newM = ((end - start) / (domainEnd - domainStart)) * m;\n\t\t// newM = newM <= 0 ? m : newM;\n\t\tvar target = Math.round((end - start + 1) * interval / newM);\n\n\t\t// var subList = index.slice(start, end + 1);\n\t\tvar levelIndex = tickLevelBisector(tickLevels, target);\n\t\t// console.log(target, levelIndex)\n\t\tvar { level } = tickLevels[levelIndex];\n\n\t\t// console.log(target.toExponential(), level);\n\n\t\tvar backingTicks = backingLinearScale.ticks(m);\n\t\tvar distance = backingTicks.length > 0\n\t\t\t? (last(backingTicks) - head(backingTicks)) / (backingTicks.length - 1) / 4\n\t\t\t: 1;\n\n\t\tvar ticks = [];\n\t\tfor (let i = start; i < end + 1; i++) {\n\t\t\tif (index[i].level >= level) ticks.push(index[i].index);\n\t\t}\n\n\t\t// subList.filter(each => each.level >= level).map(d => d.index);\n\n\t\tvar ticksSet = d3.set(ticks);\n\t\t// console.log(ticks);\n\n\t\tvar d = Math.abs(head(index).index);\n\n\t\tfor (let i = 0; i < ticks.length - 1; i++) {\n\t\t\tfor (var j = i + 1; j < ticks.length; j++) {\n\t\t\t\tif (ticks[j] - ticks[i] < distance) {\n\t\t\t\t\tticksSet.remove(index[ticks[i] + d].level >= index[ticks[j] + d].level ? ticks[j] : ticks[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar tickValues = ticksSet.values().map(d => parseInt(d, 10));\n\t\treturn tickValues;\n\t};\n\tscale.tickFormat = function() {\n\t\treturn function(x) {\n\t\t\t// console.log(x)\n\t\t\tvar d = Math.abs(head(index).index);\n\t\t\tvar { format, date } = index[x + d];\n\t\t\treturn format(date);\n\t\t};\n\t};\n\tscale.nice = function(m) {\n\t\tbackingLinearScale.nice(m);\n\t\treturn scale;\n\t};\n\tscale.copy = function() {\n\t\treturn financeDiscontinuousScale(index, interval, backingLinearScale.copy());\n\t};\n\treturn scale;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/financeDiscontinuousScale.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { hexToRGBA, isDefined, first } from \"../utils\";\n\nclass AreaOnlySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor, defined, base } = this.props;\n\t\tvar { fill, stroke, opacity } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar newBase = d3.functor(base);\n\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t\tctx.strokeStyle = stroke;\n\n\t\tvar points0 = [], points1 = [];\n\n\t\tfor (let i = 0; i < plotData.length; i++) {\n\t\t\tlet d = plotData[i];\n\t\t\tif (defined(yAccessor(d), i)) {\n\t\t\t\tlet [x, y1, y0] = [xScale(xAccessor(d)), yScale(yAccessor(d)), newBase(yScale, d)];\n\n\t\t\t\tpoints0.push([x, y0]);\n\t\t\t\tpoints1.push([x, y1]);\n\t\t\t} else if (points0.length) {\n\t\t\t\tsegment(points0, points1, ctx);\n\t\t\t\tpoints0 = [];\n\t\t\t\tpoints1 = [];\n\t\t\t}\n\t\t}\n\t\tif (points0.length) segment(points0, points1, ctx);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor, defined, base } = this.props;\n\t\tvar { stroke, fill, className, opacity } = this.props;\n\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar newBase = d3.functor(base);\n\t\tvar areaSeries = d3.svg.area()\n\t\t\t.defined(d => defined(yAccessor(d)))\n\t\t\t.x((d) => xScale(xAccessor(d)))\n\t\t\t.y0(newBase.bind(null, yScale))\n\t\t\t.y1((d) => yScale(yAccessor(d)));\n\n\t\tvar d = areaSeries(plotData);\n\t\tclassName = className.concat(isDefined(stroke) ? \"\" : \" line-stroke\");\n\t\treturn (\n\t\t\t<path d={d} stroke={stroke} fill={fill} className={className} opacity={opacity} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nAreaOnlySeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tdefined: PropTypes.func,\n\tbase: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.number\n\t]),\n};\nAreaOnlySeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nAreaOnlySeries.defaultProps = {\n\tclassName: \"line \",\n\tfill: \"none\",\n\topacity: 1,\n\tdefined: d => !isNaN(d),\n\tbase: (yScale/* , d*/) => first(yScale.range()),\n};\n\n\nfunction segment(points0, points1, ctx) {\n\tctx.beginPath();\n\tvar [x0, y0] = first(points0);\n\tctx.moveTo(x0, y0);\n\n\tvar i;\n\tfor (i = 0; i < points1.length; i++) {\n\t\tlet [x1, y1] = points1[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tfor (i = points0.length - 1; i >= 0; i--) {\n\t\tlet [x0, y0] = points0[i];\n\t\tctx.lineTo(x0, y0);\n\t}\n\tctx.closePath();\n\tctx.fill();\n}\n\nexport default AreaOnlySeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/AreaOnlySeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\n\nclass BarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor, identity);\n\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\treturn <g>{svgHelper(this.props, moreProps, xAccessor, identity)}</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n};\n\nBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nBarSeries.defaultProps = StackedBarSeries.defaultProps;\n\nexport default BarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/BarSeries.jsx","// https://github.com/jonschlinkert/is-equal-shallow/\n\n/*\nThe MIT License (MIT)\n\nCopyright (c) 2015, Jon Schlinkert.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nfunction isDate(date) {\n\treturn Object.prototype.toString.call(date) === \"[object Date]\";\n}\n\nfunction isEqual(val1, val2) {\n\treturn (isDate(val1) && isDate(val2))\n\t\t? val1.getTime() === val2.getTime()\n\t\t: val1 === val2;\n}\n\nexport default function shallowEqual(a, b) {\n\tif (!a && !b) { return true; }\n\tif (!a && b || a && !b) { return false; }\n\n\tvar numKeysA = 0, numKeysB = 0, key;\n\tfor (key in b) {\n\t\tnumKeysB++;\n\t\tif (/* !isPrimitive(b[key]) || */ !a.hasOwnProperty(key) || !isEqual(a[key], b[key])) {\n\t\t\t// console.log(key, a, b);\n\t\t\treturn false;\n\t\t}\n\t}\n\tfor (key in a) {\n\t\tnumKeysA++;\n\t}\n\treturn numKeysA === numKeysB;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/shallowEqual.js","\"use strict\";\n\n/* an extension to d3.zip so we call a function instead of an array */\n\nimport d3 from \"d3\";\n\nimport identity from \"./identity\";\n\nexport default function zipper() {\n\tvar combine = identity;\n\n\tfunction zip() {\n\t\tvar n = arguments.length;\n\t\tif (!n) return [];\n\t\tvar i, m = d3.min(arguments, d3_zipLength), zips = new Array(m);\n\t\tfor (i = -1; ++i < m; ) {\n\t\t\tfor (var j = -1, zip = zips[i] = new Array(n); ++j < n; ) {\n\t\t\t\tzip[j] = arguments[j][i];\n\t\t\t}\n\t\t\tzips[i] = combine.apply(this, zips[i]);\n\t\t}\n\t\treturn zips;\n\t}\n\tfunction d3_zipLength(d) {\n\t\treturn d.length;\n\t}\n\tzip.combine = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn combine;\n\t\t}\n\t\tcombine = x;\n\t\treturn zip;\n\t};\n\treturn zip;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/zipper.js","import React, { PropTypes } from \"react\";\nimport PureComponent from \"./utils/PureComponent\";\n\nimport { hexToRGBA, isDefined } from \"./utils\";\n\nclass BackgroundText extends PureComponent {\n\tcomponentDidMount() {\n\t\tif (this.context.chartCanvasType !== \"svg\" && isDefined(this.context.getCanvasContexts)) {\n\t\t\tvar contexts = this.context.getCanvasContexts();\n\t\t\tif (contexts) BackgroundText.drawOnCanvas(contexts.bg, this.props, this.context, this.props.children);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\trender() {\n\t\tvar { chartCanvasType } = this.context;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = this.props;\n\t\tvar props = { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor };\n\t\treturn (\n\t\t\t<text {...props}>this.props.children(interval)</text>\n\t\t);\n\t}\n}\n\nBackgroundText.drawOnCanvas = (ctx, props, { interval }, getText) => {\n\tctx.clearRect(-1, -1, ctx.canvas.width + 2, ctx.canvas.height + 2);\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(0.5, 0.5);\n\n\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = props;\n\n\tvar text = getText(interval);\n\n\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (stroke !== \"none\") ctx.strokeText(text, x, y);\n\tctx.fillText(text, x, y);\n\n\tctx.restore();\n};\n\nBackgroundText.propTypes = {\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number.isRequired,\n\tfill: PropTypes.string,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tstrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tchildren: PropTypes.func,\n};\n\nBackgroundText.defaultProps = {\n\topacity: 0.3,\n\tfill: \"#9E7523\",\n\tstroke: \"#9E7523\",\n\tstrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\ttextAnchor: \"middle\",\n};\n\nBackgroundText.contextTypes = {\n\tinterval: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n};\n\nexport default BackgroundText;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/BackgroundText.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport {\n\tfirst,\n\tlast,\n\tisDefined,\n\tisNotDefined,\n\tclearCanvas,\n\tshallowEqual,\n\tidentity,\n\tnoop,\n} from \"./utils\";\n\nimport { getNewChartConfig, getChartConfigWithUpdatedYScales, getCurrentCharts, getCurrentItem } from \"./utils/ChartDataUtil\";\n\nimport EventCapture from \"./EventCapture\";\n\nimport CanvasContainer from \"./CanvasContainer\";\nimport evaluator from \"./scale/evaluator\";\n\nconst CANDIDATES_FOR_RESET = [\"seriesName\", /* \"data\",*/\n\t\"xScaleProvider\", /* \"xAccessor\",*/\"map\",\n\t\"indexAccessor\", \"indexMutator\"];\n\nfunction shouldResetChart(thisProps, nextProps) {\n\treturn !CANDIDATES_FOR_RESET.every(key => {\n\t\tvar result = shallowEqual(thisProps[key], nextProps[key]);\n\t\t// console.log(key, result);\n\t\treturn result;\n\t});\n}\n\nfunction getCursorStyle(useCrossHairStyleCursor) {\n\tvar style = `\n\t.react-stockcharts-grabbing-cursor {\n\t\tpointer-events: all;\n\t\tcursor: grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tpointer-events: all;\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-toottip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}`;\n\tvar tooltipStyle = `\n\t.react-stockcharts-avoid-interaction {\n\t\tpointer-events: none;\n\t}\n\t.react-stockcharts-enable-interaction {\n\t\tpointer-events: all;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}`;\n\t/* return (<style\n\t\ttype=\"text/css\"\n\t\tdangerouslySetInnerHTML={{\n\t\t\t__html: shouldShowCrossHairStyle(children) ? style + tooltipStyle : tooltipStyle\n\t\t}}></style>);*/\n\treturn (<style type=\"text/css\">{useCrossHairStyleCursor ? style + tooltipStyle : tooltipStyle}</style>);\n}\n\nfunction getDimensions(props) {\n\treturn {\n\t\theight: props.height - props.margin.top - props.margin.bottom,\n\t\twidth: props.width - props.margin.left - props.margin.right,\n\t};\n}\n\nfunction getXScaleDirection(flipXScale) {\n\treturn flipXScale ? -1 : 1;\n}\n\nfunction calculateFullData(props) {\n\tvar { data: inputData, calculator, plotFull, xScale: xScaleProp } = props;\n\tvar { xAccessor: inputXAccesor, map, xScaleProvider, indexAccessor, indexMutator } = props;\n\n\tvar wholeData = isDefined(plotFull)\n\t\t\t? plotFull\n\t\t\t: inputXAccesor === identity;\n\n\t// xScale = discontinuousTimeScaleProvider(data);\n\tvar dimensions = getDimensions(props);\n\tvar evaluate = evaluator()\n\t\t// .allowedIntervals(allowedIntervals)\n\t\t// .intervalCalculator(intervalCalculator)\n\t\t.xAccessor(inputXAccesor)\n\t\t// .discontinuous(discontinuous)\n\t\t.indexAccessor(indexAccessor)\n\t\t.indexMutator(indexMutator)\n\t\t.map(map)\n\t\t.useWholeData(wholeData)\n\t\t.width(dimensions.width)\n\t\t.scaleProvider(xScaleProvider)\n\t\t.xScale(xScaleProp)\n\t\t.calculator(calculator);\n\n\tvar { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem } = evaluate(inputData);\n\n\treturn { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem };\n}\nfunction resetChart(props, firstCalculation = false) {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (!firstCalculation) console.log(\"CHART RESET\");\n\t}\n\n\tvar state = calculateState(props);\n\tvar { plotData: initialPlotData, xScale } = state;\n\tvar { postCalculator, children } = props;\n\n\tvar plotData = postCalculator(initialPlotData);\n\n\tvar dimensions = getDimensions(props);\n\tvar chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\treturn {\n\t\t...state,\n\t\txScale,\n\t\tplotData,\n\t\tchartConfig,\n\t};\n}\n\nfunction updateChart(newState, initialXScale, props, prevLastItem) {\n\n\tvar { firstItem, lastItem, xScale, xAccessor, filterData } = newState;\n\tvar lastItemVisible = lastItem === prevLastItem;\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tif (lastItemVisible)\n\t\t\tconsole.log(\"DATA CHANGED AND LAST ITEM VISIBLE\");\n\t\telse\n\t\t\tconsole.log(\"TRIVIAL CHANGE\");\n\t}\n\tvar { postCalculator, children, padding, flipXScale } = props;\n\tvar direction = getXScaleDirection(flipXScale);\n\tvar dimensions = getDimensions(props);\n\n\n\tvar updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\tvar [start, end] = initialXScale.domain();\n\tvar initialPlotData;\n\tif (!lastItemVisible || end >= xAccessor(lastItem)) {\n\t\t// get plotData between [start, end] and do not change the domain\n\t\tinitialPlotData = filterData([start, end], xAccessor, updatedXScale).plotData;\n\t\tupdatedXScale.domain([start, end]);\n\t\t// console.log(\"HERE!!!!!\", start, end);\n\t} else {\n\t\t// get plotData between [xAccessor(l) - (end - start), xAccessor(l)] and DO change the domain\n\t\tvar dx = updatedXScale(xAccessor(lastItem)) - updatedXScale.range()[1];\n\t\tvar [newStart, newEnd] = updatedXScale.range().map(x => x + dx).map(updatedXScale.invert);\n\n\t\tinitialPlotData = filterData([newStart, newEnd], xAccessor, updatedXScale).plotData;\n\t\t// if last item was visible, then shift\n\t\tupdatedXScale.domain([newStart, newEnd]);\n\t}\n\t// plotData = getDataOfLength(fullData, showingInterval, plotData.length)\n\tvar plotData = postCalculator(initialPlotData);\n\tlet chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\treturn {\n\t\tfirstItem,\n\t\tlastItem,\n\t\txScale: updatedXScale,\n\t\txAccessor,\n\t\tfilterData,\n\t\tchartConfig,\n\t\tplotData,\n\t};\n}\n\nfunction calculateState(props) {\n\n\tvar { xAccessor: inputXAccesor, xExtents: xExtentsProp, data, padding, flipXScale } = props;\n\n\tvar direction = getXScaleDirection(flipXScale);\n\tvar dimensions = getDimensions(props);\n\n\tvar extent = typeof xExtentsProp === \"function\"\n\t\t? xExtentsProp(data)\n\t\t: d3.extent(xExtentsProp.map(d => d3.functor(d)).map(each => each(data, inputXAccesor)));\n\n\tvar { xAccessor, displayXAccessor, xScale, fullData, filterData, firstItem, lastItem } = calculateFullData(props);\n\tvar updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\n\tvar { plotData, domain } = filterData(extent, inputXAccesor, updatedXScale);\n\n\treturn {\n\t\tplotData,\n\t\tfullData,\n\t\txScale: updatedXScale.domain(domain),\n\t\txAccessor,\n\t\tfilterData,\n\t\tfirstItem,\n\t\tlastItem,\n\t\tdisplayXAccessor,\n\t};\n}\n\nfunction setXRange(xScale, dimensions, padding, direction = 1) {\n\tif (xScale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\txScale.rangeRoundPoints([0, dimensions.width], padding);\n\t} else {\n\t\tvar { left, right } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { left: padding, right: padding };\n\t\tif (direction > 0) {\n\t\t\txScale.range([left, dimensions.width - right]);\n\t\t} else {\n\t\t\txScale.range([dimensions.width - right, left]);\n\t\t}\n\t}\n\treturn xScale;\n}\n\nclass ChartCanvas extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.getDataInfo = this.getDataInfo.bind(this);\n\t\tthis.getCanvasContexts = this.getCanvasContexts.bind(this);\n\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleZoom = this.handleZoom.bind(this);\n\t\tthis.handlePinchZoom = this.handlePinchZoom.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleDoubleClick = this.handleDoubleClick.bind(this);\n\t\t// this.handleFocus = this.handleFocus.bind(this);\n\t\tthis.handleContextMenu = this.handleContextMenu.bind(this);\n\t\tthis.xAxisZoom = this.xAxisZoom.bind(this);\n\t\tthis.yAxisZoom = this.yAxisZoom.bind(this);\n\t\tthis.calculateStateForDomain = this.calculateStateForDomain.bind(this);\n\n\t\tthis.pinchCoordinates = this.pinchCoordinates.bind(this);\n\n\t\t// this.setInteractiveState = this.setInteractiveState.bind(this);\n\t\t// this.getInteractiveState = this.getInteractiveState.bind(this);\n\n\t\tthis.subscriptions = [];\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t\tthis.unsubscribe = this.unsubscribe.bind(this);\n\t\tthis.draw = this.draw.bind(this);\n\t\t// this.canvasDrawCallbackList = [];\n\t\tthis.interactiveState = [];\n\n\t\tthis.state = {};\n\t}\n\tgetDataInfo() {\n\t\treturn this.refs.chartContainer.getDataInfo();\n\t}\n\tgetCanvasContexts() {\n\t\tif (this.refs && this.refs.canvases) {\n\t\t\treturn this.refs.canvases.getCanvasContexts();\n\t\t}\n\t}\n\tclearBothCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\t// console.log(\"CLEAR\");\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord]);\n\t\t}\n\t}\n\tclearMouseCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.mouseCoord) {\n\t\t\tclearCanvas([canvases.mouseCoord]);\n\t\t}\n\t}\n\tclearThreeCanvas() {\n\t\tvar canvases = this.getCanvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord, canvases.bg]);\n\t\t}\n\t}\n\tsubscribe(id, callback) {\n\t\tthis.subscriptions = this.subscriptions.concat({\n\t\t\tid, callback\n\t\t});\n\t}\n\tunsubscribe(id) {\n\t\tthis.subscriptions = this.subscriptions.filter(each => each.id !== id);\n\t}\n\thandleMouseEnter(e) {\n\t\tthis.triggerEvent(\"mouseenter\", {\n\t\t\tshow: true,\n\t\t}, e);\n\t}\n\thandleMouseMove(mouseXY, inputType, e) {\n\t\tvar { chartConfig, plotData, xScale, xAccessor } = this.state;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"mousemove\", {\n\t\t\tshow: true,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearMouseCanvas();\n\t\t\tthis.draw();\n\t\t});\n\t}\n\thandleContextMenu(mouseXY, e) {\n\t\tvar { xAccessor, chartConfig, plotData, xScale } = this.state;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\n\t\tthis.triggerEvent(\"contextmenu\", {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t}, e);\n\t\tthis.draw();\n\t}\n\thandleMouseLeave(e) {\n\t\tvar contexts = this.getCanvasContexts();\n\n\t\t// this.clearInteractiveCanvas();\n\n\t\tif (contexts && contexts.mouseCoord) {\n\t\t\tclearCanvas([contexts.mouseCoord]);\n\t\t}\n\t\tthis.triggerEvent(\"mouseleave\", { show: false }, e);\n\t\tthis.draw();\n\t\t/* this.setState({\n\t\t\tshow: false\n\t\t}); */\n\t}\n\tpinchCoordinates(pinch) {\n\t\tvar { touch1Pos, touch2Pos } = pinch;\n\n\t\treturn {\n\t\t\ttopLeft: [Math.min(touch1Pos[0], touch2Pos[0]), Math.min(touch1Pos[1], touch2Pos[1])],\n\t\t\tbottomRight: [Math.max(touch1Pos[0], touch2Pos[0]), Math.max(touch1Pos[1], touch2Pos[1])]\n\t\t};\n\t}\n\thandlePinchZoom(initialPinch, finalPinch) {\n\t\tvar { xScale: initialPinchXScale } = initialPinch;\n\n\t\tvar { xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData, xAccessor, filterData } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar { topLeft: iTL, bottomRight: iBR } = this.pinchCoordinates(initialPinch);\n\t\tvar { topLeft: fTL, bottomRight: fBR } = this.pinchCoordinates(finalPinch);\n\n\t\tvar e = initialPinchXScale.range()[1];\n\n\t\t// var fR1 = e - fTL[0];\n\t\t// var fR2 = e - fBR[0];\n\t\t// var iR1 = e - iTL[0];\n\t\t// var iR2 = e - iBR[0];\n\n\t\tvar xDash = Math.round(-(iBR[0] * fTL[0] - iTL[0] * fBR[0]) / (iTL[0] - iBR[0]));\n\t\tvar yDash = Math.round(e + ((e - iBR[0]) * (e - fTL[0]) - (e - iTL[0]) * (e - fBR[0])) / ((e - iTL[0]) - (e - iBR[0])));\n\n\n\t\tvar x = Math.round(-xDash * iTL[0] / (-xDash + fTL[0]));\n\t\tvar y = Math.round(e - (yDash - e) * (e - iTL[0]) / (yDash + (e - fTL[0])));\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `**${[s, e]} to ${[xDash, yDash]} to ${[x, y]}`;\n\t\t// var left = ((final.leftxy[0] - range[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\t\t// var right = ((range[1] - final.rightxy[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\n\t\tvar newDomain = [x, y].map(initialPinchXScale.invert);\n\t\t// var domainR = initial.right + right;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialPinchXScale,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearThreeCanvas();\n\t\t\t// this.clearInteractiveCanvas();\n\n\t\t\t// this.clearCanvasDrawCallbackList();\n\t\t\tthis.setState({\n\t\t\t\tchartConfig,\n\t\t\t\txScale: updatedScale,\n\t\t\t\tplotData,\n\t\t\t});\n\t\t});\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${panInProgress}`;\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${initial.left} - ${initial.right} to ${final.left} - ${final.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${id[1] - id[0]} = ${initial.left - id[0]} + ${initial.right - initial.left} + ${id[1] - initial.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${range[1] - range[0]}, ${i1[0]}, ${i2[0]}`;\n\t}\n\thandleZoom(zoomDirection, mouseXY, e) {\n\t\t// console.log(\"zoomDirection \", zoomDirection, \" mouseXY \", mouseXY);\n\t\tvar { xAccessor, xScale: initialXScale, plotData: initialPlotData } = this.state;\n\n\t\tvar item = getCurrentItem(initialXScale, xAccessor, mouseXY, initialPlotData),\n\t\t\tcx = initialXScale(xAccessor(item)),\n\t\t\tc = zoomDirection > 0 ? 2 : 0.5,\n\t\t\tnewDomain = initialXScale.range().map(x => cx + (x - cx) * c).map(initialXScale.invert);\n\n\t\tvar { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tthis.clearBothCanvas();\n\t\t// this.clearInteractiveCanvas();\n\n\t\tthis.triggerEvent(\"zoom\", {\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tcurrentItem,\n\t\t}, e);\n\n\n\t\tvar { firstItem } = this.state;\n\t\tvar start = first(xScale.domain());\n\t\tvar end = xAccessor(firstItem);\n\t\tvar { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tcalculateStateForDomain(newDomain) {\n\t\tvar { xAccessor, filterData, xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialXScale,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t};\n\t}\n\txAxisZoom(newDomain) {\n\t\tvar { xScale, plotData, chartConfig } = this.calculateStateForDomain(newDomain);\n\t\tthis.clearBothCanvas();\n\n\t\tvar { firstItem, xAccessor } = this.state;\n\t\tvar start = first(xScale.domain());\n\t\tvar end = xAccessor(firstItem);\n\t\tvar { onLoadMore } = this.props;\n\n\t\tthis.setState({\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t}, () => {\n\t\t\tif (start < end) onLoadMore(start, end);\n\t\t});\n\t}\n\tyAxisZoom(chartId, newDomain) {\n\t\tthis.clearThreeCanvas();\n\t\tvar { chartConfig: initialChartConfig } = this.state;\n\t\tvar chartConfig = initialChartConfig\n\t\t\t.map(each => {\n\t\t\t\tif (each.id === chartId) {\n\t\t\t\t\tvar { yScale } = each;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...each,\n\t\t\t\t\t\tyScale: yScale.copy().domain(newDomain),\n\t\t\t\t\t\tyPanEnabled: true,\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn each;\n\t\t\t\t}\n\t\t\t});\n\n\t\tthis.setState({\n\t\t\tchartConfig,\n\t\t});\n\t}\n\tpanHelper(mouseXY, initialXScale, panOrigin, chartsToPan) {\n\t\tvar { xAccessor, filterData, chartConfig: initialChartConfig } = this.state;\n\t\tvar { postCalculator } = this.props;\n\n\t\tvar dx = mouseXY[0] - panOrigin[0];\n\t\tvar dy = mouseXY[1] - panOrigin[1];\n\n\t\tif (isNotDefined(initialXScale.invert))\n\t\t\tthrow new Error(\"xScale provided does not have an invert() method.\"\n\t\t\t\t+ \"You are likely using an ordinal scale. This scale does not support zoom, pan\");\n\n\t\tvar newDomain = initialXScale.range().map(x => x - dx).map(initialXScale.invert);\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialXScale,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__plotData,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__domain);\n\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tplotData = postCalculator(plotData);\n\t\t// console.log(last(plotData));\n\t\tvar currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData, dy, chartsToPan);\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tchartConfig,\n\t\t\tcurrentItem,\n\t\t};\n\t}\n\tdraw() {/*\n\t\tvar { chartCanvasType } = this.props;\n\t\tif (chartCanvasType === \"svg\") {\n\t\t\tthis.setState({\n\t\t\t\trandom: Math.random()\n\t\t\t});\n\t\t} else {*/\n\t\tthis.subscriptions.forEach(each => {\n\t\t\t// console.log(each)\n\t\t\teach.callback(\"draw\");\n\t\t});\n\t\t// }\n\t}\n\ttriggerEvent(type, props, e) {\n\t\tthis.subscriptions.forEach(each => {\n\t\t\t// console.log(each)\n\t\t\teach.callback(type, props, e);\n\t\t});\n\t}\n\thandlePan(mousePosition, panStartXScale, panOrigin, chartsToPan, e) {\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = this.hackyWayToStopPanBeyondBounds__plotData || this.state.plotData;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = this.hackyWayToStopPanBeyondBounds__domain || this.state.xScale.domain();\n\n\t\tvar state = this.panHelper(mousePosition, panStartXScale, panOrigin, chartsToPan);\n\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = state.plotData;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = state.xScale.domain();\n\n\t\tthis.triggerEvent(\"pan\", state, e);\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearBothCanvas();\n\t\t\tthis.draw();\n\t\t});\n\t}\n\thandleMouseDown(mousePosition, currentCharts, e) {\n\t\tthis.triggerEvent(\"mousedown\", null, e);\n\t}\n\thandleClick(mousePosition, e) {\n\t\t// console.log(\"clicked\", e.shiftKey);\n\t\tthis.triggerEvent(\"click\", {}, e);\n\t}\n\thandleDoubleClick(mousePosition, e) {\n\t\tconsole.log(\"double clicked\");\n\t\tthis.triggerEvent(\"dblclick\", {}, e);\n\t}\n\thandlePanEnd(mousePosition, panStartXScale, panOrigin, chartsToPan, e) {\n\t\tvar state = this.panHelper(mousePosition, panStartXScale, panOrigin, chartsToPan);\n\t\t// console.log(this.canvasDrawCallbackList.map(d => d.type));\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = null;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = null;\n\n\t\tthis.triggerEvent(\"panend\", state, e);\n\t\t// console.log(\"PANEND\", panEnd++);\n\t\tvar {\n\t\t\txScale,\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t} = state;\n\n\t\trequestAnimationFrame(() => {\n\t\t\tvar { xAccessor, firstItem } = this.state;\n\n\t\t\tvar start = first(xScale.domain());\n\t\t\tvar end = xAccessor(firstItem);\n\t\t\t// console.log(start, end, start < end ? \"Load more\" : \"I have it\");\n\n\t\t\tvar { onLoadMore } = this.props;\n\t\t\tthis.clearThreeCanvas();\n\t\t\tthis.setState({\n\t\t\t\txScale,\n\t\t\t\tplotData,\n\t\t\t\tchartConfig,\n\t\t\t}, () => {\n\t\t\t\tif (start < end) onLoadMore(start, end);\n\t\t\t});\n\t\t});\n\t}/*\n\tsetInteractiveState(id, chartId, interactive) {\n\t\tvar everyThingElse = this.interactiveState\n\t\t\t.filter(each => !(each.id === id && each.chartId === chartId));\n\n\t\tthis.interactiveState = everyThingElse.concat({ id, chartId, interactive });\n\t}\n\tgetInteractiveState(forChart, id, initialState) {\n\t\tvar state = this.interactiveState\n\t\t\t.filter(each => each.chartId === forChart)\n\t\t\t.filter(each => each.id === id);\n\n\t\tvar response = (state.length > 0)\n\t\t\t? response = state[0].interactive\n\t\t\t: initialState;\n\t\treturn response;\n\t}*/\n\tgetChildContext() {\n\t\tvar dimensions = getDimensions(this.props);\n\n\t\treturn {\n\t\t\tfullData: this.state.fullData,\n\t\t\tplotData: this.state.plotData,\n\t\t\twidth: dimensions.width,\n\t\t\theight: dimensions.height,\n\t\t\tchartConfig: this.state.chartConfig,\n\t\t\txScale: this.state.xScale,\n\t\t\txAccessor: this.state.xAccessor,\n\t\t\tdisplayXAccessor: this.props.displayXAccessor || this.state.displayXAccessor,\n\t\t\tchartCanvasType: this.props.type,\n\t\t\tmargin: this.props.margin,\n\t\t\txAxisZoom: this.xAxisZoom,\n\t\t\tyAxisZoom: this.yAxisZoom,\n\t\t\t// getInteractiveState: this.getInteractiveState,\n\t\t\t// setInteractiveState: this.setInteractiveState,\n\t\t\tgetCanvasContexts: this.getCanvasContexts,\n\t\t\tsubscribe: this.subscribe,\n\t\t\tunsubscribe: this.unsubscribe,\n\t\t};\n\t}\n\tcomponentWillMount() {\n\t\tvar state = resetChart(this.props, true);\n\t\tthis.setState(state);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar reset = shouldResetChart(this.props, nextProps);\n\n\t\tvar interaction = isInteractionEnabled(this.state.xScale, this.state.xAccessor, this.state.plotData);\n\n\t\tvar newState;\n\t\tif (!interaction || reset || !shallowEqual(this.props.xExtents, nextProps.xExtents)) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (!interaction)\n\t\t\t\t\tconsole.log(\"RESET CHART, changes to a non interactive chart\");\n\t\t\t\telse if (reset)\n\t\t\t\t\tconsole.log(\"RESET CHART, one or more of these props changed\", CANDIDATES_FOR_RESET);\n\t\t\t\telse\n\t\t\t\t\tconsole.log(\"xExtents changed\");\n\t\t\t}\n\t\t\t// do reset\n\t\t\tnewState = resetChart(nextProps);\n\t\t} else {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tif (this.props.data !== nextProps.data)\n\t\t\t\t\tconsole.log(\"data is changed but seriesName did not, change the seriesName if you wish to reset the chart\");\n\t\t\t\telse if (!shallowEqual(this.props.calculator, nextProps.calculator))\n\t\t\t\t\tconsole.log(\"calculator changed\");\n\t\t\t\telse\n\t\t\t\t\tconsole.log(\"Trivial change, may be width/height or type changed, but that does not matter\");\n\t\t\t}\n\n\t\t\tvar calculatedState = calculateFullData(nextProps);\n\n\t\t\tnewState = updateChart(calculatedState, this.state.xScale, nextProps, last(this.state.plotData));\n\t\t}\n\n\t\tvar { chartConfig: initialChartConfig } = this.state;\n\n\t\tif (!reset) {\n\t\t\tnewState.chartConfig\n\t\t\t\t.forEach((each) => {\n\t\t\t\t\tvar sourceChartConfig = initialChartConfig.filter(d => d.id === each.id);\n\t\t\t\t\tif (sourceChartConfig.length > 0 && sourceChartConfig[0].yPanEnabled) {\n\t\t\t\t\t\teach.yScale.domain(sourceChartConfig[0].yScale.domain());\n\t\t\t\t\t\teach.yPanEnabled = sourceChartConfig[0].yPanEnabled;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\tthis.clearThreeCanvas();\n\t\tthis.setState(newState);\n\t}\n\trender() {\n\n\t\tvar { type, height, width, margin, className, zIndex, defaultFocus } = this.props;\n\t\tvar { useCrossHairStyleCursor, drawMode } = this.props;\n\n\t\tvar { plotData, xScale, xAccessor, chartConfig } = this.state;\n\t\tvar dimensions = getDimensions(this.props);\n\n\t\tvar interaction = isInteractionEnabled(xScale, xAccessor, plotData);\n\n\t\tvar cursor = getCursorStyle(useCrossHairStyleCursor && interaction);\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", height: height, width: width }} className={className} >\n\t\t\t\t<CanvasContainer ref=\"canvases\" width={width} height={height} type={type} zIndex={zIndex}/>\n\t\t\t\t<svg className={className} width={width} height={height} style={{ position: \"absolute\", zIndex: (zIndex + 5) }}>\n\t\t\t\t\t{cursor}\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<clipPath id=\"chart-area-clip\">\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={dimensions.width} height={dimensions.height} />\n\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t\t{chartConfig\n\t\t\t\t\t\t\t.map((each, idx) => <clipPath key={idx} id={`chart-area-clip-${each.id}`}>\n\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={each.width} height={each.height} />\n\t\t\t\t\t\t\t</clipPath>)}\n\t\t\t\t\t</defs>\n\t\t\t\t\t<g transform={`translate(${margin.left + 0.5}, ${margin.top + 0.5})`}>\n\t\t\t\t\t\t<EventCapture\n\t\t\t\t\t\t\tmouseMove={interaction}\n\t\t\t\t\t\t\tzoom={interaction}\n\t\t\t\t\t\t\tpan={interaction && !drawMode}\n\n\t\t\t\t\t\t\twidth={dimensions.width}\n\t\t\t\t\t\t\theight={dimensions.height}\n\t\t\t\t\t\t\tchartConfig={chartConfig}\n\t\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\t\tfocus={defaultFocus}\n\n\t\t\t\t\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\t\t\tonDoubleClick={this.handleDoubleClick}\n\t\t\t\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\t\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\t\t\t\t\tonZoom={this.handleZoom}\n\t\t\t\t\t\t\tonPinchZoom={this.handlePinchZoom}\n\t\t\t\t\t\t\tonPan={this.handlePan}\n\t\t\t\t\t\t\tonPanEnd={this.handlePanEnd}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<g className=\"react-stockcharts-avoid-interaction\">\n\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nfunction isInteractionEnabled(xScale, xAccessor, data) {\n\tvar interaction = !isNaN(xScale(xAccessor(first(data)))) && isDefined(xScale.invert);\n\treturn interaction;\n}\n\nChartCanvas.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object,\n\t// interval: PropTypes.oneOf([\"D\", \"W\", \"M\"]), // ,\"m1\", \"m5\", \"m15\", \"W\", \"M\"\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tdata: PropTypes.array.isRequired,\n\t// initialDisplay: PropTypes.number,\n\tcalculator: PropTypes.arrayOf(PropTypes.func).isRequired,\n\txAccessor: PropTypes.func,\n\txExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\t// xScale: PropTypes.func.isRequired,\n\tclassName: PropTypes.string,\n\tseriesName: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tchildren: PropTypes.node.isRequired,\n\txScaleProvider: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScale)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\txScale: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScaleProvider)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\tpostCalculator: PropTypes.func.isRequired,\n\tflipXScale: PropTypes.bool.isRequired,\n\tuseCrossHairStyleCursor: PropTypes.bool.isRequired,\n\tdrawMode: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t})\n\t]).isRequired,\n\tdefaultFocus: PropTypes.bool,\n\tonLoadMore: PropTypes.func,\n\tdisplayXAccessor: PropTypes.func,\n};\n\nChartCanvas.defaultProps = {\n\tmargin: { top: 20, right: 30, bottom: 30, left: 80 },\n\tindexAccessor: d => d.idx,\n\tindexMutator: (d, idx) => ({ ...d, idx }),\n\tmap: identity,\n\ttype: \"hybrid\",\n\tcalculator: [],\n\tclassName: \"react-stockchart\",\n\tzIndex: 1,\n\txExtents: [d3.min, d3.max],\n\t// dataEvaluator: evaluator,\n\tpostCalculator: identity,\n\tpadding: 0,\n\txAccessor: identity,\n\tflipXScale: false,\n\tuseCrossHairStyleCursor: true,\n\tdrawMode: false,\n\tdefaultFocus: true,\n\tonLoadMore: noop,\n};\n\nChartCanvas.childContextTypes = {\n\tplotData: PropTypes.array,\n\tfullData: PropTypes.array,\n\tchartConfig: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.number.isRequired,\n\t\t\torigin: PropTypes.arrayOf(PropTypes.number).isRequired,\n\t\t\tpadding: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\ttop: PropTypes.number,\n\t\t\t\t\tbottom: PropTypes.number,\n\t\t\t\t})\n\t\t\t]),\n\t\t\tyExtents: PropTypes.arrayOf(PropTypes.func),\n\t\t\tyExtentsProvider: PropTypes.func,\n\t\t\tyScale: PropTypes.func.isRequired,\n\t\t\tmouseCoordinates: PropTypes.shape({\n\t\t\t\tat: PropTypes.string,\n\t\t\t\tformat: PropTypes.func\n\t\t\t}),\n\t\t\twidth: PropTypes.number.isRequired,\n\t\t\theight: PropTypes.number.isRequired,\n\t\t})\n\t).isRequired,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\txAxisZoom: PropTypes.func,\n\tyAxisZoom: PropTypes.func,\n\tsubscribe: PropTypes.func,\n\tunsubscribe: PropTypes.func,\n};\n\nChartCanvas.ohlcv = d => ({ date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume });\n\nexport default ChartCanvas;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/ChartCanvas.jsx","\"use strict\";\n\nimport { merge, slidingWindow } from \"../utils\";\nimport { identity } from \"../utils\";\n\nexport default function() {\n\n\tvar windowSize = 1,\n\t\taccumulator = identity,\n\t\tmergeAs = identity;\n\n\tfunction algorithm(data) {\n\n\t\tvar defaultAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(accumulator);\n\n\t\tvar calculator = merge()\n\t\t\t.algorithm(defaultAlgorithm)\n\t\t\t.merge(mergeAs);\n\n\t\tvar newData = calculator(data);\n\n\t\treturn newData;\n\t}\n\n\talgorithm.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn algorithm;\n\t};\n\n\talgorithm.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn algorithm;\n\t};\n\talgorithm.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mergeAs;\n\t\t}\n\t\tmergeAs = x;\n\t\treturn algorithm;\n\t};\n\n\treturn algorithm;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/algorithm/index.js","\"use strict\";\n\n\nimport Annotate from \"./Annotate\";\nimport LabelAnnotation from \"./LabelAnnotation\";\nimport SvgPathAnnotation from \"./SvgPathAnnotation\";\nimport Label from \"./Label\";\n\nexport { Annotate, LabelAnnotation, SvgPathAnnotation, Label };\n\nconst halfWidth = 10;\nconst bottomWidth = 3;\nconst height = 20;\n\nexport function buyPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x - halfWidth} ${y + halfWidth} `\n\t\t+ \"Z\";\n}\n\nexport function sellPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x - halfWidth} ${y - halfWidth} `\n\t\t+ \"Z\";\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/index.js","\"use strict\";\n\n\nimport XAxis from \"./XAxis\";\nimport YAxis from \"./YAxis\";\n\nexport { XAxis, YAxis };\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/index.js","import EdgeIndicator from \"./EdgeIndicator\";\n\nimport CurrentCoordinate from \"./CurrentCoordinate\";\n\nimport MouseCoordinateX from \"./MouseCoordinateX\";\nimport MouseCoordinateY from \"./MouseCoordinateY\";\nimport CrossHairCursor from \"./CrossHairCursor\";\n\nexport {\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n\tCrossHairCursor,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/index.js","\nimport TypeChooser from \"./TypeChooser\";\nimport SaveChartAsImage from \"./SaveChartAsImage\";\nimport fitWidth from \"./fitWidth\";\n\nexport {\n\tTypeChooser,\n\tSaveChartAsImage,\n\tfitWidth\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/index.js","\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerBand from \"./bollingerBand\";\nimport heikinAshi from \"./heikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport atr from \"./atr\";\nimport stochasticOscillator from \"./stochasticOscillator\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport change from \"./change\";\nimport elderImpulse from \"./elderImpulse\";\nimport compare from \"./compare\";\n\nimport * as defaultOptionsForComputation from \"./defaultOptionsForComputation\";\nimport * as defaultOptionsForAppearance from \"./defaultOptionsForAppearance\";\n\nexport {\n\tema,\n\tsma,\n\tbollingerBand,\n\theikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\trsi,\n\tatr,\n\tstochasticOscillator,\n\tforceIndex,\n\telderRay,\n\tchange,\n\telderImpulse,\n\tcompare,\n\tdefaultOptionsForComputation,\n\tdefaultOptionsForAppearance,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/index.js","import TrendLine from \"./TrendLine\";\nimport FibonacciRetracement from \"./FibonacciRetracement\";\nimport ClickCallback from \"./ClickCallback\";\nimport Brush from \"./Brush\";\n\nexport {\n\tTrendLine,\n\tFibonacciRetracement,\n\tClickCallback,\n\tBrush,\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/index.js","\nimport discontinuousTimeScaleProvider, { discontinuousTimeScaleProviderBuilder } from \"./discontinuousTimeScaleProvider\";\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\n\nexport {\n\tdiscontinuousTimeScaleProviderBuilder,\n\tdiscontinuousTimeScaleProvider,\n\tfinanceDiscontinuousScale\n};\n\nexport function defaultScaleProvider(xScale) {\n\treturn (data, xAccessor) => ({ data, xScale, xAccessor, displayXAccessor: xAccessor });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/index.js","import AreaSeries from \"./AreaSeries\";\nimport ScatterSeries from \"./ScatterSeries\";\nimport CircleMarker from \"./CircleMarker\";\nimport LineSeries from \"./LineSeries\";\nimport CandlestickSeries from \"./CandlestickSeries\";\nimport OHLCSeries from \"./OHLCSeries\";\nimport BarSeries from \"./BarSeries\";\nimport StackedBarSeries from \"./StackedBarSeries\";\nimport GroupedBarSeries from \"./GroupedBarSeries\";\nimport KagiSeries from \"./KagiSeries\";\nimport PointAndFigureSeries from \"./PointAndFigureSeries\";\nimport RenkoSeries from \"./RenkoSeries\";\nimport MACDSeries from \"./MACDSeries\";\nimport BollingerSeries from \"./BollingerSeries\";\nimport RSISeries from \"./RSISeries\";\nimport StochasticSeries from \"./StochasticSeries\";\nimport ElderRaySeries from \"./ElderRaySeries\";\nimport VolumeProfileSeries from \"./VolumeProfileSeries\";\nimport StraightLine from \"./StraightLine\";\n\nexport {\n\tScatterSeries,\n\tCircleMarker,\n\tAreaSeries,\n\tLineSeries,\n\tCandlestickSeries,\n\tOHLCSeries,\n\tBarSeries,\n\tStackedBarSeries,\n\tGroupedBarSeries,\n\tKagiSeries,\n\tPointAndFigureSeries,\n\tRenkoSeries,\n\tMACDSeries,\n\tBollingerSeries,\n\tRSISeries,\n\tStochasticSeries,\n\tElderRaySeries,\n\tVolumeProfileSeries,\n\tStraightLine,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/index.js","import MACDTooltip from \"./MACDTooltip\";\n// import TooltipContainer from \"./TooltipContainer\";\nimport OHLCTooltip from \"./OHLCTooltip\";\nimport SingleValueTooltip from \"./SingleValueTooltip\";\nimport MovingAverageTooltip from \"./MovingAverageTooltip\";\nimport BollingerBandTooltip from \"./BollingerBandTooltip\";\nimport RSITooltip from \"./RSITooltip\";\nimport StochasticTooltip from \"./StochasticTooltip\";\nimport HoverTooltip from \"./HoverTooltip\";\n\nexport {\n\tMACDTooltip,\n//\tTooltipContainer,\n\tOHLCTooltip,\n\tSingleValueTooltip,\n\tMovingAverageTooltip,\n\tBollingerBandTooltip,\n\tRSITooltip,\n\tStochasticTooltip,\n\tHoverTooltip\n};\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() { return this; })();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 120\n// module chunks = 3","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass CanvasContainer extends Component {\n\tgetCanvasContexts() {\n\n\t\tvar {\n\t\t\tcanvas_axes: axesCanvasDOM,\n\t\t\tcanvas_mouse_coordinates: mouseCoordDOM,\n\t\t\t// canvas_interactive: interactiveDOM,\n\t\t\tbg: bgDOM\n\t\t} = this.refs;\n\n\t\tif (this.refs.canvas_axes) {\n\t\t\treturn {\n\t\t\t\taxes: axesCanvasDOM.getContext(\"2d\"),\n\t\t\t\tmouseCoord: mouseCoordDOM.getContext(\"2d\"),\n\t\t\t\t// interactive: interactiveDOM.getContext(\"2d\"),\n\t\t\t\tbg: bgDOM.getContext(\"2d\"),\n\t\t\t};\n\t\t}\n\t}\n\trender() {\n\t\tvar { height, width, type, zIndex } = this.props;\n\t\tif (type === \"svg\") return null;\n\t\treturn (\n\t\t\t<div style={{ zIndex: zIndex }}>\n\t\t\t\t<canvas id=\"bg\" ref=\"bg\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t\t<canvas id=\"axes\" ref=\"canvas_axes\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t\t<canvas id=\"mouse\" ref=\"canvas_mouse_coordinates\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/*\n\t\t\t\t<canvas ref=\"canvas_interactive\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n*/\n\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n};\n\nexport default CanvasContainer;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/CanvasContainer.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { isDefined, mousePosition, touchPosition, d3Window, MOUSEMOVE, MOUSEUP } from \"./utils\";\nimport { getCurrentCharts } from \"./utils/ChartDataUtil\";\n\nfunction getTouchProps(touch) {\n\tif (!touch) return {};\n\treturn {\n\t\tpageX: touch.pageX,\n\t\tpageY: touch.pageY,\n\t\tclientX: touch.clientX,\n\t\tclientY: touch.clientY\n\t};\n}\n\nclass EventCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleEnter = this.handleEnter.bind(this);\n\t\tthis.handleLeave = this.handleLeave.bind(this);\n\t\tthis.handleWheel = this.handleWheel.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\n\t\tthis.handleRightClick = this.handleRightClick.bind(this);\n\t\tthis.lastTouch = {};\n\t\tthis.initialPinch = {};\n\t\tthis.mouseInteraction = true;\n\t\tthis.state = {\n\t\t\tpanInProgress: false,\n\t\t};\n\t}\n\n\tcomponentWillMount() {\n\t\tthis.focus = this.props.focus;\n\t}\n\thandleEnter(e) {\n\t\tvar { onMouseEnter } = this.props;\n\t\tonMouseEnter(e);\n\t}\n\thandleLeave(e) {\n\t\tvar { onMouseLeave } = this.props;\n\t\tonMouseLeave(e);\n\t}\n\thandleWheel(e) {\n\t\tvar { zoom, onZoom, zoomMultiplier } = this.props;\n\n\t\tif (zoom && this.focus) {\n\t\t\te.preventDefault();\n\n\t\t\tvar newPos = mousePosition(e);\n\t\t\tvar zoomDir = e.deltaY > 0 ? zoomMultiplier : -zoomMultiplier;\n\n\t\t\tonZoom(zoomDir, newPos, e);\n\t\t}\n\t}\n\thandleMouseMove(e) {\n\t\tvar { onMouseMove, mouseMove } = this.props;\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& mouseMove\n\t\t\t\t&& !this.state.panInProgress) {\n\n\t\t\tvar newPos = mousePosition(e);\n\n\t\t\tonMouseMove(newPos, \"mouse\", e);\n\t\t}\n\t}\n\thandleRightClick(e) {\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\n\t\tvar { onContextMenu, onPanEnd } = this.props;\n\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\n\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\tif (this.panHappened) {\n\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t}\n\n\t\tonContextMenu(newPos, e);\n\n\t\tvar win = d3Window(this.refs.capture);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t\tthis.contextMenuClicked = true;\n\t\tthis.setState({\n\t\t\tpanInProgress: false,\n\t\t\tpanStart: null,\n\t\t});\n\t\t// onPanEnd(newPos, e);\n\t}\n\thandleMouseDown(e) {\n\t\tvar { pan, xScale, chartConfig, onMouseDown } = this.props;\n\t\tthis.panHappened = false;\n\t\tthis.focus = true;\n\n\t\tif (!this.state.panInProgress && this.mouseInteraction) {\n\n\t\t\tvar mouseXY = mousePosition(e);\n\n\t\t\tvar dx = e.pageX - mouseXY[0],\n\t\t\t\tdy = e.pageY - mouseXY[1];\n\n\t\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: pan,\n\t\t\t\tpanStart: {\n\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\tpanOrigin: mouseXY,\n\t\t\t\t\tdx, dy,\n\t\t\t\t\tchartsToPan: currentCharts\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (pan) {\n\t\t\t\tvar win = d3Window(this.refs.capture);\n\t\t\t\td3.select(win)\n\t\t\t\t\t.on(MOUSEMOVE, this.handlePan)\n\t\t\t\t\t.on(MOUSEUP, this.handlePanEnd);\n\t\t\t}\n\n\t\t\tif (!pan) {\n\t\t\t\te.persist();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (!this.contextMenuClicked) {\n\t\t\t\t\t\t// console.log(\"NO RIGHT\")\n\t\t\t\t\t\tonMouseDown(mouseXY, currentCharts, e);\n\t\t\t\t\t}\n\t\t\t\t\tthis.contextMenuClicked = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandlePan() {\n\t\tvar e = d3.event;\n\t\tvar { pan: panEnabled, onPan } = this.props;\n\n\t\t// console.log(\"moved from- \", startXY, \" to \", newPos);\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& panEnabled\n\t\t\t\t&& onPan\n\t\t\t\t&& isDefined(this.state.panStart)) {\n\n\t\t\tthis.panHappened = true;\n\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\t\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\t\tonPan(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t}\n\t}\n\thandlePanEnd() {\n\t\tvar e = d3.event;\n\n\t\tvar { pan: panEnabled, onPanEnd, onClick, onDoubleClick } = this.props;\n\n\t\tif (isDefined(this.state.panStart)) {\n\t\t\tvar { dx, dy, panStartXScale, panOrigin, chartsToPan } = this.state.panStart;\n\n\t\t\tvar newPos = [e.pageX - dx, e.pageY - dy];\n\n\t\t\tif (!this.panHappened) {\n\t\t\t\tif (this.clicked) {\n\t\t\t\t\tonDoubleClick(newPos, e);\n\t\t\t\t} else {\n\t\t\t\t\tthis.clicked = true;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.clicked = false;\n\t\t\t\t\t}, 300);\n\t\t\t\t\tonClick(newPos, e);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.mouseInteraction\n\t\t\t\t\t&& this.panHappened\n\t\t\t\t\t// && !this.contextMenuClicked\n\t\t\t\t\t&& panEnabled\n\t\t\t\t\t&& onPanEnd) {\n\t\t\t\tvar win = d3Window(this.refs.capture);\n\t\t\t\td3.select(win)\n\t\t\t\t\t.on(MOUSEMOVE, null)\n\t\t\t\t\t.on(MOUSEUP, null);\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, chartsToPan, e);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tpanInProgress: false,\n\t\t\t\tpanStart: null,\n\t\t\t});\n\t\t}\n\t}\n\thandleTouchStart(e) {\n\t\tthis.mouseInteraction = false;\n\n\t\tvar { pan: panEnabled } = this.props;\n\n\t\tvar { xScale, onPanEnd } = this.props;\n\n\t\tif (e.touches.length === 1) {\n\t\t\tvar touch = getTouchProps(e.touches[0]);\n\t\t\tvar touchXY = touchPosition(touch, e);\n\t\t\tthis.lastTouch = touch;\n\t\t\t// onMouseMove(touchXY, \"touch\", e);\n\t\t\tif (panEnabled) {\n\t\t\t\tconst dx = touch.pageX - touchXY[0],\n\t\t\t\t\tdy = touch.pageY - touchXY[1];\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: true,\n\t\t\t\t\tpanStart: {\n\t\t\t\t\t\tpanStartXScale: xScale,\n\t\t\t\t\t\tpanOrigin: touchXY,\n\t\t\t\t\t\tdx, dy\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom begin\n\t\t\t// do nothing pinch zoom is handled in handleTouchMove\n\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\tvar { panInProgress, panStart } = this.state;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\t\t\t\tconst { dx, dy, panStartXScale, panOrigin } = panStart;\n\n\t\t\t\t// end pan first\n\t\t\t\tvar newPos = [touch1.pageX - dx, touch1.pageY - dy];\n\t\t\t\tthis.lastTouch = null;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tpanInProgress: false,\n\t\t\t\t\tpanStart: null,\n\t\t\t\t});\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t}\n\n\t\tif (e.touches.length !== 2) this.initialPinch = null;\n\n\t\t// console.log(\"handleTouchStart\", e);\n\t\te.preventDefault();\n\t}\n\thandleTouchMove(e) {\n\t\tvar { pan: panEnabled, zoom: zoomEnabled } = this.props;\n\t\tvar { xScale, onPan, onPinchZoom } = this.props;\n\t\tvar { panInProgress, panStart } = this.state;\n\n\t\tif (e.touches.length === 1) {\n\t\t\t// pan\n\t\t\tvar touch = this.lastTouch = getTouchProps(e.touches[0]);\n\t\t\tvar { dx, dy, panStartXScale, panOrigin } = panStart;\n\n\t\t\tvar newPos = [touch.pageX - dx, touch.pageY - dy];\n\n\t\t\tif (panInProgress && panEnabled && onPan) {\n\t\t\t\tonPan(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom\n\t\t\tif (zoomEnabled && onPinchZoom && focus) {\n\t\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\t\tvar touch2 = getTouchProps(e.touches[1]);\n\n\t\t\t\tvar touch1Pos = touchPosition(touch1, e);\n\t\t\t\tvar touch2Pos = touchPosition(touch2, e);\n\n\t\t\t\tif (this.initialPinch === null) {\n\t\t\t\t\tthis.initialPinch = {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t\trange: xScale.range(),\n\t\t\t\t\t};\n\t\t\t\t} else if (this.initialPinch && !panInProgress) {\n\t\t\t\t\tonPinchZoom(this.initialPinch, {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\n\t\t// console.log(\"handleTouchMove\", e);\n\t}\n\thandleTouchEnd(e) {\n\t\t// TODO enableMouseInteraction\n\t\tvar { pan: panEnabled, onPanEnd } = this.props;\n\t\tvar { panInProgress, panStart } = this.state;\n\n\t\tif (this.lastTouch && isDefined(panStart)) {\n\t\t\tvar { dx, dy, panStartXScale, panOrigin } = panStart;\n\t\t\tvar newPos = [this.lastTouch.pageX - dx, this.lastTouch.pageY - dy];\n\n\t\t\tthis.initialPinch = null;\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\n\t\t\t\tonPanEnd(newPos, panStartXScale, panOrigin, e);\n\t\t\t}\n\t\t}\n\t\t// console.log(\"handleTouchEnd\", dxdy, newPos, e);\n\t\tthis.mouseInteraction = true;\n\t\te.preventDefault();\n\t}\n\trender() {\n\t\tvar { height, width } = this.props;\n\t\tvar className = this.state.panInProgress ? \"react-stockcharts-grabbing-cursor\" : \"react-stockcharts-crosshair-cursor\";\n\t\treturn (\n\t\t\t<rect ref=\"capture\"\n\t\t\t\tclassName={className}\n\t\t\t\twidth={width} height={height} style={{ opacity: 0 }}\n\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\tonWheel={this.handleWheel}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonContextMenu={this.handleRightClick}\n\t\t\t\tonTouchStart={this.handleTouchStart}\n\t\t\t\tonTouchEnd={this.handleTouchEnd}\n\t\t\t\tonTouchMove={this.handleTouchMove} />\n\t\t);\n\t}\n}\n\nEventCapture.propTypes = {\n\tmouseMove: PropTypes.bool.isRequired,\n\tzoom: PropTypes.bool.isRequired,\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tpan: PropTypes.bool.isRequired,\n\tpanSpeedMultiplier: PropTypes.number.isRequired,\n\tfocus: PropTypes.bool.isRequired,\n\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\n\tonMouseMove: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\tonZoom: PropTypes.func,\n\tonPinchZoom: PropTypes.func,\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\n\tonClick: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n\tonContextMenu: PropTypes.func,\n\tonMouseDown: PropTypes.func,\n\tchildren: PropTypes.node,\n};\n\nEventCapture.defaultProps = {\n\tmouseMove: false,\n\tzoom: false,\n\tzoomMultiplier: 1,\n\tpan: false,\n\tpanSpeedMultiplier: 1,\n\tfocus: false,\n};\n\nexport default EventCapture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/EventCapture.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Annotate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { className, usingProps, with: Annotation } = this.props;\n\t\tvar data = helper(this.props, plotData);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-enable-interaction ${className}`}>\n\t\t\t\t{data.map((d, idx) => <Annotation key={idx}\n\t\t\t\t\t\t{...usingProps}\n\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\tyScale={yScale}\n\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\tplotData={plotData}\n\t\t\t\t\t\tdatum={d} />)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAnnotate.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\twith: PropTypes.func,\n\twhen: PropTypes.func,\n\tusingProps: PropTypes.object,\n};\n\nAnnotate.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nAnnotate.defaultProps = {\n\tclassName: \"react-stockcharts-annotate react-stockcharts-default-cursor\",\n};\n\nfunction helper({ when }, plotData) {\n\treturn plotData.filter(when);\n}\n\nexport default Annotate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/Annotate.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\n\nimport { isDefined, hexToRGBA } from \"../utils\";\nimport LabelAnnotation, { defaultProps, helper } from \"./LabelAnnotation\";\n\nclass Label extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas2(ctx, this.props, this.context, moreProps);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tcanvasToDraw={this.props.selectCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { chartConfig } = moreProps;\n\n\t\treturn <LabelAnnotation yScale={getYScale(chartConfig)} {...this.props} text={getText(this.props)}/>;\n\t}\n}\n\nfunction getText(props) {\n\treturn d3.functor(props.text)(props);\n}\n\nfunction getYScale(chartConfig) {\n\treturn Array.isArray(chartConfig) ? undefined : chartConfig.yScale;\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\tselectCanvas: PropTypes.func.isRequired,\n\ttext: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n};\n\nLabel.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\tmargin: PropTypes.object.isRequired,\n};\n\nLabel.defaultProps = {\n\t...defaultProps,\n\tselectCanvas: canvases => canvases.bg,\n};\n\nfunction drawOnCanvas2(ctx, props, context, moreProps) {\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tvar { canvasOriginX, canvasOriginY, margin } = context;\n\n\tif (isDefined(canvasOriginX))\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\telse\n\t\tctx.translate(margin.left + 0.5, margin.top + 0.5);\n\n\tdrawOnCanvas(ctx, props, context, moreProps);\n\n\tctx.restore();\n\n}\n\nfunction drawOnCanvas(ctx, props, context, moreProps) {\n\tvar { textAnchor, fontFamily, fontSize, opacity, rotate } = props;\n\tvar { xScale, chartConfig } = moreProps;\n\tvar { xAccessor } = context;\n\n\tvar { xPos, yPos, fill, text } = helper(props, xAccessor, xScale, getYScale(chartConfig));\n\n\tvar radians = (rotate / 180) * Math.PI;\n\tctx.save();\n\tctx.translate(xPos, yPos);\n\tctx.rotate(radians);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tctx.beginPath();\n\tctx.fillText(text, 0, 0);\n\tctx.restore();\n}\n\n\nexport default Label;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/Label.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass SvgPathAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, stroke, opacity } = this.props;\n\t\tvar { xAccessor, xScale, yScale, path } = this.props;\n\n\t\tvar { x, y, fill, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className} onClick={this.handleClick}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<path d={path({ x, y })} stroke={stroke} fill={fill} opacity={opacity} />\n\t\t</g>);\n\t}\n}\n\nfunction helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\tx: xPos,\n\t\ty: yPos,\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nSvgPathAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\tpath: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n};\n\nSvgPathAnnotation.defaultProps = {\n\tclassName: \"react-stockcharts-svgpathannotation\",\n\topacity: 1,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nexport default SvgPathAnnotation;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/annotation/SvgPathAnnotation.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { first, last, isDefined } from \"../utils\";\nimport { mousePosition, d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\n\nfunction sign(x) {\n\treturn (x > 0) - (x < 0);\n}\n\nclass AxisZoomCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\tthis.state = {\n\t\t\tstartPosition: null\n\t\t};\n\t}\n\thandleDragStart(e) {\n\t\tvar { getScale, getMoreProps } = this.props;\n\t\tvar startScale = getScale(getMoreProps());\n\n\t\tif (startScale.invert) {\n\t\t\td3.select(d3Window(this.refs.capture))\n\t\t\t\t.on(MOUSEMOVE, this.handleDrag)\n\t\t\t\t.on(MOUSEUP, this.handleDragEnd);\n\n\t\t\tvar startXY = mousePosition(e);\n\t\t\tvar leftX = e.pageX - startXY[0],\n\t\t\t\ttopY = e.pageY - startXY[1];\n\n\t\t\tthis.setState({\n\t\t\t\tstartPosition: {\n\t\t\t\t\tstartXY,\n\t\t\t\t\tleftX,\n\t\t\t\t\ttopY,\n\t\t\t\t\tstartScale,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\te.preventDefault();\n\t}\n\thandleDrag() {\n\t\tvar e = d3.event;\n\t\te.preventDefault();\n\n\t\tvar { startPosition } = this.state;\n\t\tvar { getMouseDelta } = this.props;\n\n\t\tif (isDefined(startPosition)) {\n\t\t\tvar { startScale } = startPosition;\n\t\t\tvar { startXY, leftX, topY } = startPosition;\n\n\t\t\tvar mouseXY = [e.pageX - leftX, e.pageY - topY];\n\n\t\t\tvar diff = getMouseDelta(startXY, mouseXY);\n\n\t\t\tvar center = d3.mean(startScale.range());\n\n\t\t\tvar tempRange = startScale.range()\n\t\t\t\t.map(d => d + sign(d - center) * diff);\n\n\t\t\tvar newDomain = tempRange.map(startScale.invert);\n\n\t\t\tif (sign(last(startScale.range()) - first(startScale.range())) === sign(last(tempRange) - first(tempRange))) {\n\n\t\t\t\tvar { axisZoomCallback } = this.props;\n\t\t\t\t// console.log(startXScale.domain(), newXDomain)\n\t\t\t\taxisZoomCallback(newDomain);\n\t\t\t}\n\t\t}\n\t}\n\thandleDragEnd() {\n\t\td3.select(d3Window(this.refs.capture))\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\t\tthis.setState({\n\t\t\tstartPosition: null,\n\t\t});\n\t}\n\trender() {\n\t\tvar { bg, zoomCursorClassName } = this.props;\n\n\t\tvar cursor = isDefined(this.state.startPosition)\n\t\t\t? zoomCursorClassName\n\t\t\t: \"react-stockcharts-default-cursor\";\n\n\t\treturn <rect\n\t\t\tclassName={`react-stockcharts-enable-interaction ${cursor}`}\n\t\t\tref=\"capture\"\n\t\t\tx={bg.x} y={bg.y} opacity={0} height={bg.h} width={bg.w}\n\t\t\tonMouseDown={this.handleDragStart} />;\n\t}\n}\n\nAxisZoomCapture.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\n\tbg: PropTypes.object.isRequired,\n\tzoomCursorClassName: PropTypes.string.isRequired,\n\tgetMoreProps: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n};\n\nAxisZoomCapture.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nexport default AxisZoomCapture;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/AxisZoomCapture.jsx","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport Axis from \"./Axis\";\n\nclass XAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newXDomain) {\n\t\tvar { xAxisZoom } = this.context;\n\t\txAxisZoom(newXDomain);\n\t}\n\trender() {\n\t\tvar { showTicks } = this.props;\n\t\tvar moreProps = helper(this.props, this.context);\n\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomEnabled={showTicks}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\n\nXAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\txZoomHeight: 25,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\n};\n\nXAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nfunction helper(props, context) {\n\tvar { axisAt, xZoomHeight, orient } = props;\n\tvar { width, height } = context;\n\n\tvar axisLocation, x = 0, w = width, h = xZoomHeight;\n\n\tif (axisAt === \"top\") axisLocation = 0;\n\telse if (axisAt === \"bottom\") axisLocation = height;\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\n\telse axisLocation = axisAt;\n\n\tvar y = (orient === \"top\") ? -xZoomHeight : 0;\n\n\treturn {\n\t\ttransform: [0, axisLocation],\n\t\trange: [0, width],\n\t\tgetScale: moreProps => moreProps.xScale,\n\t\tbg: { x, y, h, w },\n\t};\n}\nexport default XAxis;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/XAxis.jsx","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport Axis from \"./Axis\";\n\nclass YAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newYDomain) {\n\t\tvar { chartId, yAxisZoom } = this.context;\n\t\tyAxisZoom(chartId, newYDomain);\n\t}\n\trender() {\n\t\tvar moreProps = helper(this.props, this.context);\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\tedgeClip\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ns-resize-cursor\" />;\n\t}\n}\n\nYAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"left\", \"right\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\tyZoomWidth: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\n\nYAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-y-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tfill: \"none\",\n\tstroke: \"#FFFFFF\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tyZoomWidth: 40,\n\t// zoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1],\n};\n\nYAxis.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tyAxisZoom: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n};\n\nfunction helper(props, context) {\n\tvar { axisAt, yZoomWidth, orient } = props;\n\tvar { width, height } = context;\n\n\tvar axisLocation, y = 0, w = yZoomWidth, h = height;\n\n\tif (axisAt === \"left\") {\n\t\taxisLocation = 0;\n\t} else if (axisAt === \"right\") {\n\t\taxisLocation = width;\n\t} else if (axisAt === \"middle\") {\n\t\taxisLocation = (width) / 2;\n\t} else {\n\t\taxisLocation = axisAt;\n\t}\n\n\tvar x = (orient === \"left\") ? -yZoomWidth : 0;\n\n\treturn {\n\t\ttransform: [axisLocation, 0],\n\t\trange: [0, height],\n\t\tgetScale: moreProps => moreProps.chartConfig.yScale,\n\t\tbg: { x, y, h, w },\n\t\tzoomEnabled: context.chartConfig.yPan,\n\t};\n}\nexport default YAxis;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axes/YAxis.jsx","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\nimport PureComponent from \"../utils/PureComponent\";\n\nimport { hexToRGBA, isDefined, isNotDefined } from \"../utils\";\n\nclass CrossHairCursor extends PureComponent {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar lines = helper(this.props, this.context, moreProps);\n\n\t\tif (isDefined(lines)) {\n\n\t\t\tvar { margin } = this.context;\n\t\t\tvar originX = 0.5 + margin.left;\n\t\t\tvar originY = 0.5 + margin.top;\n\n\t\t\tctx.save();\n\t\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tctx.translate(originX, originY);\n\n\t\t\tlines.forEach(line => {\n\n\t\t\t\tctx.strokeStyle = hexToRGBA(line.stroke, line.opacity);\n\t\t\t\tvar dashArray = line.strokeDasharray.split(\",\").map(d => +d);\n\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(line.x1, line.y1);\n\t\t\t\tctx.lineTo(line.x2, line.y2);\n\t\t\t\tctx.stroke();\n\t\t\t});\n\n\t\t\tctx.restore();\n\t\t}\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar lines = helper(this.props, this.context, moreProps);\n\n\t\tif (isNotDefined(lines)) return null;\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-crosshair ${className}`}>\n\t\t\t\t{lines.map((each, idx) =>\n\t\t\t\t\t<line key={idx} {...each} />)}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nCrossHairCursor.propTypes = {\n\tclassName: PropTypes.string,\n};\n\nCrossHairCursor.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\n\t// xScale for getting update event upon pan end\n\txScale: PropTypes.func.isRequired,\n};\n\nCrossHairCursor.defaultProps = {\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tstrokeDasharray: \"4, 2\",\n\tsnapX: true,\n};\n\nfunction helper(props, context, { mouseXY, xScale, currentItem, show }) {\n\tvar { height, width, xAccessor } = context;\n\tvar { snapX, stroke, opacity, strokeDasharray } = props;\n\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar line1 = {\n\t\tx1: 0,\n\t\tx2: width,\n\t\ty1: mouseXY[1],\n\t\ty2: mouseXY[1],\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\tvar x = snapX ? Math.round(xScale(xAccessor(currentItem))) : mouseXY[0];\n\n\tvar line2 = {\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1: 0,\n\t\ty2: height,\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\treturn [line1, line2];\n}\n\nexport default CrossHairCursor;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/CrossHairCursor.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { isNotDefined } from \"../utils\";\n\nclass CurrentCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar circle = helper(this.props, this.context, moreProps);\n\t\tif (!circle) return null;\n\n\t\tctx.fillStyle = circle.fill;\n\t\tctx.beginPath();\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\t\tctx.fill();\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\n\t\tvar circle = helper(this.props, this.context, moreProps);\n\t\tif (!circle) return null;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={circle.fill} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\nCurrentCoordinate.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { fill, yAccessor, r } = props;\n\tvar { xAccessor } = context;\n\n\tvar { show, xScale, chartConfig: { yScale }, currentItem } = moreProps;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar xValue = xAccessor(currentItem);\n\tvar yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tvar x = Math.round(xScale(xValue));\n\tvar y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n}\n\nexport default CurrentCoordinate;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/CurrentCoordinate.jsx","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { first, last, isDefined } from \"../utils\";\n\nclass EdgeIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar edge = helper(this.props, this.context, moreProps);\n\t\tvar props = {\n\t\t\t...this.props,\n\t\t\t...edge,\n\t\t};\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar edge = helper(this.props, this.context, moreProps);\n\t\tvar props = {\n\t\t\t...this.props,\n\t\t\t...edge,\n\t\t};\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tedgeClip\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nEdgeIndicator.propTypes = {\n\tyAccessor: PropTypes.func,\n\n\ttype: PropTypes.oneOf([\"horizontal\"]).isRequired,\n\tclassName: PropTypes.string,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\ttextFill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\titemType: PropTypes.oneOf([\"first\", \"last\"]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]),\n\tedgeAt: PropTypes.oneOf([\"left\", \"right\"]),\n\tdisplayFormat: PropTypes.func.isRequired,\n\trectHeight: PropTypes.number.isRequired,\n\trectWidth: PropTypes.number.isRequired,\n\tarrowWidth: PropTypes.number.isRequired,\n};\nEdgeIndicator.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nEdgeIndicator.defaultProps = {\n\tclassName: \"react-stockcharts-edgeindicator\",\n\n\ttype: \"horizontal\",\n\torient: \"left\",\n\tedgeAt: \"left\",\n\ttextFill: \"#FFFFFF\",\n\tdisplayFormat: d3.format(\".2f\"),\n\tyAxisPad: 0,\n\trectHeight: 20,\n\trectWidth: 50,\n\tarrowWidth: 10,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\tdx: 0,\n\thideLine: false,\n\tfill: \"#8a8a8a\",\n\topacity: 1,\n\tlineStroke: \"#000000\",\n\tlineOpacity: 0.3,\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { type: edgeType, displayFormat, itemType, edgeAt, yAxisPad, orient } = props;\n\tvar { yAccessor, fill, textFill, rectHeight, rectWidth, arrowWidth } = props;\n\tvar { fontFamily, fontSize } = props;\n\tvar { xAccessor } = context;\n\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t// var currentItem = ChartDataUtil.getCurrentItemForChartNew(currentItems, forChart);\n\tvar edge = null;\n\t// console.log(chartData.config.compareSeries.length);\n\n\tvar item = (itemType === \"first\" ? first(plotData, yAccessor) : last(plotData, yAccessor));\n\n\tif (isDefined(item)) {\n\t\tvar yValue = yAccessor(item),\n\t\t\txValue = xAccessor(item);\n\n\t\tvar x1 = Math.round(xScale(xValue)),\n\t\t\ty1 = Math.round(yScale(yValue));\n\n\t\tvar [left, right] = xScale.range();\n\t\tvar edgeX = edgeAt === \"left\"\n\t\t\t\t? left - yAxisPad\n\t\t\t\t: right + yAxisPad;\n\n\t\tedge = {\n\t\t\t// ...props,\n\t\t\tcoordinate: displayFormat(yValue),\n\t\t\tshow: true,\n\t\t\ttype: edgeType,\n\t\t\torient,\n\t\t\tedgeAt: edgeX,\n\t\t\tfill: d3.functor(fill)(item),\n\t\t\tfontFamily, fontSize,\n\t\t\ttextFill: d3.functor(textFill)(item),\n\t\t\trectHeight, rectWidth, arrowWidth,\n\t\t\tx1,\n\t\t\ty1,\n\t\t\tx2: edgeX,\n\t\t\ty2: y1,\n\t\t};\n\t}\n\treturn edge;\n}\n\nexport default EdgeIndicator;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/EdgeIndicator.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateX extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseCoordinateX.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nMouseCoordinateX.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMouseCoordinateX.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 80,\n\trectHeight: 20,\n\torient: \"bottom\",\n\tat: \"bottom\",\n\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tsnapX: true,\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { height, xAccessor, displayXAccessor } = context;\n\tvar { show, currentItem, xScale, mouseXY } = moreProps;\n\t// var { chartConfig: { yScale, origin } } = moreProps;\n\n\tif (isNotDefined(currentItem)) return null;\n\n\tvar { snapX } = props;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tvar x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\tvar edgeAt = (at === \"bottom\")\n\t\t? height\n\t\t: 0;\n\n\tvar coordinate = snapX ? displayFormat(displayXAccessor(currentItem)) : displayFormat(xScale.invert(x));\n\tvar type = \"vertical\";\n\tvar y1 = 0, y2 = height;\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth: 0,\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1,\n\t\ty2\n\t};\n\treturn coordinateProps;\n}\n\n/* function drawOnCanvas(canvasContext, props) {\n\tvar { chartConfig, currentItem, xScale, mouseXY, currentCharts, show } = props;\n\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar edgeProps = helper(props, xScale, chartConfig, mouseXY, currentItem);\n\n\tctx.save();\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edgeProps);\n\n\tctx.restore();\n} */\n\nexport default MouseCoordinateX;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/MouseCoordinateX.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV2\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateY extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar props = helper(this.props, this.context, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tclip={false}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n}\n\nMouseCoordinateY.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nMouseCoordinateY.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\t// height: PropTypes.number.isRequired,\n\t// margin: PropTypes.object.isRequired,\n\tchartId: PropTypes.number.isRequired,\n};\n\nMouseCoordinateY.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tdx: 0,\n\tarrowWidth: 10,\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n};\n\nfunction helper(props, context, moreProps) {\n\tvar { chartId, width } = context;\n\tvar { show, currentCharts, chartConfig: { yScale, origin }, mouseXY } = moreProps;\n\n\tif (isNotDefined(mouseXY)) return null;\n\n\tif (currentCharts.indexOf(chartId) < 0) return null;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n\n\tvar x1 = 0, x2 = width;\n\tvar edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tvar type = \"horizontal\";\n\tvar y = mouseXY[1] - origin[1];\n\tvar coordinate = displayFormat(yScale.invert(y));\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\n/* function drawOnCanvas(canvasContext, props) {\n\tvar { chartConfig, currentItem, xScale, mouseXY, show, currentCharts } = props;\n\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar edgeProps = helper(props, xScale, chartConfig, mouseXY, currentCharts, currentItem);\n\n\tctx.save();\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edgeProps);\n\n\tctx.restore();\n}\n*/\nexport default MouseCoordinateY;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coordinates/MouseCoordinateY.jsx","\"use strict\";\n\nimport saveAsPng from \"save-svg-as-png\";\nimport { isDefined } from \"../utils\";\n\nvar SaveChartAsImage = {\n\tsave(doc, container, background, cb) {\n\t\tsaveAsPng.svgAsDataUri(container.getElementsByTagName(\"svg\")[0], {}, function(uri) {\n\t\t\tvar image = new Image();\n\t\t\timage.onload = function() {\n\t\t\t\tvar canvas = doc.createElement(\"canvas\");\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\t\t\t\tvar context = canvas.getContext(\"2d\");\n\n\t\t\t\tif (isDefined(background)) {\n\t\t\t\t\tcontext.fillStyle = background;\n\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t}\n\t\t\t\tvar canvasList = container.getElementsByTagName(\"canvas\");\n\t\t\t\tfor (var i = 0; i < canvasList.length; i++) {\n\t\t\t\t\tvar each = canvasList[i];\n\t\t\t\t\tif (isDefined(each)) {\n\t\t\t\t\t\tvar parent = each.parentNode.parentNode.getBoundingClientRect();\n\t\t\t\t\t\tvar rect = each.getBoundingClientRect();\n\t\t\t\t\t\tcontext.drawImage(each, rect.left - parent.left, rect.top - parent.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.drawImage(image, 0, 0);\n\t\t\t\tcb(canvas.toDataURL(\"image/png\"));\n\t\t\t};\n\t\t\timage.src = uri;\n\t\t});\n\t},\n\tsaveWithWhiteBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"white\", cb);\n\t},\n\tsaveWithDarkBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"#303030\", cb);\n\t},\n\tsaveWithBG(doc, container, background, cb) {\n\t\treturn this.save(doc, container, background, cb);\n\t},\n\tsaveChartAsImage(container) {\n\t\tthis.saveWithWhiteBG(document, container, function(src) {\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\ta.setAttribute(\"href\", src);\n\t\t\ta.setAttribute(\"download\", \"Chart.png\");\n\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.addEventListener(\"click\", function(/* e */) {\n\t\t\t\ta.parentNode.removeChild(a);\n\t\t\t});\n\n\t\t\ta.click();\n\t\t});\n\t}\n};\n\nexport default SaveChartAsImage;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/SaveChartAsImage.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass TypeChooser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttype: this.props.type\n\t\t};\n\t\tthis.handleTypeChange = this.handleTypeChange.bind(this);\n\t}\n\thandleTypeChange(e) {\n\t\t// console.log(e.target.value);\n\t\tthis.setState({\n\t\t\ttype: e.target.value\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<label>Type: </label>\n\t\t\t\t<select name=\"type\" id=\"type\" onChange={this.handleTypeChange} value={this.state.type} >\n\t\t\t\t\t<option value=\"svg\">svg</option>\n\t\t\t\t\t<option value=\"hybrid\">canvas + svg</option>\n\t\t\t\t</select>\n\t\t\t\t{this.props.children(this.state.type)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTypeChooser.propTypes = {\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]),\n\tchildren: PropTypes.func.isRequired,\n};\n\nTypeChooser.defaultProps = {\n\ttype: \"hybrid\"\n};\n\nexport default TypeChooser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/TypeChooser.jsx","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nexport default function fitWidth(WrappedComponent, withRef = true) {\n\tclass ResponsiveComponent extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.handleWindowResize = this.handleWindowResize.bind(this);\n\t\t\tthis.getWrappedInstance = this.getWrappedInstance.bind(this);\n\t\t\tthis.saveNode = this.saveNode.bind(this);\n\t\t}\n\t\tsaveNode(node) {\n\t\t\tthis.node = node;\n\t\t}\n\t\tcomponentDidMount() {\n\t\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\t\tvar el = this.node;\n\t\t\tvar w = el.parentNode.clientWidth;\n\n\t\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t\t/* eslint-enable react/no-did-mount-set-state */\n\t\t}\n\t\tcomponentWillUnmount() {\n\t\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t\t}\n\t\thandleWindowResize() {\n\t\t\tvar el = ReactDOM.findDOMNode(this.node); // eslint-disable-line react/no-find-dom-node\n\t\t\tvar w = el.parentNode.clientWidth;\n\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t}\n\t\tgetWrappedInstance() {\n\t\t\treturn this.node;\n\t\t}\n\t\trender() {\n\t\t\tvar ref = withRef ? { ref: this.saveNode } : {};\n\n\t\t\tif (this.state && this.state.width) {\n\t\t\t\treturn <WrappedComponent width={this.state.width} {...this.props} {...ref} />;\n\t\t\t} else {\n\t\t\t\treturn <div {...ref} />;\n\t\t\t}\n\t\t}\n\t}\n\n\tResponsiveComponent.displayName = `fitWidth(${ getDisplayName(WrappedComponent) })`;\n\n\treturn ResponsiveComponent;\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/helper/fitWidth.jsx","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/bollingerBands.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\nimport { last, slidingWindow, zipper, path } from \"../../utils\";\n\nimport { BollingerBand as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, multiplier, movingAverageType, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tvar source = path(sourcePath);\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).sourcePath(sourcePath)\n\t\t\t: slidingWindow().windowSize(windowSize)\n\t\t\t\t.accumulator(values => d3.mean(values)).sourcePath(sourcePath);\n\n\t\tvar bollingerBandAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\t\t\t\tvar avg = last(values).mean;\n\t\t\t\tvar stdDev = d3.deviation(values, (each) => source(each.datum));\n\t\t\t\treturn {\n\t\t\t\t\ttop: avg + multiplier * stdDev,\n\t\t\t\t\tmiddle: avg,\n\t\t\t\t\tbottom: avg - multiplier * stdDev\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => ({ datum, mean }));\n\n\t\tvar tuples = zip(data, meanAlgorithm(data));\n\t\treturn bollingerBandAlgorithm(tuples);\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.multiplier = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn multiplier;\n\t\t}\n\t\tmultiplier = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/bollingerband.js","\"use strict\";\n\nimport { slidingWindow } from \"../../utils\";\n\nexport default function() {\n\n\tvar sourcePath = \"close\";\n\tfunction calculator(data) {\n\n\t\tvar algo = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(([prev, curr]) => {\n\t\t\t\tvar absoluteChange = curr - prev;\n\t\t\t\tvar percentChange = absoluteChange * 100 / prev;\n\t\t\t\treturn { absoluteChange, percentChange };\n\t\t\t});\n\n\t\tvar newData = algo(data);\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn 1;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/change.js","\"use strict\";\n\nimport { first } from \"../../utils\";\n\nexport default function() {\n\tvar base = d => d.close;\n\tvar mainKeys = [];\n\tvar compareKeys = [];\n\n\tfunction calculator(data) {\n\t\tvar f = first(data);\n\t\tvar b = base(f);\n\t\tvar compareData = data.map(d => {\n\t\t\tvar result = {};\n\n\t\t\tmainKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - b) / b;\n\t\t\t});\n\n\t\t\tcompareKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - f[key]) / f[key];\n\t\t\t});\n\t\t\treturn result;\n\t\t});\n\t\t// console.log(compareData[20]);\n\t\treturn compareData;\n\t}\n\tcalculator.base = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn base;\n\t\t}\n\t\tbase = x;\n\t\treturn calculator;\n\t};\n\tcalculator.mainKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mainKeys;\n\t\t}\n\t\tmainKeys = x;\n\t\treturn calculator;\n\t};\n\tcalculator.compareKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn compareKeys;\n\t\t}\n\t\tcompareKeys = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/compare.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/elderRay.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\n\nimport { ElderRay as defaultOptions } from \"../defaultOptionsForComputation\";\nimport { isDefined, zipper, slidingWindow } from \"../../utils\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath, movingAverageType } = defaultOptions;\n\tvar ohlc = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction calculator(data) {\n\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).sourcePath(sourcePath)\n\t\t\t: slidingWindow().windowSize(windowSize).accumulator(values => d3.mean(values)).sourcePath(sourcePath);\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => {\n\t\t\t\tvar bullPower = isDefined(mean) ? ohlc(datum).high - mean : undefined;\n\t\t\t\tvar bearPower = isDefined(mean) ? ohlc(datum).low - mean : undefined;\n\t\t\t\treturn { bullPower, bearPower };\n\t\t\t});\n\n\t\tvar newData = zip(data, meanAlgorithm(data));\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.ohlc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn ohlc;\n\t\t}\n\t\tohlc = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/elderRay.js","\"use strict\";\n\nimport { slidingWindow, path } from \"../../utils\";\nimport { ForceIndex as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { sourcePath } = defaultOptions;\n\tvar volumePath = \"volume\";\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar volume = path(volumePath);\n\n\t\tvar forceIndexCalulator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.accumulator(([prev, curr]) => (source(curr) - source(prev)) * volume(curr));\n\n\t\tvar forceIndex = forceIndexCalulator(data);\n\n\t\treturn forceIndex;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn 2;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.volumePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn volumePath;\n\t\t}\n\t\tvolumePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/forceIndex.js","\"use strict\";\n\nimport { mappedSlidingWindow, identity } from \"../../utils\";\n\nexport default function() {\n\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\t\tvar algorithm = mappedSlidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(({ open, high, low, close }) => {\n\t\t\t\tclose = (open + high + low + close) / 4;\n\t\t\t\treturn { open, high, low, close };\n\t\t\t})\n\t\t\t.accumulator(([prev, now]) => {\n\t\t\t\t// console.log(prev, now);\n\t\t\t\tvar close = (now.open + now.high + now.low + now.close) / 4;\n\t\t\t\tvar open = (prev.open + prev.close) / 2;\n\t\t\t\tvar high = Math.max(open, now.high, close);\n\t\t\t\tvar low = Math.min(open, now.low, close);\n\t\t\t\treturn { open, high, low, close };\n\t\t\t});\n\n\t\treturn algorithm(data);\n\t}\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/heikinAshi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, isNotDefined, path } from \"../../utils\";\nimport atr from \"./atr\";\n\nimport { Kagi as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { reversalType, windowSize, reversal, sourcePath } = defaultOptions;\n\tvar dateAccessor = d => d.date;\n\tvar dateMutator = (d, date) => { d.date = date; };\n\n\tfunction calculator(data) {\n\t\tvar source = path(sourcePath);\n\t\tvar reversalThreshold;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(data);\n\t\t\treversalThreshold = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\treversalThreshold = d3.functor(reversal);\n\t\t}\n\n\t\tvar kagiData = [];\n\n\t\tvar prevPeak, prevTrough, direction;\n\t\tvar line = {};\n\n\t\tdata.forEach(function(d) {\n\t\t\tif (isNotDefined(line.from)) {\n\t\t\t\tdateMutator(line, dateAccessor(d));\n\t\t\t\tline.from = dateAccessor(d);\n\n\t\t\t\tif (!line.open) line.open = d.open;\n\t\t\t\tline.high = d.high;\n\t\t\t\tline.low = d.low;\n\t\t\t\tif (!line.close) line.close = source(d);\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t}\n\n\t\t\tif (!line.startOfYear) {\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tif (line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfQuarter) {\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (line.startOfQuarter && !line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfMonth) {\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tif (line.startOfMonth && !line.startOfQuarter) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!line.startOfWeek) {\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t\tif (line.startOfWeek && !line.startOfMonth) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tline.volume = (line.volume || 0) + d.volume;\n\t\t\tline.high = Math.max(line.high, d.high);\n\t\t\tline.low = Math.min(line.low, d.low);\n\t\t\tline.to = dateAccessor(d);\n\n\t\t\tvar priceMovement = (source(d) - line.close);\n\n\t\t\t// console.log(source(d), priceMovement)\n\t\t\tif ((line.close > line.open /* going up */ && priceMovement > 0 /* and moving in same direction */)\n\t\t\t\t\t|| (line.close < line.open /* going down */ && priceMovement < 0 /* and moving in same direction */)) {\n\t\t\t\tline.close = source(d);\n\t\t\t\tif (prevTrough && line.close < prevTrough) {\n\t\t\t\t\t// going below the prevTrough, so change from yang to yin\n\t\t\t\t\t// A yin line forms when a Kagi line breaks below the prior trough.\n\t\t\t\t\tline.changePoint = prevTrough;\n\t\t\t\t\tif (line.startAs !== \"yin\") {\n\t\t\t\t\t\tline.changeTo = \"yin\";\n\t\t\t\t\t\t// line.startAs = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (prevPeak && line.close > prevPeak) {\n\t\t\t\t\t// going above the prevPeak, so change from yin to yang\n\t\t\t\t\t// A yang line forms when a Kagi line breaks above the prior peak\n\t\t\t\t\tline.changePoint = prevPeak;\n\t\t\t\t\tif (line.startAs !== \"yang\") {\n\t\t\t\t\t\tline.changeTo = \"yang\";\n\t\t\t\t\t\t// line.startAs = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ((line.close > line.open /* going up */\n\t\t\t\t\t\t\t&& priceMovement < 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)\n\t\t\t\t\t|| (line.close < line.open /* going down */\n\t\t\t\t\t\t\t&& priceMovement > 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)) {\n\t\t\t\t// reverse direction\n\t\t\t\tvar nextLineOpen = line.close;\n\n\t\t\t\tdirection = (line.close - line.open) / Math.abs(line.close - line.open);\n\n\t\t\t\tvar nextChangePoint, nextChangeTo;\n\t\t\t\tif (direction < 0 /* if direction so far has been -ve*/) {\n\t\t\t\t\t// compare with line.close becomes prevTrough\n\t\t\t\t\tif (isNotDefined(prevPeak)) prevPeak = line.open;\n\t\t\t\t\tprevTrough = line.close;\n\t\t\t\t\tif (source(d) > prevPeak) {\n\t\t\t\t\t\tnextChangePoint = prevPeak;\n\t\t\t\t\t\tnextChangeTo = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isNotDefined(prevTrough)) prevTrough = line.open;\n\t\t\t\t\tprevPeak = line.close;\n\t\t\t\t\tif (source(d) < prevTrough) {\n\t\t\t\t\t\tnextChangePoint = prevTrough;\n\t\t\t\t\t\tnextChangeTo = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNotDefined(line.startAs)) {\n\t\t\t\t\tline.startAs = direction > 0 ? \"yang\" : \"yin\";\n\t\t\t\t}\n\n\t\t\t\tvar startAs = line.changeTo || line.startAs;\n\t\t\t\tline.added = true;\n\t\t\t\tkagiData.push(line);\n\t\t\t\tdirection = -1 * direction; // direction is reversed\n\n\t\t\t\tline = { ...line };\n\t\t\t\tline.open = nextLineOpen;\n\t\t\t\tline.close = source(d);\n\t\t\t\tline.startAs = startAs;\n\t\t\t\tline.changePoint = nextChangePoint;\n\t\t\t\tline.changeTo = nextChangeTo;\n\t\t\t\tline.added = false;\n\t\t\t\tline.from = undefined;\n\t\t\t\tline.volume = 0;\n\t\t\t} else {\n\t\t\t\t// console.log(\"MOVING IN REV DIR BUT..\", line.open, line.close, source(d));\n\t\t\t}\n\t\t\tline.current = source(d);\n\t\t\tvar dir = line.close - line.open;\n\t\t\tdir = dir / Math.abs(dir);\n\t\t\tline.reverseAt = dir > 0 ? line.close - reversalThreshold(d) : line.open - reversalThreshold(d);\n\t\t});\n\t\tif (!line.added) kagiData.push(line);\n\n\t\treturn kagiData;\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/kagi.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/macd.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport ema from \"./ema\";\n\nimport { isDefined, zipper } from \"../../utils\";\nimport { MACD as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { fast, slow, signal, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar fastEMA = ema()\n\t\t\t.windowSize(fast)\n\t\t\t.sourcePath(sourcePath);\n\t\tvar slowEMA = ema()\n\t\t\t.windowSize(slow)\n\t\t\t.sourcePath(sourcePath);\n\t\tvar signalEMA = ema()\n\t\t\t.windowSize(signal)\n\t\t\t.sourcePath(undefined);\n\n\t\tvar macdCalculator = zipper()\n\t\t\t.combine((fastEMA, slowEMA) => (isDefined(fastEMA) && isDefined(slowEMA)) ? fastEMA - slowEMA : undefined);\n\n\t\tvar macdArray = macdCalculator(fastEMA(data), slowEMA(data));\n\n\t\tvar undefinedArray = new Array(slow);\n\t\tvar signalArray = undefinedArray.concat(signalEMA(macdArray.slice(slow)));\n\n\t\tvar zip = zipper()\n\t\t\t.combine((macd, signal) => ({\n\t\t\t\tmacd,\n\t\t\t\tsignal,\n\t\t\t\tdivergence: (isDefined(macd) && isDefined(signal)) ? macd - signal : undefined,\n\t\t\t}));\n\n\t\tvar macd = zip(macdArray, signalArray);\n\n\t\treturn macd;\n\t}\n\n\tcalculator.undefinedLength = function() {\n\t\treturn slow + signal;\n\t};\n\tcalculator.fast = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn fast;\n\t\t}\n\t\tfast = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.slow = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn slow;\n\t\t}\n\t\tslow = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.signal = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn signal;\n\t\t}\n\t\tsignal = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\t/* calculator.options = function(options) {\n\t\tif (options) {\n\t\t\tvar { fast, slow, signal, source } = options;\n\t\t\tunderlyingAlgorithm\n\t\t\t\t.fast(fast)\n\t\t\t\t.slow(slow)\n\t\t\t\t.signal(signal)\n\t\t\t\t.source()\n\t\t}\n\t\treturn {\n\n\t\t}\n\t}; */\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/macd.js","\"use strict\";\n\nimport { isNotDefined } from \"../../utils\";\nimport { PointAndFigure as defaultOptions } from \"../defaultOptionsForComputation\";\n\nfunction createBox(d, dateAccessor, dateMutator) {\n\tvar box = {\n\t\topen: d.open,\n\t\tfromDate: dateAccessor(d),\n\t\ttoDate: dateAccessor(d),\n\t\tstartOfYear: d.startOfYear,\n\t\tstartOfQuarter: d.startOfQuarter,\n\t\tstartOfMonth: d.startOfMonth,\n\t\tstartOfWeek: d.startOfWeek\n\t};\n\tdateMutator(box, dateAccessor(d));\n\treturn box;\n}\n\nfunction updateColumns(columnData, dateAccessor, dateMutator) {\n\tcolumnData.forEach(function(d) {\n\t\t// var lastBox = d.boxes[d.boxes.length - 1];\n\n\t\td.startOfYear = false;\n\t\td.startOfQuarter = false;\n\t\td.startOfMonth = false;\n\t\td.startOfWeek = false;\n\n\t\td.boxes.forEach(function(eachBox) {\n\t\t\tif (isNotDefined(d.open)) d.open = eachBox.open;\n\t\t\td.close = eachBox.close;\n\t\t\td.high = Math.max(d.open, d.close);\n\t\t\td.low = Math.min(d.open, d.close);\n\n\t\t\tif (isNotDefined(d.fromDate)) d.fromDate = eachBox.fromDate;\n\t\t\tif (isNotDefined(d.date)) d.date = eachBox.date;\n\t\t\td.toDate = eachBox.toDate;\n\n\t\t\tif (eachBox.startOfYear) {\n\t\t\t\td.startOfYear = d.startOfYear || eachBox.startOfYear;\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfQuarter !== true && eachBox.startOfQuarter) {\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfMonth !== true && eachBox.startOfMonth) {\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfWeek !== true && eachBox.startOfWeek) {\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t});\n\n\t});\n\n\t// console.table(columnData);\n\t// console.table(rawData);\n\treturn columnData;\n}\n\n\nexport default function() {\n\tvar { reversal, boxSize, sourcePath } = defaultOptions;\n\tvar dateAccessor = d => d.date;\n\tvar dateMutator = (d, date) => { d.date = date; };\n\n\tfunction calculator(rawData) {\n\t\tvar source = sourcePath === \"high/low\"\n\t\t\t? d => ({ high: d.high, low: d.low })\n\t\t\t: d => ({ high: d.close, low: d.close });\n\n\t\tvar pricingMethod = source;\n\t\tvar columnData = [];\n\n\t\tvar column = {\n\t\t\t\tboxes: [],\n\t\t\t\topen: rawData[0].open\n\t\t\t}, box = createBox(rawData[0], dateAccessor, dateMutator);\n\n\t\tcolumnData.push(column);\n\n\t\trawData.forEach(function(d) {\n\t\t\tcolumn.volume = (column.volume || 0) + d.volume;\n\n\t\t\tif (!box.startOfYear) {\n\t\t\t\tbox.startOfYear = d.startOfYear;\n\t\t\t\tif (box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfYear && !box.startOfQuarter) {\n\t\t\t\tbox.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (box.startOfQuarter && !box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfQuarter && !box.startOfMonth) {\n\t\t\t\tbox.startOfMonth = d.startOfMonth;\n\t\t\t\tif (box.startOfMonth && !box.startOfQuarter) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!box.startOfMonth && !box.startOfWeek) {\n\t\t\t\tbox.startOfWeek = d.startOfWeek;\n\t\t\t\tif (box.startOfWeek && !box.startOfMonth) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (columnData.length === 1 && column.boxes.length === 0) {\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - column.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((column.open - pricingMethod(d).low), 0)); // downward movement\n\t\t\t\tcolumn.direction = upwardMovement > downwardMovement ? 1 : -1;\n\t\t\t\tif (boxSize * reversal < upwardMovement\n\t\t\t\t\t|| boxSize * reversal < downwardMovement) {\n\t\t\t\t\t// enough movement to trigger a reversal\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tbox.open = column.open;\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(box, dateAccessor, dateMutator);\n\t\t\t\t\t\t// box = cloneMe(box);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tbox.date = dateAccessor(d);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// one or more boxes already formed in the current column\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - box.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((pricingMethod(d).low - box.open), 0)); // downward movement\n\n\t\t\t\tif ((column.direction > 0 && upwardMovement > boxSize) /* rising column AND box can be formed */\n\t\t\t\t\t\t|| (column.direction < 0 && downwardMovement > boxSize) /* falling column AND box can be formed */ ) {\n\t\t\t\t\t// form another box\n\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t} else if ((column.direction > 0 && downwardMovement > boxSize * reversal) /* rising column and there is downward movement to trigger a reversal */\n\t\t\t\t\t\t|| (column.direction < 0 && upwardMovement > boxSize * reversal)/* falling column and there is downward movement to trigger a reversal */) {\n\t\t\t\t\t// reversal\n\n\t\t\t\t\tbox.open = box.open + -1 * column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.startOfYear = d.startOfYear;\n\t\t\t\t\t// box.startOfQuarter = d.startOfQuarter;\n\t\t\t\t\t// box.startOfMonth = d.startOfMonth;\n\t\t\t\t\t// box.startOfWeek = d.startOfWeek;\n\t\t\t\t\t// console.table(column.boxes);\n\t\t\t\t\t// var idx = index + 1;\n\t\t\t\t\tcolumn = {\n\t\t\t\t\t\tboxes: [],\n\t\t\t\t\t\tvolume: 0,\n\t\t\t\t\t\tdirection: -1 * column.direction\n\t\t\t\t\t};\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tvar prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolumnData.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tupdateColumns(columnData, dateAccessor, dateMutator);\n\n\t\treturn columnData;\n\t}\n\tcalculator.reversal = function(x) {\n\t\tif (!arguments.length) return reversal;\n\t\treversal = x;\n\t\treturn calculator;\n\t};\n\tcalculator.boxSize = function(x) {\n\t\tif (!arguments.length) return boxSize;\n\t\tboxSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) return sourcePath;\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/pointAndFigure.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge, isNotDefined } from \"../../utils\";\n\nimport atr from \"./atr\";\n\nimport { Renko as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { reversalType, fixedBrickSize, sourcePath, windowSize } = defaultOptions;\n\tvar dateAccessor = d => d.date;\n\tvar dateMutator = (d, date) => { d.date = date; };\n\n\tfunction calculator(rawData) {\n\t\tvar source = sourcePath === \"high/low\"\n\t\t\t? d => ({ high: d.high, low: d.low })\n\t\t\t: d => ({ high: d.close, low: d.close });\n\n\t\tvar pricingMethod = source, brickSize;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(rawData);\n\t\t\tbrickSize = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\tbrickSize = d3.functor(fixedBrickSize);\n\t\t}\n\n\t\tvar renkoData = [];\n\n\t\tvar index = 0, prevBrickClose = rawData[index].open, prevBrickOpen = rawData[index].open;\n\t\tvar brick = {}, direction = 0;\n\n\t\trawData.forEach(function(d, idx) {\n\t\t\tif (isNotDefined(brick.from)) {\n\t\t\t\tbrick.high = d.high;\n\t\t\t\tbrick.low = d.low;\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\n\t\t\t\tbrick.from = idx;\n\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t// indexMutator(brick, index++);\n\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t}\n\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\n\t\t\tvar prevCloseToHigh = (prevBrickClose - pricingMethod(d).high),\n\t\t\t\tprevCloseToLow = (prevBrickClose - pricingMethod(d).low),\n\t\t\t\tprevOpenToHigh = (prevBrickOpen - pricingMethod(d).high),\n\t\t\t\tprevOpenToLow = (prevBrickOpen - pricingMethod(d).low),\n\t\t\t\tpriceMovement = Math.min(\n\t\t\t\t\tMath.abs(prevCloseToHigh),\n\t\t\t\t\tMath.abs(prevCloseToLow),\n\t\t\t\t\tMath.abs(prevOpenToHigh),\n\t\t\t\t\tMath.abs(prevOpenToLow));\n\n\n\t\t\tbrick.high = Math.max(brick.high, d.high);\n\t\t\tbrick.low = Math.min(brick.low, d.low);\n\n\t\t\tif (!brick.startOfYear) {\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tif (brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfQuarter) {\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (brick.startOfQuarter && !brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfMonth) {\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tif (brick.startOfMonth && !brick.startOfQuarter) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!brick.startOfWeek) {\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\t\t\t\tif (brick.startOfWeek && !brick.startOfMonth) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// d.brick = JSON.stringify(brick);\n\t\t\tif (brickSize(d)) {\n\t\t\t\tvar noOfBricks = Math.floor(priceMovement / brickSize(d));\n\n\t\t\t\tbrick.open = (Math.abs(prevCloseToHigh) < Math.abs(prevOpenToHigh)\n\t\t\t\t\t|| Math.abs(prevCloseToLow) < Math.abs(prevOpenToLow))\n\t\t\t\t\t\t\t\t? prevBrickClose\n\t\t\t\t\t\t\t\t: prevBrickOpen;\n\n\t\t\t\tif (noOfBricks >= 1) {\n\t\t\t\t\tlet j = 0;\n\t\t\t\t\tfor (j = 0; j < noOfBricks; j++) {\n\t\t\t\t\t\tbrick.close = (brick.open < pricingMethod(d).high)\n\t\t\t\t\t\t\t\t\t\t// if brick open is less than current price it means it is green/hollow brick\n\t\t\t\t\t\t\t\t\t\t\t? brick.open + brickSize(d)\n\t\t\t\t\t\t\t\t\t\t\t: brick.open - brickSize(d);\n\t\t\t\t\t\tdirection = brick.close > brick.open ? 1 : -1;\n\t\t\t\t\t\tbrick.direction = direction;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\t// brick.diff = brick.open - brick.close;\n\t\t\t\t\t\t// brick.atr = d.atr;\n\t\t\t\t\t\tbrick.fullyFormed = true;\n\t\t\t\t\t\trenkoData.push(brick);\n\n\t\t\t\t\t\tprevBrickClose = brick.close;\n\t\t\t\t\t\tprevBrickOpen = brick.open;\n\n\t\t\t\t\t\tvar newBrick = {\n\t\t\t\t\t\t\thigh: brick.high,\n\t\t\t\t\t\t\tlow: brick.low,\n\t\t\t\t\t\t\topen: brick.close,\n\t\t\t\t\t\t\tstartOfYear: false,\n\t\t\t\t\t\t\tstartOfMonth: false,\n\t\t\t\t\t\t\tstartOfQuarter: false,\n\t\t\t\t\t\t\tstartOfWeek: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbrick = newBrick;\n\t\t\t\t\t\tbrick.from = idx;\n\t\t\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t\t\t// indexMutator(brick, index + j);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\t\t\t\t\t}\n\t\t\t\t\tindex = index + j - 1;\n\t\t\t\t\tbrick = {};\n\t\t\t\t} else {\n\t\t\t\t\tif (idx === rawData.length - 1) {\n\t\t\t\t\t\tbrick.close = direction > 0 ? pricingMethod(d).high : pricingMethod(d).low;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.fullyFormed = false;\n\t\t\t\t\t\trenkoData.push(brick);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\treturn renkoData;\n\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.fixedBrickSize = function(x) {\n\t\tif (!arguments.length) return fixedBrickSize;\n\t\tfixedBrickSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) return sourcePath;\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) return windowSize;\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/renko.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/relativeStrengthIndex.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { isDefined, last, slidingWindow, path } from \"../../utils\";\nimport { RSI as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar source = path(sourcePath);\n\t\tvar prevAvgGain, prevAvgLoss;\n\t\tvar rsiAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\n\t\t\t\tvar avgGain = isDefined(prevAvgGain)\n\t\t\t\t\t? (prevAvgGain * (windowSize - 1) + last(values).gain) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.gain);\n\n\t\t\t\tvar avgLoss = isDefined(prevAvgLoss)\n\t\t\t\t\t? (prevAvgLoss * (windowSize - 1) + last(values).loss) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.loss);\n\n\t\t\t\tvar relativeStrength = avgGain / avgLoss;\n\t\t\t\tvar rsi = 100 - (100 / (1 + relativeStrength));\n\n\t\t\t\tprevAvgGain = avgGain;\n\t\t\t\tprevAvgLoss = avgLoss;\n\n\t\t\t\treturn rsi;\n\t\t\t});\n\n\t\tvar gainsAndLossesCalculator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(() => [0, 0])\n\t\t\t.accumulator(tuple => {\n\t\t\t\tvar prev = tuple[0];\n\t\t\t\tvar now = tuple[1];\n\t\t\t\tvar change = source(now) - source(prev);\n\t\t\t\treturn {\n\t\t\t\t\tgain: Math.max(change, 0),\n\t\t\t\t\tloss: Math.abs(Math.min(change, 0)),\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar gainsAndLosses = gainsAndLossesCalculator(data);\n\n\t\tvar rsiData = rsiAlgorithm(gainsAndLosses);\n\n\t\treturn rsiData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/rsi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow } from \"../../utils\";\nimport { SMA as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, sourcePath } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar mean = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\treturn mean(data);\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn windowSize;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/sma.js","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/stochasticOscillator.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { last, slidingWindow, zipper } from \"../../utils\";\nimport { FullStochasticOscillator as defaultOptions } from \"../defaultOptionsForComputation\";\n\nexport default function() {\n\n\tvar { windowSize, kWindowSize, dWindowSize } = defaultOptions;\n\n\tvar source = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\tvar high = d => source(d).high,\n\t\tlow = d => source(d).low,\n\t\tclose = d => source(d).close;\n\n\tfunction calculator(data) {\n\t\tvar kWindow = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\n\t\t\t\tvar highestHigh = d3.max(values, high);\n\t\t\t\tvar lowestLow = d3.min(values, low);\n\n\t\t\t\tvar currentClose = close(last(values));\n\t\t\t\tvar k = (currentClose - lowestLow) / (highestHigh - lowestLow) * 100;\n\n\t\t\t\treturn k;\n\t\t\t});\n\n\t\tvar kSmoothed = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1)\n\t\t\t.windowSize(kWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar dWindow = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1 + kWindowSize - 1)\n\t\t\t.windowSize(dWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar stoAlgorithm = zipper()\n\t\t\t.combine((K, D) => ({ K, D }));\n\n\t\tvar kData = kSmoothed(kWindow(data));\n\t\tvar dData = dWindow(kData);\n\n\t\tvar newData = stoAlgorithm(kData, dData);\n\n\t\treturn newData;\n\t}\n\tcalculator.undefinedLength = function() {\n\t\treturn Math.min(windowSize + kWindowSize, dWindowSize);\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.kWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn kWindowSize;\n\t\t}\n\t\tkWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn dWindowSize;\n\t\t}\n\t\tdWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/algorithm/sto.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { atr } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { ATR as defaultOptions } from \"./defaultOptionsForComputation\";\n\nconst ALGORITHM_TYPE = \"ATR\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.atr);\n\n\tvar underlyingAlgorithm = atr()\n\t\t.windowSize(defaultOptions.period);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.atr = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/atr.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { BollingerBand as appearanceOptions } from \"./defaultOptionsForAppearance\";\nimport baseIndicator from \"./baseIndicator\";\nimport { bollingerband } from \"./algorithm\";\n\nconst ALGORITHM_TYPE = \"BollingerBand\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.bollingerBand)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.fill(appearanceOptions.fill);\n\n\tvar underlyingAlgorithm = bollingerband();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.bollingerBand = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\n\tbase.tooltipLabel(() => `BB (${underlyingAlgorithm.windowSize()}, ${underlyingAlgorithm.multiplier()}`\n\t\t+ `, ${underlyingAlgorithm.movingAverageType()}): `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/bollingerBand.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { change } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Change\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = change();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\n\t\t\tdatum.percentChange = indicator.percentChange;\n\t\t});\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/change.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { compare } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Compare\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.compare);\n\n\tvar underlyingAlgorithm = compare()\n\t\t.base(d => d.close)\n\t\t.mainKeys([\"open\", \"high\", \"low\", \"close\"]);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.compare = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"base\", \"mainKeys\", \"compareKeys\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/compare.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isDefined, isNotDefined, merge, slidingWindow } from \"../utils\";\n\nimport { ElderImpulse as appearanceOptions } from \"./defaultOptionsForAppearance\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderImpulse\";\n\nexport default function() {\n\n\tvar macdSource, emaSource;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t// .stroke(d => stroke[d.elderImpulse])\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.fill(undefined);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(2)\n\t\t.undefinedValue(\"neutral\")\n\t\t.accumulator(([prev, curr]) => {\n\t\t\tif (isNotDefined(macdSource)) throw new Error(`macdSource not defined for ${ALGORITHM_TYPE} calculator`);\n\t\t\tif (isNotDefined(emaSource)) throw new Error(`emaSource not defined for ${ALGORITHM_TYPE} calculator`);\n\n\t\t\tif (isDefined(macdSource(prev)) && isDefined(emaSource(prev))) {\n\t\t\t\tvar prevMACDDivergence = macdSource(prev).divergence;\n\t\t\t\tvar currMACDDivergence = macdSource(curr).divergence;\n\n\t\t\t\tvar prevEMA = emaSource(prev);\n\t\t\t\tvar currEMA = emaSource(curr);\n\n\t\t\t\tif (currMACDDivergence >= prevMACDDivergence\n\t\t\t\t\t&& currEMA >= prevEMA) return \"up\";\n\n\t\t\t\tif (currMACDDivergence <= prevMACDDivergence\n\t\t\t\t\t&& currEMA <= prevEMA) return \"down\";\n\t\t\t}\n\t\t\treturn \"neutral\";\n\t\t});\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderImpulse = indicator; });\n\n\tvar indicator = function(data) {\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.macdSource = function(x) {\n\t\tif (!arguments.length) return macdSource;\n\t\tmacdSource = x;\n\t\treturn indicator;\n\t};\n\tindicator.emaSource = function(x) {\n\t\tif (!arguments.length) return emaSource;\n\t\temaSource = x;\n\t\treturn indicator;\n\t};\n\td3.rebind(indicator, base, \"id\", \"echo\", \"type\", \"stroke\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/elderImpulse.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { elderRay } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderRay\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = elderRay();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderRay = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(`${ALGORITHM_TYPE}: `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/elderRay.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge } from \"../utils\";\n\nimport { ema } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"EMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ema);\n\n\tvar underlyingAlgorithm = ema();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.ema = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.windowSize();\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/ema.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { forceIndex } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ForceIndex\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.forceIndex);\n\n\tvar underlyingAlgorithm = forceIndex();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.forceIndex = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/forceIndex.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { heikinAshi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nimport { merge } from \"../utils\";\n\nconst ALGORITHM_TYPE = \"HeikinAshi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ha);\n\n\tvar underlyingAlgorithm = heikinAshi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\treturn { ...datum, ...indicator };\n\t\t});\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/heikinAshi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { kagi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Kagi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = kagi();\n\n\tvar indicator = underlyingAlgorithm;\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/kagi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { macd } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { MACD as appearanceOptions } from \"./defaultOptionsForAppearance\";\n\nconst ALGORITHM_TYPE = \"MACD\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.fill(appearanceOptions.fill)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.accessor(d => d.macd);\n\n\tvar underlyingAlgorithm = macd();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.macd = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\", \"fast\", \"slow\", \"signal\", \"undefinedLength\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/macd.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { pointAndFigure } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"PointAndFigure\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = pointAndFigure();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/pointAndFigure.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { renko } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Renko\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = renko();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\n\treturn indicator;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/renko.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { rsi } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar overSold = 70,\n\t\tmiddle = 50,\n\t\toverBought = 30;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.rsi);\n\n\tvar underlyingAlgorithm = rsi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.rsi = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"sourcePath\", \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/rsi.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { sma } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"SMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.sma);\n\n\tvar underlyingAlgorithm = sma();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sma = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.undefinedLength = function() {\n\t\treturn underlyingAlgorithm.windowSize();\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"undefinedValue\", \"sourcePath\", \"skipInitial\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/sma.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { sto } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { FullStochasticOscillator as appearanceOptions } from \"./defaultOptionsForAppearance\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar overSold = 80,\n\t\toverBought = 20,\n\t\tmiddle = 50;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.stroke(appearanceOptions.stroke)\n\t\t.accessor(d => d.sto);\n\n\tvar underlyingAlgorithm = sto();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sto = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}`\n\t\t\t+ `, ${underlyingAlgorithm.kWindowSize()}, ${underlyingAlgorithm.dWindowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"kWindowSize\", \"dWindowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/indicator/stochasticOscillator.js","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { isDefined, noop } from \"../utils\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass Brush extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawBrush = this.handleDrawBrush.bind(this);\n\t\tthis.state = {};\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tx1: null, y1: null,\n\t\t\tx2: null, y2: null,\n\t\t\tstartItem: null,\n\t\t\tstartClick: null,\n\t\t\trect: null,\n\t\t});\n\t}\n\thandleDrawBrush() {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\txScale,\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { enabled } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar { startClick, startItem } = this.state;\n\n\t\tif (enabled && isDefined(startItem)) {\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar y1Value = yScale.invert(startClick[1]);\n\t\t\tvar y2Value = yScale.invert(mouseXY[1]);\n\n\t\t\tvar x1 = xScale(xAccessor(startItem));\n\t\t\tvar y1 = yScale(y1Value);\n\t\t\tvar x2 = xScale(xAccessor(currentItem));\n\t\t\tvar y2 = yScale(y2Value);\n\n\t\t\tvar height = Math.abs(y2 - y1);\n\t\t\tvar width = Math.abs(x2 - x1);\n\n\t\t\tthis.setState({\n\t\t\t\trect: {\n\t\t\t\t\tx: Math.min(x1, x2),\n\t\t\t\t\ty: Math.min(y1, y2),\n\t\t\t\t\theight,\n\t\t\t\t\twidth,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleStartAndEnd(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { displayXAccessor } = this.context;\n\t\tvar { enabled, onBrush } = this.props;\n\n\t\tif (enabled) {\n\t\t\tvar { x1, y1, startItem, startClick } = this.state;\n\t\t\tvar { yScale } = chartConfig;\n\t\t\tvar xValue = displayXAccessor(currentItem);\n\t\t\tvar yValue = yScale.invert(mouseXY[1]);\n\n\t\t\tif (isDefined(startItem)) {\n\t\t\t\t// brush complete\n\t\t\t\tonBrush({\n\t\t\t\t\tx1,\n\t\t\t\t\ty1,\n\t\t\t\t\tx2: displayXAccessor(currentItem),\n\t\t\t\t\ty2: yValue,\n\t\t\t\t\tstartItem,\n\t\t\t\t\tcurrentItem,\n\t\t\t\t\tstartClick,\n\t\t\t\t\tmouseXY,\n\t\t\t\t}, e);\n\t\t\t\tthis.terminate();\n\t\t\t} else {\n\t\t\t\t// brush start\n\t\t\t\tthis.setState({\n\t\t\t\t\tx1: xValue,\n\t\t\t\t\ty1: yValue,\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t\tstartItem: currentItem,\n\t\t\t\t\tstartClick: mouseXY,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tvar { rect } = this.state;\n\t\tvar { fill, stroke, opacity } = this.props;\n\t\tvar rectProps = { fill, stroke, opacity };\n\n\t\treturn <g>\n\t\t\t{ isDefined(rect) ? <rect {...rect} {...rectProps} /> : null }\n\t\t\t<GenericChartComponent ref=\"component\"\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tisHover={d3.functor(true)}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawBrush}\n\t\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nBrush.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonBrush: PropTypes.func.isRequired,\n\n\ttype: PropTypes.oneOf([\"1D\", \"2D\"]),\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tinteractiveState: PropTypes.object,\n};\nBrush.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n};\n\nBrush.defaultProps = {\n\ttype: \"2D\",\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tfill: \"#3h3h3h\",\n\tonBrush: noop,\n\tonStart: noop,\n};\n\nexport default Brush;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/Brush.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport { noop } from \"../utils\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nclass ClickCallback extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar moreProps = this.refs.component.getMoreProps();\n\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t} = moreProps;\n\n\t\tvar { displayXAccessor } = this.context;\n\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar yValue = yScale.invert(mouseXY[1]);\n\t\tvar xValue = displayXAccessor(currentItem);\n\t\tthis.props.onClick({\n\t\t\txy: [xValue, yValue],\n\t\t\tmouseXY,\n\t\t\tcurrentItem\n\t\t}, e);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent ref=\"component\"\n\t\t\tsvgDraw={d3.functor(null)}\n\t\t\tisHover={d3.functor(true)}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\t/>;\n\t}\n}\n\nClickCallback.drawOnCanvas = noop;\n\nClickCallback.propTypes = {\n\tonClick: PropTypes.func.isRequired,\n};\nClickCallback.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n};\n\nClickCallback.defaultProps = {\n\tonClick: (e) => { console.log(e); },\n};\n\nexport default ClickCallback;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/ClickCallback.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { isDefined, isNotDefined, head, last, noop } from \"../utils\";\n\nimport InteractiveLine from \"./InteractiveLine\";\nimport MouseLocationIndicator from \"./MouseLocationIndicator\";\n\nclass FibonacciRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawRetracement = this.handleDrawRetracement.bind(this);\n\n\t\tthis.handleEdge1Drag = this.handleEdge1Drag.bind(this);\n\t\tthis.handleEdge2Drag = this.handleEdge2Drag.bind(this);\n\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\n\t\tthis.state = this.props.init;\n\t}\n\tremoveLast() {\n\t\tvar { retracements } = this.state;\n\t\tif (isDefined(retracements) && retracements.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\tretracements: retracements.slice(0, retracements.length - 1),\n\t\t\t});\n\t\t}\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tcurrent: null,\n\t\t\toverride: null,\n\t\t});\n\t}\n\thandleStartAndEnd(xyValue) {\n\t\tvar { current, retracements } = this.state;\n\n\t\tif (isNotDefined(current) || isNotDefined(current.x1)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tx1: xyValue[0],\n\t\t\t\t\ty1: xyValue[1],\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tthis.props.onStart();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tretracements: retracements.concat({ ...current, x2: xyValue[0], y2: xyValue[1] }),\n\t\t\t\tcurrent: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onComplete();\n\t\t\t});\n\t\t}\n\t}\n\thandleDrawRetracement(xyValue) {\n\t\tvar { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.x1)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\t...current,\n\t\t\t\t\tx2: xyValue[0],\n\t\t\t\t\ty2: xyValue[1],\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDrag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\t\tvar dy = origXYValue.y1Value - newXYValue.y1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: newXYValue.x1Value,\n\t\t\t\ty1: retracements[index].y1 - dy,\n\t\t\t\tx2: newXYValue.x2Value,\n\t\t\t\ty2: retracements[index].y2 - dy,\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge1Drag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\n\t\tvar dx = origXYValue.x1Value - newXYValue.x1Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1 - dx,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2,\n\t\t\t\ty2: retracements[index].y2,\n\t\t\t}\n\t\t});\n\t}\n\thandleEdge2Drag(echo, newXYValue, origXYValue) {\n\t\tvar { retracements } = this.state;\n\t\tvar { index } = echo;\n\n\t\tvar dx = origXYValue.x2Value - newXYValue.x2Value;\n\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tx1: retracements[index].x1,\n\t\t\t\ty1: retracements[index].y1,\n\t\t\t\tx2: retracements[index].x2 - dx,\n\t\t\t\ty2: retracements[index].y2,\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete() {\n\t\tvar { retracements, override } = this.state;\n\n\t\tif (isDefined(override)) {\n\t\t\tvar { index, ...rest } = override;\n\n\t\t\tvar newRetracements = retracements\n\t\t\t\t.map((each, idx) => idx === index\n\t\t\t\t\t? rest\n\t\t\t\t\t: each);\n\n\t\t\tthis.setState({\n\t\t\t\toverride: null,\n\t\t\t\tretracements: newRetracements\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { retracements, current, override } = this.state;\n\t\tvar { stroke, strokeWidth, opacity, fontFamily, fontSize, fontStroke, type } = this.props;\n\n\t\tvar lineType = type === \"EXTEND\" ? \"XLINE\" : \"LINE\";\n\n\t\tvar { enabled } = this.props;\n\n\t\tvar currentRetracement = null;\n\t\tif (isDefined(current) && isDefined(current.x2)) {\n\t\t\tvar lines = helper(current);\n\t\t\tvar dir = head(lines).y1 > last(lines).y1 ? 3 : -1.3;\n\n\t\t\tcurrentRetracement = lines.map((line, idx) => {\n\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\treturn <InteractiveLine key={idx}\n\t\t\t\t\ttype={lineType}\n\t\t\t\t\tx1Value={line.x1}\n\t\t\t\t\ty1Value={line.y}\n\t\t\t\t\tx2Value={line.x2}\n\t\t\t\t\ty2Value={line.y}\n\n\t\t\t\t\tchildProps={{ dir, text, fontFamily, fontSize, fontStroke }}\n\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}>\n\t\t\t\t\t{retracementText}\n\t\t\t\t</InteractiveLine>;\n\t\t\t});\n\t\t}\n\n\t\treturn <g>\n\t\t\t{retracements.map((each, idx) => {\n\t\t\t\tvar lines = helper(isDefined(override) && override.index === idx ? override : each);\n\n\t\t\t\tvar dir = head(lines).y1 > last(lines).y1 ? 3 : -1.3;\n\t\t\t\treturn lines.map((line, j) => {\n\t\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\t\treturn <InteractiveLine key={`${idx}-${j}`} withEdge\n\t\t\t\t\t\techo={{ index: idx, idx: j }} type={lineType}\n\t\t\t\t\t\tdefaultClassName=\"react-stockcharts-enable-interaction react-stockcharts-move-cursor\"\n\t\t\t\t\t\tx1Value={line.x1}\n\t\t\t\t\t\ty1Value={line.y}\n\t\t\t\t\t\tx2Value={line.x2}\n\t\t\t\t\t\ty2Value={line.y}\n\n\t\t\t\t\t\tchildProps={{ dir, text, fontFamily, fontSize, fontStroke }}\n\n\t\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}\n\t\t\t\t\t\tonEdge1Drag={this.handleEdge1Drag}\n\t\t\t\t\t\tonEdge2Drag={this.handleEdge2Drag}\n\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\tonDragComplete={this.handleDragComplete}>\n\t\t\t\t\t\t{retracementText}\n\t\t\t\t\t</InteractiveLine>;\n\t\t\t\t});\n\t\t\t})}\n\t\t\t{currentRetracement}\n\t\t\t<MouseLocationIndicator\n\t\t\t\tenabled={enabled}\n\t\t\t\tsnap={false}\n\t\t\t\tr={0}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawRetracement} />\n\t\t</g>;\n\t}\n}\n\n/* eslint-disable react/prop-types */\n\nfunction retracementText({ xScale, chartConfig }, props, modLine) {\n\tvar { text, dir, fontStroke, fontFamily, fontSize } = props.childProps;\n\tvar { x1, y1, x2 } = modLine;\n\treturn <text\n\t\tx={xScale(Math.min(x1, x2)) + 10}\n\t\ty={chartConfig.yScale(y1) + dir * 4}\n\t\tfontFamily={fontFamily}\n\t\tfontSize={fontSize}\n\t\tfill={fontStroke}>{text}</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction helper({ x1, y1, x2, y2 }) {\n\tvar dy = y2 - y1;\n\tvar retracements = [100, 61.8, 50, 38.2, 23.6, 0]\n\t\t.map(each => ({\n\t\t\tpercent: each,\n\t\t\tx1,\n\t\t\tx2,\n\t\t\ty: (y2 - (each / 100) * dy),\n\t\t}));\n\n\treturn retracements;\n}\n\nFibonacciRetracement.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.object,\n\tplotData: PropTypes.array,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tinteractive: PropTypes.object,\n\twidth: PropTypes.number,\n\tstrokeWidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontStroke: PropTypes.string,\n\tonStart: PropTypes.func,\n\tonComplete: PropTypes.func,\n\ttype: PropTypes.oneOf([\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\n\t\t\"BOUND\", // extends between the set bounds\n\t]).isRequired,\n\tmouseXY: PropTypes.array,\n\tcurrentItem: PropTypes.object,\n\tinteractiveState: PropTypes.object,\n\toverrideInteractive: PropTypes.func,\n\tchildProps: PropTypes.any,\n\tinit: PropTypes.object.isRequired,\n};\n\nFibonacciRetracement.defaultProps = {\n\tenabled: true,\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 0.4,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 10,\n\tfontStroke: \"#000000\",\n\ttype: \"EXTEND\",\n\tinit: { retracements: [] },\n\tonStart: noop,\n\tonComplete: noop,\n};\n\nexport default FibonacciRetracement;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/FibonacciRetracement.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { isDefined, isNotDefined, noop } from \"../utils\";\n\nimport { getValueFromOverride } from \"./utils\";\n\nimport InteractiveLine from \"./InteractiveLine\";\nimport MouseLocationIndicator from \"./MouseLocationIndicator\";\n\n\nclass TrendLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleStartAndEnd = this.handleStartAndEnd.bind(this);\n\t\tthis.handleDrawLine = this.handleDrawLine.bind(this);\n\t\tthis.handleDragLine = this.handleDragLine.bind(this);\n\t\tthis.handleDragLineComplete = this.handleDragLineComplete.bind(this);\n\n\t\tthis.state = this.props.init;\n\t}\n\tremoveLast() {\n\t\tvar { trends } = this.state;\n\t\tif (isDefined(trends) && trends.length > 0) {\n\t\t\tthis.setState({\n\t\t\t\ttrends: trends.slice(0, trends.length - 1),\n\t\t\t});\n\t\t}\n\t}\n\tterminate() {\n\t\tthis.setState({\n\t\t\tcurrent: null,\n\t\t\toverride: null,\n\t\t});\n\t}\n\thandleDragLine(index, newXYValue) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\t...newXYValue\n\t\t\t}\n\t\t});\n\t}\n\thandleDragLineComplete() {\n\t\tvar { trends, override } = this.state;\n\t\tvar newTrends = trends\n\t\t\t.map((each, idx) => idx === override.index\n\t\t\t\t? {\n\t\t\t\t\tstart: [override.x1Value, override.y1Value],\n\t\t\t\t\tend: [override.x2Value, override.y2Value],\n\t\t\t\t}\n\t\t\t\t: each);\n\t\tthis.setState({\n\t\t\ttrends: newTrends,\n\t\t\toverride: null\n\t\t});\n\t}\n\thandleDrawLine(xyValue) {\n\t\tvar { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: current.start,\n\t\t\t\t\tend: xyValue,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleStartAndEnd(xyValue) {\n\t\tvar { current, trends } = this.state;\n\n\t\tif (isNotDefined(current) || isNotDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: xyValue,\n\t\t\t\t\tend: null,\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\tthis.props.onStart();\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\ttrends: trends.concat({ start: current.start, end: xyValue }),\n\t\t\t\tcurrent: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onComplete();\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { stroke, opacity, strokeWidth } = this.props;\n\t\tvar { enabled, snap, shouldDisableSnap, snapTo, type } = this.props;\n\t\tvar { currentPositionRadius, currentPositionStroke } = this.props;\n\t\tvar { currentPositionOpacity, currentPositionStrokeWidth } = this.props;\n\t\tvar { trends, current, override } = this.state;\n\n\t\tvar tempLine = isDefined(current) && isDefined(current.end)\n\t\t\t? <InteractiveLine type={type}\n\t\t\t\t\tx1Value={current.start[0]} y1Value={current.start[1]}\n\t\t\t\t\tx2Value={current.end[0]} y2Value={current.end[1]}\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity} />\n\t\t\t: null;\n\n\t\treturn <g>\n\t\t\t{trends.map((each, idx) =>\n\t\t\t\t<InteractiveLine key={idx} withEdge\n\t\t\t\t\techo={idx} type={type}\n\t\t\t\t\tdefaultClassName=\"react-stockcharts-enable-interaction react-stockcharts-move-cursor\"\n\t\t\t\t\tx1Value={getValueFromOverride(override, idx, \"x1Value\", each.start[0])}\n\t\t\t\t\ty1Value={getValueFromOverride(override, idx, \"y1Value\", each.start[1])}\n\t\t\t\t\tx2Value={getValueFromOverride(override, idx, \"x2Value\", each.end[0])}\n\t\t\t\t\ty2Value={getValueFromOverride(override, idx, \"y2Value\", each.end[1])}\n\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity}\n\t\t\t\t\tonDrag={this.handleDragLine}\n\t\t\t\t\tonEdge1Drag={this.handleDragLine}\n\t\t\t\t\tonEdge2Drag={this.handleDragLine}\n\t\t\t\t\tonDragComplete={this.handleDragLineComplete}\n\t\t\t\t\t/>)\n\t\t\t}\n\t\t\t{tempLine}\n\t\t\t<MouseLocationIndicator\n\t\t\t\tenabled={enabled}\n\t\t\t\tsnap={snap}\n\t\t\t\tshouldDisableSnap={shouldDisableSnap}\n\t\t\t\tsnapTo={snapTo}\n\t\t\t\tr={currentPositionRadius}\n\t\t\t\tstroke={currentPositionStroke}\n\t\t\t\topacity={currentPositionOpacity}\n\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\n\t\t\t\tonMouseDown={this.handleStartAndEnd}\n\t\t\t\tonMouseMove={this.handleDrawLine} />\n\t\t</g>;\n\t}\n}\n\n\nTrendLine.propTypes = {\n\tsnap: PropTypes.bool.isRequired,\n\tshow: PropTypes.bool,\n\tenabled: PropTypes.bool.isRequired,\n\tsnapTo: PropTypes.func,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonComplete: PropTypes.func.isRequired,\n\tinteractive: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tcurrentPositionStroke: PropTypes.string,\n\tcurrentPositionStrokeWidth: PropTypes.number,\n\tcurrentPositionOpacity: PropTypes.number,\n\tcurrentPositionRadius: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]),\n\tendPointCircleFill: PropTypes.string,\n\tendPointCircleRadius: PropTypes.number,\n\tinit: PropTypes.object.isRequired,\n};\n\nTrendLine.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nTrendLine.defaultProps = {\n\tstroke: \"#000000\",\n\ttype: \"XLINE\",\n\topacity: 0.7,\n\tstrokeWidth: 2,\n\tonStart: noop,\n\tonComplete: noop,\n\tshouldDisableSnap: e => (e.button === 2 || e.shiftKey),\n\tcurrentPositionStroke: \"#000000\",\n\tcurrentPositionOpacity: 1,\n\tcurrentPositionStrokeWidth: 3,\n\tcurrentPositionRadius: 4,\n\tendPointCircleFill: \"#000000\",\n\tendPointCircleRadius: 5,\n\tinit: { trends: [] },\n};\n\nexport default TrendLine;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/TrendLine.jsx","import { isDefined } from \"../utils\";\n\nexport function getValueFromOverride(override, index, key, defaultValue) {\n\tif (isDefined(override) && override.index === index)\n\t\treturn override[key];\n\treturn defaultValue;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/interactive/utils.js","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\nimport { head, last, slidingWindow, zipper, identity, isNotDefined } from \"../utils\";\n\nconst yearFormat = \"%Y\";\nconst quarterFormat = \"%b %Y\";\nconst monthFormat = \"%b\";\nconst weekFormat = \"%d %b\";\nconst dayFormat = \"%a %d\";\nconst hourFormat = \"%_I %p\";\nconst minuteFormat = \"%I:%M %p\";\nconst secondFormat = \"%I:%M:%S %p\";\n// const milliSecondFormat = d3.time.format(\"%L\");\n\nvar levelDefinition = [\n\n\t/* eslint-disable no-unused-vars */\n\t/* 17 */(d, date, i) => d.startOfYear && date.getFullYear() % 2 === 0 && yearFormat,\n\t/* 16 */(d, date, i) => d.startOfYear && yearFormat,\n\t/* 15 */(d, date, i) => d.startOfQuarter && quarterFormat,\n\t/* 14 */(d, date, i) => d.startOfMonth && monthFormat,\n\t/* 13 */(d, date, i) => d.startOfWeek && weekFormat,\n\t/* 12 */(d, date, i) => d.startOfDay && i % 2 === 0 && dayFormat,\n\t/* 11 */(d, date, i) => d.startOfDay && dayFormat,\n\t/* 10 */(d, date, i) => d.startOfHalfDay && hourFormat, // 12h\n\t/*  9 */(d, date, i) => d.startOfQuarterDay && hourFormat, // 6h\n\t/*  8 */(d, date, i) => d.startOfEighthOfADay && hourFormat, // 3h\n\t/*  7 */(d, date, i) => d.startOfHour && date.getHours() % 2 === 0 && hourFormat, // 2h -- REMOVE THIS\n\t/*  6 */(d, date, i) => d.startOfHour && hourFormat, // 1h\n\t/*  5 */(d, date, i) => d.startOf30Minutes && minuteFormat,\n\t/*  4 */(d, date, i) => d.startOf15Minutes && minuteFormat,\n\t/*  3 */(d, date, i) => d.startOf5Minutes && minuteFormat,\n\t/*  2 */(d, date, i) => d.startOfMinute && minuteFormat,\n\t/*  1 */(d, date, i) => d.startOf30Seconds && secondFormat,\n\t/*  0 */(d, date, i) => secondFormat,\n\t/* eslint-enable no-unused-vars */\n\n];\n\nfunction evaluateLevel(d, date, i) {\n\treturn levelDefinition\n\t\t.map((l, idx) => ({ level: levelDefinition.length - idx - 1, format: l(d, date, i) }))\n\t\t.find(l => !!l.format);\n}\n\nvar discontinuousIndexCalculator = slidingWindow()\n\t.windowSize(2)\n\t.undefinedValue((d, idx, di) => {\n\t\tvar i = di;\n\t\tvar row = {\n\t\t\tdate: d.getTime(),\n\t\t\tstartOf30Seconds: false,\n\t\t\tstartOfMinute: false,\n\t\t\tstartOf5Minutes: false,\n\t\t\tstartOf15Minutes: false,\n\t\t\tstartOf30Minutes: false,\n\t\t\tstartOfHour: false,\n\t\t\tstartOfEighthOfADay: false,\n\t\t\tstartOfQuarterDay: false,\n\t\t\tstartOfHalfDay: false,\n\t\t\tstartOfDay: true,\n\t\t\tstartOfWeek: false,\n\t\t\tstartOfMonth: false,\n\t\t\tstartOfQuarter: false,\n\t\t\tstartOfYear: false,\n\t\t};\n\t\tvar level = evaluateLevel(row, d, i);\n\t\treturn { ...row, index: i, ...level };\n\t});\n\nvar discontinuousIndexCalculatorLocalTime = discontinuousIndexCalculator\n\t.accumulator(([prevDate, nowDate], i, idx, di) => {\n\t\tvar startOf30Seconds = nowDate.getSeconds() % 30 === 0;\n\n\t\tvar startOfMinute = nowDate.getMinutes() !== prevDate.getMinutes();\n\t\tvar startOf5Minutes = startOfMinute && nowDate.getMinutes() % 5 <= prevDate.getMinutes() % 5;\n\t\tvar startOf15Minutes = startOfMinute && nowDate.getMinutes() % 15 <= prevDate.getMinutes() % 15;\n\t\tvar startOf30Minutes = startOfMinute && nowDate.getMinutes() % 30 <= prevDate.getMinutes() % 30;\n\n\t\tvar startOfHour = nowDate.getHours() !== prevDate.getHours();\n\n\t\tvar startOfEighthOfADay = startOfHour && nowDate.getHours() % 3 === 0;\n\t\tvar startOfQuarterDay = startOfHour && nowDate.getHours() % 6 === 0;\n\t\tvar startOfHalfDay = startOfHour && nowDate.getHours() % 12 === 0;\n\n\t\tvar startOfDay = nowDate.getDay() !== prevDate.getDay();\n\t\t// According to ISO calendar\n\t\t// Sunday = 0, Monday = 1, ... Saturday = 6\n\t\t// day of week of today < day of week of yesterday then today is start of week\n\t\tvar startOfWeek = nowDate.getDay() < prevDate.getDay();\n\t\t// month of today != month of yesterday then today is start of month\n\t\tvar startOfMonth = nowDate.getMonth() !== prevDate.getMonth();\n\t\t// if start of month and month % 3 === 0 then it is start of quarter\n\t\tvar startOfQuarter = startOfMonth && (nowDate.getMonth() % 3 <= prevDate.getMonth() % 3);\n\t\t// year of today != year of yesterday then today is start of year\n\t\tvar startOfYear = nowDate.getYear() !== prevDate.getYear();\n\n\t\tvar row = {\n\t\t\tdate: nowDate.getTime(),\n\t\t\tstartOf30Seconds,\n\t\t\tstartOfMinute,\n\t\t\tstartOf5Minutes,\n\t\t\tstartOf15Minutes,\n\t\t\tstartOf30Minutes,\n\t\t\tstartOfHour,\n\t\t\tstartOfEighthOfADay,\n\t\t\tstartOfQuarterDay,\n\t\t\tstartOfHalfDay,\n\t\t\tstartOfDay,\n\t\t\tstartOfWeek,\n\t\t\tstartOfMonth,\n\t\t\tstartOfQuarter,\n\t\t\tstartOfYear,\n\t\t};\n\t\tvar level = evaluateLevel(row, nowDate, i);\n\t\treturn { ...row, index: i + di, ...level };\n\t});\n\nfunction doStuff(realDateAccessor, inputDateAccessor, initialIndex) {\n\treturn function(data) {\n\t\tvar dateAccessor = realDateAccessor(inputDateAccessor);\n\t\tvar calculate = discontinuousIndexCalculatorLocalTime.source(dateAccessor).misc(initialIndex);\n\t\tvar index = calculate(data);\n\n\t\tvar map = d3.map();\n\t\tfor (var i = 0; i < data.length - 1; i++) {\n\n\t\t\tvar nextDate = dateAccessor(data[i + 1]);\n\t\t\tvar nowDate = dateAccessor(data[i]);\n\t\t\tvar diff = nextDate - nowDate;\n\n\t\t\tif (map.has(diff)) {\n\t\t\t\tvar count = parseInt(map.get(diff), 10) + 1;\n\t\t\t\tmap.set(diff, count);\n\t\t\t} else {\n\t\t\t\tmap.set(diff, 1);\n\t\t\t}\n\t\t}\n\n\t\tvar entries = map.entries().sort((a, b) => a.value < b.value);\n\n\t\t// For Renko/p&f\n\t\tvar interval = entries[0].value === 1\n\t\t\t? Math.round((dateAccessor(last(data)) - dateAccessor(head(data))) / data.length)\n\t\t\t: parseInt(entries[0].key, 10);\n\n\t\treturn { index, interval };\n\t};\n}\n\nexport function discontinuousTimeScaleProviderBuilder() {\n\tvar initialIndex = 0, realDateAccessor = identity;\n\tvar inputDateAccessor = d => d.date,\n\t\tindexAccessor = d => d.idx,\n\t\tindexMutator = (d, idx) => ({ ...d, idx }),\n\t\twithIndex, withInterval;\n\n\tvar discontinuousTimeScaleProvider = function(data) {\n\n\t\tvar index = withIndex;\n\t\tvar interval = withInterval;\n\t\tif (isNotDefined(index)) {\n\t\t\tconst response = doStuff(realDateAccessor, inputDateAccessor, initialIndex)(data);\n\t\t\tindex = response.index;\n\t\t\tinterval = response.interval;\n\t\t}\n\t\t// console.log(interval, entries[0].key);\n\n\t\tvar inputIndex = index.map(each => {\n\t\t\tvar { format } = each;\n\t\t\treturn {\n\t\t\t\t...each,\n\t\t\t\tdate: new Date(each.date),\n\t\t\t\tformat: d3.time.format(format),\n\t\t\t};\n\t\t});\n\n\t\tvar xScale = financeDiscontinuousScale(inputIndex, interval);\n\n\t\tvar mergedData = zipper()\n\t\t\t.combine(indexMutator);\n\n\t\tvar finalData = mergedData(data, inputIndex);\n\n\t\treturn {\n\t\t\tdata: finalData,\n\t\t\txScale,\n\t\t\txAccessor: d => d && indexAccessor(d).index,\n\t\t\tdisplayXAccessor: realDateAccessor(inputDateAccessor),\n\t\t};\n\t};\n\n\tdiscontinuousTimeScaleProvider.initialIndex = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn initialIndex;\n\t\t}\n\t\tinitialIndex = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.inputDateAccessor = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn inputDateAccessor;\n\t\t}\n\t\tinputDateAccessor = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexAccessor = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn indexAccessor;\n\t\t}\n\t\tindexAccessor = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexMutator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn indexMutator;\n\t\t}\n\t\tindexMutator = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.withIndex = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn withIndex;\n\t\t}\n\t\twithIndex = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.withInterval = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn withInterval;\n\t\t}\n\t\twithInterval = x;\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.utc = function() {\n\t\trealDateAccessor = dateAccessor => d => {\n\t\t\tvar date = dateAccessor(d);\n\t\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\t\treturn new Date(date.getTime() + offsetInMillis);\n\t\t};\n\t\treturn discontinuousTimeScaleProvider;\n\t};\n\tdiscontinuousTimeScaleProvider.indexCalculator = function() {\n\t\treturn doStuff(realDateAccessor, inputDateAccessor, initialIndex);\n\t};\n\n\treturn discontinuousTimeScaleProvider;\n}\n\n\n\n/* discontinuousTimeScaleProvider.utc = function(data,\n\t\tdateAccessor,\n\t\tindexAccessor,\n\t\tindexMutator) {\n\tvar utcDateAccessor = d => {\n\t\tvar date = dateAccessor(d);\n\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\treturn new Date(date.getTime() + offsetInMillis);\n\t};\n\treturn discontinuousTimeScaleProvider(data, utcDateAccessor, indexAccessor, indexMutator);\n};*/\n\nexport default discontinuousTimeScaleProviderBuilder();\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/discontinuousTimeScaleProvider.js","\"use strict\";\n\nimport {\n\tfirst,\n\tlast,\n\tgetClosestItemIndexes,\n\tisDefined,\n\tisNotDefined,\n\tidentity,\n} from \"../utils\";\n\nfunction extentsWrapper(data, inputXAccessor, realXAccessor, useWholeData) {\n\tfunction domain(inputDomain, xAccessor, initialXScale, currentPlotData, currentDomain) {\n\t\tif (useWholeData) {\n\t\t\treturn { plotData: data, domain: inputDomain };\n\t\t}\n\n\t\tvar left = first(inputDomain);\n\t\tvar right = last(inputDomain);\n\n\t\tvar filteredData = getFilteredResponse(data, left, right, xAccessor);\n\n\t\tvar realInputDomain = realXAccessor === xAccessor ? inputDomain : [realXAccessor(first(filteredData)), realXAccessor(last(filteredData))];\n\n\t\tvar xScale = initialXScale.copy().domain(realInputDomain);\n\n\t\tvar width = Math.floor(xScale(realXAccessor(last(filteredData)))\n\t\t\t- xScale(realXAccessor(first(filteredData))));\n\n\t\tvar plotData, domain;\n\n\t\tvar chartWidth = xScale.range()[1] - xScale.range()[0];\n\n\t\tconsole.debug(`Trying to show ${filteredData.length} in ${width}px while the chart width is ${chartWidth}px`);\n\n\t\tif (canShowTheseManyPeriods(width, filteredData.length)) {\n\t\t\tplotData = filteredData;\n\t\t\tdomain = realInputDomain;\n\t\t\tconsole.debug(\"AND IT WORKED\");\n\t\t} else {\n\t\t\tplotData = currentPlotData || filteredData.slice(filteredData.length - showMax(width));\n\t\t\tdomain = currentDomain || [realXAccessor(first(plotData)), realXAccessor(last(plotData))];\n\n\t\t\tvar newXScale = xScale.copy().domain(domain);\n\t\t\tvar newWidth = Math.floor(newXScale(realXAccessor(last(plotData)))\n\t\t\t\t- newXScale(realXAccessor(first(plotData))));\n\n\t\t\tconsole.debug(`and ouch, that is too much, so instead showing ${plotData.length} in ${newWidth}px`);\n\t\t}\n\n\t\treturn { plotData, domain };\n\t}\n\n\treturn domain;\n}\n\nfunction canShowTheseManyPeriods(width, arrayLength) {\n\tvar threshold = 1; // number of datapoints per 1 px\n\treturn arrayLength < width * threshold && arrayLength > 1;\n}\n\nfunction showMax(width) {\n\tvar threshold = 0.99; // number of datapoints per 1 px\n\treturn Math.floor(width * threshold);\n}\n\nfunction getFilteredResponse(data, left, right, xAccessor) {\n\tvar newLeftIndex = getClosestItemIndexes(data, left, xAccessor).right;\n\tvar newRightIndex = getClosestItemIndexes(data, right, xAccessor).left;\n\n\tvar filteredData = data.slice(newLeftIndex, newRightIndex + 1);\n\t// console.log(right, newRightIndex, dataForInterval.length);\n\n\treturn filteredData;\n}\n\nfunction compose(funcs) {\n\tif (funcs.length === 0) {\n\t\treturn identity;\n\t}\n\n\tif (funcs.length === 1) {\n\t\treturn funcs[0];\n\t}\n\n\tvar [head, ...tail] = funcs;\n\n\treturn args => tail.reduce((composed, f) => f(composed), head(args));\n}\n\nexport default function() {\n\n\tvar xAccessor, useWholeData, width, xScale,\n\t\tmap, calculator = [], scaleProvider,\n\t\tindexAccessor, indexMutator;\n\n\tfunction evaluate(data) {\n\n\t\tif (process.env.NODE_ENV !== \"production\") console.time(\"evaluation\");\n\t\tvar mappedData = data.map(map);\n\n\t\tvar composedCalculator = compose(calculator);\n\n\t\tvar calculatedData = composedCalculator(mappedData);\n\t\tif (process.env.NODE_ENV !== \"production\") console.timeEnd(\"evaluation\");\n\n\n\t\tif (isDefined(scaleProvider)) {\n\t\t\tvar scaleProvider2 = scaleProvider\n\t\t\t\t.inputDateAccessor(xAccessor)\n\t\t\t\t.indexAccessor(indexAccessor)\n\t\t\t\t.indexMutator(indexMutator);\n\t\t\tvar {\n\t\t\t\tdata: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor\n\t\t\t} = scaleProvider2(calculatedData);\n\n\t\t\treturn {\n\t\t\t\tfilterData: extentsWrapper(finalData, xAccessor, realXAccessor, useWholeData || isNotDefined(modifiedXScale.invert)),\n\t\t\t\tfullData: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor,\n\t\t\t\tlastItem: last(finalData),\n\t\t\t\tfirstItem: first(finalData),\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tfilterData: extentsWrapper(calculatedData, xAccessor, xAccessor, useWholeData || isNotDefined(xScale.invert)),\n\t\t\tfullData: calculatedData,\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor: xAccessor,\n\t\t\tlastItem: last(calculatedData),\n\t\t\tfirstItem: first(calculatedData),\n\t\t};\n\t}\n\tevaluate.xAccessor = function(x) {\n\t\tif (!arguments.length) return xAccessor;\n\t\txAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.map = function(x) {\n\t\tif (!arguments.length) return map;\n\t\tmap = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexAccessor = function(x) {\n\t\tif (!arguments.length) return indexAccessor;\n\t\tindexAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexMutator = function(x) {\n\t\tif (!arguments.length) return indexMutator;\n\t\tindexMutator = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.scaleProvider = function(x) {\n\t\tif (!arguments.length) return scaleProvider;\n\t\tscaleProvider = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.xScale = function(x) {\n\t\tif (!arguments.length) return xScale;\n\t\txScale = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.useWholeData = function(x) {\n\t\tif (!arguments.length) return useWholeData;\n\t\tuseWholeData = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.width = function(x) {\n\t\tif (!arguments.length) return width;\n\t\twidth = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.calculator = function(x) {\n\t\tif (!arguments.length) return calculator;\n\t\tcalculator = x;\n\t\treturn evaluate;\n\t};\n\n\treturn evaluate;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/scale/evaluator.js","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport AreaOnlySeries from \"./AreaOnlySeries\";\n\nfunction AreaSeries(props) {\n\tvar { yAccessor, baseAt } = props;\n\tvar { className, opacity, stroke, strokeWidth, fill } = props;\n\n\treturn (\n\t\t<g className={className}>\n\t\t\t<LineSeries\n\t\t\t\tyAccessor={yAccessor}\n\t\t\t\tstroke={stroke} fill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\thoverHighlight={false} />\n\t\t\t<AreaOnlySeries\n\t\t\t\tyAccessor={yAccessor}\n\t\t\t\tbase={baseAt}\n\t\t\t\tstroke=\"none\" fill={fill}\n\t\t\t\topacity={opacity} />\n\t\t</g>\n\t);\n}\n\nAreaSeries.propTypes = {\n\tstroke: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tbaseAt: PropTypes.func,\n};\n\nAreaSeries.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-area\"\n};\n\nexport default AreaSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/AreaSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport AreaOnlySeries from \"./AreaOnlySeries\";\n\nclass BollingerSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForTop = this.yAccessorForTop.bind(this);\n\t\tthis.yAccessorForMiddle = this.yAccessorForMiddle.bind(this);\n\t\tthis.yAccessorForBottom = this.yAccessorForBottom.bind(this);\n\t\tthis.yAccessorForScalledBottom = this.yAccessorForScalledBottom.bind(this);\n\t}\n\tyAccessorForTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).top;\n\t}\n\tyAccessorForMiddle(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).middle;\n\t}\n\tyAccessorForBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).bottom;\n\t}\n\tyAccessorForScalledBottom(scale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn scale(yAccessor(d) && yAccessor(d).bottom);\n\t}\n\trender() {\n\t\tvar { calculator, areaClassName, className, opacity } = this.props;\n\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForTop}\n\t\t\t\t\tstroke={stroke.top} fill=\"none\" />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForMiddle}\n\t\t\t\t\tstroke={stroke.middle} fill=\"none\" />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForBottom}\n\t\t\t\t\tstroke={stroke.bottom} fill=\"none\" />\n\t\t\t\t<AreaOnlySeries className={areaClassName}\n\t\t\t\t\tyAccessor={this.yAccessorForTop}\n\t\t\t\t\tbase={this.yAccessorForScalledBottom}\n\t\t\t\t\tstroke=\"none\" fill={fill}\n\t\t\t\t\topacity={opacity} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nBollingerSeries.propTypes = {\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tclassName: PropTypes.string,\n\tareaClassName: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.string,\n};\n\nBollingerSeries.defaultProps = {\n\tclassName: \"react-stockcharts-bollinger-band-series\",\n\tareaClassName: \"react-stockcharts-bollinger-band-series-area\",\n\topacity: 0.2\n};\n\nexport default BollingerSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/BollingerSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { first, last, hexToRGBA, isDefined } from \"../utils\";\n\nclass CandlestickSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tdrawOnCanvas(ctx, this.props, this.context, moreProps);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, wickClassName, candleClassName } = this.props;\n\n\t\treturn <g className={className}>\n\t\t\t<g className={wickClassName} key=\"wicks\">\n\t\t\t\t{getWicksSVG(this.props, this.context, moreProps)}\n\t\t\t</g>\n\t\t\t<g className={candleClassName} key=\"candles\">\n\t\t\t\t{getCandlesSVG(this.props, this.context, moreProps)}\n\t\t\t</g>\n\t\t</g>;\n\t}\n\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nCandlestickSeries.propTypes = {\n\tclassName: PropTypes.string,\n\twickClassName: PropTypes.string,\n\tcandleClassName: PropTypes.string,\n\twidthRatio: PropTypes.number.isRequired,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\twickStroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nCandlestickSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nCandlestickSeries.defaultProps = {\n\tclassName: \"react-stockcharts-candlestick\",\n\twickClassName: \"react-stockcharts-candlestick-wick\",\n\tcandleClassName: \"react-stockcharts-candlestick-candle\",\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => d.close > d.open ? \"up\" : \"down\",\n\twidthRatio: 0.8,\n\twickStroke: \"#000000\",\n\t// wickStroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tfill: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tstroke: \"#000000\",\n\tcandleStrokeWidth: 0.5,\n\t// stroke: \"none\",\n\topacity: 0.5,\n};\n\nfunction getWicksSVG(props, context, moreProps) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t/* eslint-enable react/prop-types */\n\n\tvar wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\tvar wicks = wickData\n\t\t.map((d, idx) => <path key={idx}\n\t\t\tclassName={d.className} stroke={d.stroke} style={{ shapeRendering: \"crispEdges\" }}\n\t\t\td={`M${d.x},${d.y1} L${d.x},${d.y2} M${d.x},${d.y3} L${d.x},${d.y4}`} />\n\t\t);\n\treturn wicks;\n}\n\nfunction getCandlesSVG(props, context, moreProps) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { opacity, candleStrokeWidth } = props;\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\t/* eslint-enable react/prop-types */\n\n\tvar candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\tvar candles = candleData.map((d, idx) => {\n\t\tif (d.width < 0)\n\t\t\treturn (\n\t\t\t\t<line className={d.className} key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\telse if (d.height === 0)\n\t\t\treturn (\n\t\t\t\t<line key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\treturn (\n\t\t\t<rect key={idx} className={d.className}\n\t\t\t\tfillOpacity={opacity}\n\t\t\t\tx={d.x} y={d.y} width={d.width} height={d.height}\n\t\t\t\tfill={d.fill} stroke={d.stroke} strokeWidth={candleStrokeWidth} />\n\t\t);\n\t});\n\treturn candles;\n}\n\nfunction drawOnCanvas(ctx, props, context, moreProps) {\n\tvar { opacity, candleStrokeWidth } = props;\n\tvar { xAccessor } = context;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\tvar wickData = getWickData(props, xAccessor, xScale, yScale, plotData);\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(wickData);\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.x, d.y3);\n\t\t\tctx.lineTo(d.x, d.y4);\n\t\t\tctx.stroke();\n\t\t});\n\t});\n\n\tvar candleData = getCandleData(props, xAccessor, xScale, yScale, plotData);\n\n\tvar candleNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.key(d => d.fill)\n\t\t.entries(candleData);\n\n\tcandleNest.forEach(outer => {\n\t\tvar { key: strokeKey, values: strokeValues } = outer;\n\t\tif (strokeKey !== \"none\") {\n\t\t\tctx.strokeStyle = strokeKey;\n\t\t\tctx.lineWidth = candleStrokeWidth;\n\t\t}\n\t\tstrokeValues.forEach(inner => {\n\t\t\tvar { key, values } = inner;\n\t\t\tctx.fillStyle = hexToRGBA(key, opacity);\n\n\t\t\tvalues.forEach(d => {\n\t\t\t\tif (d.width < 0) {\n\t\t\t\t\t// <line className={d.className} key={idx} x1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}/>\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else if (d.height === 0) {\n\t\t\t\t\t// <line key={idx} x1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height} />\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x + d.width, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (strokeKey !== \"none\") ctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n}\n\nfunction getWickData(props, xAccessor, xScale, yScale, plotData) {\n\n\tvar { classNames: classNameProp, wickStroke: wickStrokeProp, yAccessor } = props;\n\tvar wickStroke = d3.functor(wickStrokeProp);\n\tvar className = d3.functor(classNameProp);\n\tvar wickData = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\t// console.log(yAccessor);\n\t\t\t\tvar ohlc = yAccessor(d);\n\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\ty3 = yScale(Math.min(ohlc.open, ohlc.close)),\n\t\t\t\t\ty4 = yScale(ohlc.low);\n\n\t\t\t\treturn {\n\t\t\t\t\tx,\n\t\t\t\t\ty1,\n\t\t\t\t\ty2,\n\t\t\t\t\ty3,\n\t\t\t\t\ty4,\n\t\t\t\t\tclassName: className(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t};\n\t\t\t});\n\treturn wickData;\n}\n\nfunction getCandleData(props, xAccessor, xScale, yScale, plotData) {\n\tvar { classNames, fill: fillProp, stroke: strokeProp, widthRatio, yAccessor } = props;\n\tvar fill = d3.functor(fillProp);\n\tvar stroke = d3.functor(strokeProp);\n\t// console.log(plotData);\n\tvar width = xScale(xAccessor(last(plotData)))\n\t\t- xScale(xAccessor(first(plotData)));\n\tvar cw = (width / (plotData.length - 1) * widthRatio);\n\tvar candleWidth = Math.round(cw); // Math.floor(cw) % 2 === 0 ? Math.floor(cw) : Math.round(cw);\n\n\tvar offset = (candleWidth === 1 ? 0 : 0.5 * cw);\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d)) - offset),\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down;\n\t\t\t\treturn {\n\t\t\t\t\t// type: \"line\"\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: fill(ohlc),\n\t\t\t\t\tstroke: stroke(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default CandlestickSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/CandlestickSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\n\nfunction Circle(props) {\n\tvar { className, stroke, strokeWidth, opacity, fill, point, r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\treturn (\n\t\t<circle className={className}\n\t\t\tcx={point.x} cy={point.y}\n\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\tfillOpacity={opacity} fill={fill} r={radius} />\n\t);\n}\n\nCircle.propTypes = {\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tpoint: PropTypes.shape({\n\t\tx: PropTypes.number.isRequired,\n\t\ty: PropTypes.number.isRequired,\n\t\tdatum: PropTypes.object.isRequired,\n\t}).isRequired,\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tr: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]).isRequired\n};\n\nCircle.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-marker-circle\",\n};\n\nCircle.drawOnCanvas = (props, point, ctx) => {\n\n\tvar { stroke, fill, opacity, strokeWidth } = props;\n\n\tctx.strokeStyle = stroke;\n\tctx.lineWidth = strokeWidth;\n\n\tif (fill !== \"none\") {\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t}\n\n\tCircle.drawOnCanvasWithNoStateChange(props, point, ctx);\n};\n\n\nCircle.drawOnCanvasWithNoStateChange = (props, point, ctx) => {\n\n\tvar { r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\n\tctx.moveTo(point.x, point.y);\n\tctx.beginPath();\n\tctx.arc(point.x, point.y, radius, 0, 2 * Math.PI, false);\n\tctx.stroke();\n\tctx.fill();\n};\n\nexport default Circle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/CircleMarker.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport OverlayBarSeries from \"./OverlayBarSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass ElderRaySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorTop = this.yAccessorTop.bind(this);\n\t\tthis.yAccessorBullTop = this.yAccessorBullTop.bind(this);\n\t\tthis.yAccessorBearTop = this.yAccessorBearTop.bind(this);\n\t\tthis.yAccessorBullBottom = this.yAccessorBullBottom.bind(this);\n\t\tthis.yAccessorBearBottom = this.yAccessorBearBottom.bind(this);\n\t\tthis.yAccessorForBarBase = this.yAccessorForBarBase.bind(this);\n\t}\n\tyAccessorTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n\t}\n\tyAccessorBullTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n\t}\n\tyAccessorBearTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n\t}\n\tyAccessorBullBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n\t}\n\tyAccessorBearBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0\n\t\t\t\t|| yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n\t\t\t? Math.min(0, yAccessor(d).bullPower) : undefined);\n\t}\n\tyAccessorForBarBase(xScale, yScale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n\t\treturn yScale(y);\n\t}\n\tfillForEachBar(d, yAccessorNumber) {\n\t\treturn yAccessorNumber % 2 === 0 ? \"#6BA583\" : \"#FF0000\";\n\t}\n\trender() {\n\t\tvar { className, xScale, yScale, plotData, opacity } = this.props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<OverlayBarSeries\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\tbaseAt={this.yAccessorForBarBase}\n\t\t\t\t\tclassName=\"elderray-bar\"\n\t\t\t\t\tstroke={false} fill={this.fillForEachBar}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tyAccessor={[this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]} />\n\t\t\t\t<StraightLine yValue={0} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nElderRaySeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nElderRaySeries.defaultProps = {\n\tclassName: \"react-stockcharts-elderray-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 1,\n\tdivergenceStroke: false,\n};\n\nexport default ElderRaySeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/ElderRaySeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\nclass GroupedBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvasHelper(ctx, this.props, moreProps, xAccessor,\n\t\tidentity, postProcessor);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\t// return <g>{svgHelper(this.props, moreProps, xAccessor, identity)}</g>;\n\n\t\treturn <g className=\"react-stockcharts-grouped-bar-series\">\n\t\t\t{svgHelper(this.props, moreProps, xAccessor, identity, postProcessor)}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nGroupedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nGroupedBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nGroupedBarSeries.defaultProps = {\n\t...StackedBarSeries.defaultProps,\n\twidthRatio: 0.8,\n\tspaceBetweenBar: 5,\n};\n\nfunction postProcessor(array) {\n\treturn array.map(each => {\n\t\treturn {\n\t\t\t...each,\n\t\t\tx: each.x + each.offset - each.groupOffset,\n\t\t\twidth: each.groupWidth,\n\t\t};\n\t});\n}\n\nexport default GroupedBarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/GroupedBarSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass KagiSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tdrawOnCanvas(ctx, this.props, moreProps, xAccessor);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { className, stroke, fill, strokeWidth } = this.props;\n\n\t\tvar paths = helper(plotData, xAccessor).map((each, i) => {\n\t\t\tvar dataSeries = d3.svg.line()\n\t\t\t\t.x((item) => xScale(item[0]))\n\t\t\t\t.y((item) => yScale(item[1]))\n\t\t\t\t.interpolate(\"step-before\");\n\t\t\treturn (<path key={i} d={dataSeries(each.plot)} className={each.type}\n\t\t\t\tstroke={stroke[each.type]} fill={fill[each.type]} strokeWidth={strokeWidth} />);\n\t\t});\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{paths}\n\t\t\t</g>\n\t\t);\n\t}\n}\nKagiSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.object,\n\tfill: PropTypes.object,\n\tstrokeWidth: PropTypes.number.isRequired,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\nKagiSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nKagiSeries.defaultProps = {\n\tclassName: \"react-stockcharts-kagi\",\n\tstrokeWidth: 2,\n\tstroke: {\n\t\tyang: \"#6BA583\",\n\t\tyin: \"#E60000\"\n\t},\n\tfill: {\n\t\tyang: \"none\",\n\t\tyin: \"none\"\n\t},\n\tcurrentValueStroke: \"#000000\",\n};\n\nfunction drawOnCanvas(ctx, props, moreProps, xAccessor) {\n\tvar { stroke, strokeWidth, currentValueStroke } = props;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar paths = helper(plotData, xAccessor);\n\n\tvar begin = true;\n\n\tpaths.forEach((each) => {\n\t\tctx.strokeStyle = stroke[each.type];\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tvar prevX;\n\t\teach.plot.forEach(d => {\n\t\t\tvar [x, y] = [xScale(d[0]), yScale(d[1])];\n\t\t\tif (begin) {\n\t\t\t\tctx.moveTo(x, y);\n\t\t\t\tbegin = false;\n\t\t\t} else {\n\t\t\t\tif (isDefined(prevX)) {\n\t\t\t\t\tctx.lineTo(prevX, y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t\tprevX = x;\n\t\t\t// console.log(d);\n\n\t\t});\n\t\tctx.stroke();\n\t});\n\tvar lastPlot = paths[paths.length - 1].plot;\n\tvar last = lastPlot[lastPlot.length - 1];\n\tctx.beginPath();\n\t// ctx.strokeStyle = \"black\";\n\tctx.lineWidth = 1;\n\n\tvar [x, y1, y2] = [xScale(last[0]), yScale(last[2]), yScale(last[3])];\n\t// console.log(last, x, y);\n\tctx.moveTo(x, y1);\n\tctx.lineTo(x + 10, y1);\n\tctx.stroke();\n\n\tctx.beginPath();\n\tctx.strokeStyle = currentValueStroke;\n\tctx.moveTo(x - 10, y2);\n\tctx.lineTo(x, y2);\n\tctx.stroke();\n}\n\nfunction helper(plotData, xAccessor) {\n\tvar kagiLine = [];\n\tvar kagi = {};\n\tvar d = plotData[0];\n\tvar idx = xAccessor(d);\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\td = plotData[i];\n\n\t\tif (isNotDefined(d.close)) continue;\n\t\tif (isNotDefined(kagi.type)) kagi.type = d.startAs;\n\t\tif (isNotDefined(kagi.plot)) kagi.plot = [];\n\n\t\tidx = xAccessor(d);\n\t\tkagi.plot.push([idx, d.open]);\n\n\t\tif (isDefined(d.changeTo)) {\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t\tkagi.added = true;\n\t\t\tkagiLine.push(kagi);\n\n\t\t\tkagi = {\n\t\t\t\ttype: d.changeTo,\n\t\t\t\tplot: [],\n\t\t\t\tadded: false,\n\t\t\t};\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t}\n\t}\n\n\tif (!kagi.added) {\n\t\tkagi.plot.push([idx, d.close, d.current, d.reverseAt]);\n\t\tkagiLine.push(kagi);\n\t}\n\n\t// console.log(d.reverseAt);\n\n\treturn kagiLine;\n}\n\nexport default KagiSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/KagiSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport BarSeries from \"./BarSeries\";\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass MACDSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForMACD = this.yAccessorForMACD.bind(this);\n\t\tthis.yAccessorForSignal = this.yAccessorForSignal.bind(this);\n\t\tthis.yAccessorForDivergence = this.yAccessorForDivergence.bind(this);\n\t\tthis.yAccessorForDivergenceBase = this.yAccessorForDivergenceBase.bind(this);\n\t}\n\tyAccessorForMACD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).macd;\n\t}\n\tyAccessorForSignal(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).signal;\n\t}\n\tyAccessorForDivergence(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).divergence;\n\t}\n\tyAccessorForDivergenceBase(xScale, yScale/* , d */) {\n\t\treturn yScale(0);\n\t}\n\trender() {\n\t\tvar { className, type, opacity, divergenceStroke, calculator } = this.props;\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries\n\t\t\t\t\tyAccessor={this.yAccessorForMACD}\n\t\t\t\t\tstroke={stroke.macd} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<LineSeries\n\t\t\t\t\tyAccessor={this.yAccessorForSignal}\n\t\t\t\t\tstroke={stroke.signal} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<BarSeries\n\t\t\t\t\tbaseAt={this.yAccessorForDivergenceBase}\n\t\t\t\t\tclassName=\"macd-divergence\"\n\t\t\t\t\twidthRatio={0.5}\n\t\t\t\t\tstroke={divergenceStroke} fill={fill.divergence} opacity={opacity}\n\t\t\t\t\tyAccessor={this.yAccessorForDivergence} />\n\t\t\t\t{getHorizontalLine(this.props)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { zeroLineStroke, zeroLineOpacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={zeroLineStroke} opacity={zeroLineOpacity}\n\t\tyValue={0} />;\n}\n\nMACDSeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nMACDSeries.defaultProps = {\n\tclassName: \"react-stockcharts-macd-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 0.6,\n\tdivergenceStroke: false,\n};\n\nexport default MACDSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/MACDSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\n\nclass OHLCSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar barData = getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\t\tdrawOnCanvas(ctx, barData);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\n\t\tvar barData = getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tvar { strokeWidth, bars } = barData;\n\n\t\treturn <g className={className}>\n\t\t\t{bars.map((d, idx) => <path key={idx}\n\t\t\t\tclassName={d.className} stroke={d.stroke} strokeWidth={strokeWidth}\n\t\t\t\td={`M${d.openX1} ${d.openY} L${d.openX2} ${d.openY} M${d.x} ${d.y1} L${d.x} ${d.y2} M${d.closeX1} ${d.closeY} L${d.closeX2} ${d.closeY}`}/>)}\n\t\t</g>;\n\t}\n}\n\nOHLCSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n};\n\nOHLCSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nOHLCSeries.defaultProps = {\n\tclassName: \"react-stockcharts-ohlc\",\n\tyAccessor: (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"up\" : \"down\") : \"firstbar\",\n\tstroke: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"#6BA583\" : \"#FF0000\") : \"#000000\",\n\topacity: 1,\n};\n\nfunction drawOnCanvas(ctx, barData) {\n\n\tvar { strokeWidth, bars } = barData;\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(bars);\n\n\tctx.lineWidth = strokeWidth;\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.openX1, d.openY);\n\t\t\tctx.lineTo(d.openX2, d.openY);\n\n\t\t\tctx.moveTo(d.closeX1, d.closeY);\n\t\t\tctx.lineTo(d.closeX2, d.closeY);\n\n\t\t\tctx.stroke();\n\t\t});\n\t});\n}\n\nfunction getOHLCBars(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { classNames: classNamesProp, stroke: strokeProp } = props;\n\n\tvar strokeFunc = d3.functor(strokeProp);\n\tvar classNameFunc = d3.functor(classNamesProp);\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar barWidth = Math.max(1, Math.round(width / (plotData.length - 1) / 2) - 1.5);\n\tvar strokeWidth = Math.min(barWidth, 6);\n\n\tvar bars = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d),\n\t\t\t\t\tx = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(ohlc.low),\n\t\t\t\t\topenX1 = x - barWidth,\n\t\t\t\t\topenX2 = x + strokeWidth / 2,\n\t\t\t\t\topenY = yScale(ohlc.open),\n\t\t\t\t\tcloseX1 = x - strokeWidth / 2,\n\t\t\t\t\tcloseX2 = x + barWidth,\n\t\t\t\t\tcloseY = yScale(ohlc.close),\n\t\t\t\t\tclassName = classNameFunc(d),\n\t\t\t\t\tstroke = strokeFunc(d);\n\t\t\t\t// console.log(d);\n\t\t\t\treturn { x, y1, y2, openX1, openX2, openY, closeX1, closeX2, closeY, stroke, className };\n\t\t\t});\n\treturn { barWidth, strokeWidth, bars };\n}\n\nexport default OHLCSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/OHLCSeries.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { drawOnCanvas2, getBarsSVG2 } from \"./StackedBarSeries\";\nimport { isDefined, isNotDefined, first, last } from \"../utils\";\n\nclass OverlayBarSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar bars = getBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tdrawOnCanvas2(this.props, ctx, bars);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { yAccessor } = this.props;\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar bars = getBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\t\treturn <g className=\"react-stockcharts-bar-series\">\n\t\t\t{getBarsSVG2(this.props, bars)}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nOverlayBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nOverlayBarSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nOverlayBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: false,\n\tfill: \"#4682B4\",\n\topacity: 1,\n\twidthRatio: 0.5,\n};\n\nfunction getBars(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { baseAt, className, fill, stroke, widthRatio } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\n\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * barWidth);\n\n\t// console.log(xScale.domain(), yScale.domain());\n\n\tvar bars = plotData\n\t\t\t.map(d => {\n\t\t\t\tvar innerBars = yAccessor.map((eachYAccessor, i) => {\n\t\t\t\t\tvar yValue = eachYAccessor(d);\n\t\t\t\t\tif (isNotDefined(yValue)) return undefined;\n\n\t\t\t\t\tvar xValue = xAccessor(d);\n\t\t\t\t\tvar x = Math.round(xScale(xValue)) - offset;\n\t\t\t\t\tvar y = yScale(yValue);\n\t\t\t\t\t// console.log(yValue, y, xValue, x)\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidth: barWidth,\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\t\t\tfill: getFill(d, i),\n\t\t\t\t\t\ti,\n\t\t\t\t\t};\n\t\t\t\t}).filter(yValue => isDefined(yValue));\n\n\t\t\t\tvar b = getBase(xScale, yScale, d);\n\t\t\t\tvar h;\n\t\t\t\tfor (var i = innerBars.length - 1; i >= 0; i--) {\n\t\t\t\t\th = b - innerBars[i].y;\n\t\t\t\t\tif (h < 0) {\n\t\t\t\t\t\tinnerBars[i].y = b;\n\t\t\t\t\t\th = -1 * h;\n\t\t\t\t\t}\n\t\t\t\t\tinnerBars[i].height = h;\n\t\t\t\t\tb = innerBars[i].y;\n\t\t\t\t}\n\t\t\t\treturn innerBars;\n\t\t\t});\n\n\treturn d3.merge(bars);\n}\n\nexport default OverlayBarSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/OverlayBarSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass PointAndFigureSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar columns = getColumns(xScale, xAccessor, yScale, plotData);\n\n\t\tdrawOnCanvas(ctx, this.props, columns);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { stroke, fill, strokeWidth, className } = this.props;\n\n\t\tvar columns = getColumns(xScale, xAccessor, yScale, plotData);\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{columns.map((col, idx) => (\n\t\t\t\t\t<g key={idx} className={col.className} transform={`translate(${ col.offset[0] }, ${ col.offset[1] })`}>\n\t\t\t\t\t\t{col.boxes.map((box, i) => {\n\t\t\t\t\t\t\tif (col.direction > 0) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<g key={`${ idx }-${ i }`}>\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.open} x2={box.columnWidth} y2={box.close} />\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.close} x2={box.columnWidth} y2={box.open} />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ellipse key={`${ idx }-${ i }`}\n\t\t\t\t\t\t\t\t\tclassName=\"down\" strokeWidth={strokeWidth} stroke={stroke.down} fill={fill.down}\n\t\t\t\t\t\t\t\t\tcx={box.columnWidth / 2} cy={(box.open + box.close) / 2}\n\t\t\t\t\t\t\t\t\trx={box.columnWidth / 2} ry={box.boxHeight / 2} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</g>\n\t\t\t\t))}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nPointAndFigureSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstroke: PropTypes.object.isRequired,\n\tfill: PropTypes.object.isRequired,\n};\n\nPointAndFigureSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nPointAndFigureSeries.defaultProps = {\n\tclassName: \"react-stockcharts-point-and-figure\",\n\tstrokeWidth: 1,\n\tstroke: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#FF0000\"\n\t},\n\tfill: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n};\n\nfunction drawOnCanvas(ctx, props, columns) {\n\tvar { stroke, fill, strokeWidth } = props;\n\n\tctx.lineWidth = strokeWidth;\n\n\tcolumns.forEach(col => {\n\t\tlet [offsetX, offsetY] = col.offset;\n\t\tcol.boxes.forEach(box => {\n\t\t\tif (col.direction > 0) {\n\t\t\t\tctx.fillStyle = fill.up;\n\t\t\t\tctx.strokeStyle = stroke.up;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.open);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.close);\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.close);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.open);\n\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle = fill.down;\n\t\t\t\tctx.strokeStyle = stroke.down;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tlet [x, y] = [offsetX + box.columnWidth / 2, offsetY + box.open + box.boxHeight / 2];\n\t\t\t\tlet [rx, ry] = [box.columnWidth / 2, box.boxHeight / 2];\n\n\t\t\t\tctx.ellipse(x, y, rx, ry, 0, 0, 2 * Math.PI);\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t});\n\t});\n\n\tctx.stroke();\n}\n\nfunction getColumns(xScale, xAccessor, yScale, plotData) {\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar columnWidth = (width / (plotData.length - 1));\n\n\tvar anyBox, j = 0;\n\twhile (isNotDefined(anyBox)) {\n\t\tif (isDefined(plotData[j].close)) {\n\t\t\tanyBox = plotData[j].boxes[0];\n\t\t}\n\t\tj++;\n\t}\n\n\tvar boxHeight = Math.abs(yScale(anyBox.open) - yScale(anyBox.close));\n\n\tvar columns = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar boxes = d.boxes.map((box) => ({\n\t\t\t\t\tcolumnWidth: columnWidth,\n\t\t\t\t\tboxHeight: boxHeight,\n\t\t\t\t\topen: yScale(box.open),\n\t\t\t\t\tclose: yScale(box.close),\n\t\t\t\t}));\n\n\t\t\t\tvar xOffset = (xScale(xAccessor(d)) - (columnWidth / 2));\n\t\t\t\treturn {\n\t\t\t\t\tboxes: boxes,\n\t\t\t\t\tdirection: d.direction,\n\t\t\t\t\toffset: [xOffset, 0],\n\t\t\t\t};\n\t\t\t});\n\treturn columns;\n}\n\nexport default PointAndFigureSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/PointAndFigureSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass RSISeries extends Component {\n\trender() {\n\t\tvar { className, calculator, stroke, type } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar overSold = calculator.overSold();\n\t\tvar middle = calculator.middle();\n\t\tvar overBought = calculator.overBought();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries\n\t\t\t\t\tclassName={className}\n\t\t\t\t\tyAccessor={yAccessor}\n\t\t\t\t\tstroke={stroke.line} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{getHorizontalLine(this.props, overSold, stroke.top)}\n\t\t\t\t{getHorizontalLine(this.props, middle, stroke.middle)}\n\t\t\t\t{getHorizontalLine(this.props, overBought, stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props, yValue, stroke) {\n\t/* eslint-disable react/prop-types */\n\tlet { yAccessor } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3}\n\t\tyAccessor={yAccessor}\n\t\tyValue={yValue} />;\n}\n\nRSISeries.propTypes = {\n\tclassName: PropTypes.string,\n\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nRSISeries.defaultProps = {\n\tclassName: \"react-stockcharts-rsi-series\",\n\tstroke: {\n\t\tline: \"#000000\",\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default RSISeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/RSISeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\n\nclass RenkoSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { yAccessor } = this.props;\n\n\t\tvar candles = getRenko(this.props, plotData, xScale, xAccessor, yScale, yAccessor);\n\n\t\tdrawOnCanvas(ctx, candles);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { xAccessor } = this.context;\n\t\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\t\tvar { yAccessor } = this.props;\n\n\t\tvar candles = getRenko(this.props, plotData, xScale, xAccessor, yScale, yAccessor)\n\t\t\t.map((each, idx) => (<rect key={idx} className={each.className}\n\t\t\t\t\t\t\t\tfill={each.fill}\n\t\t\t\t\t\t\t\tx={each.x}\n\t\t\t\t\t\t\t\ty={each.y}\n\t\t\t\t\t\t\t\twidth={each.width}\n\t\t\t\t\t\t\t\theight={each.height} />));\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<g className=\"candle\">\n\t\t\t\t\t{candles}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nRenkoSeries.propTypes = {\n\tclassNames: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tstroke: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tfill: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tyAccessor: PropTypes.func.isRequired,\n};\nRenkoSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\nRenkoSeries.defaultProps = {\n\tclassNames: {\n\t\tup: \"up\",\n\t\tdown: \"down\"\n\t},\n\tstroke: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n\tfill: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#E60000\",\n\t\tpartial: \"#4682B4\",\n\t},\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n};\n\nfunction drawOnCanvas(ctx, renko) {\n\trenko.forEach(d => {\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = d.stroke;\n\t\tctx.fillStyle = d.fill;\n\n\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\tctx.closePath();\n\t\tctx.fill();\n\t});\n}\n\nfunction getRenko(props, plotData, xScale, xAccessor, yScale, yAccessor) {\n\tvar { classNames, fill } = props;\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar candleWidth = (width / (plotData.length - 1));\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(yAccessor(d).close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = xScale(xAccessor(d)) - 0.5 * candleWidth,\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down,\n\t\t\t\t\tsvgfill = (ohlc.open <= ohlc.close) ? fill.up : fill.down;\n\n\t\t\t\tif (!d.fullyFormed) {\n\t\t\t\t\tsvgfill = fill.partial;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: svgfill,\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default RenkoSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/RenkoSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { hexToRGBA } from \"../utils\";\n\nclass ScatterSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar points = helper(this.props, moreProps, xAccessor);\n\n\t\tdrawOnCanvas(ctx, this.props, points);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, markerProps } = this.props;\n\t\tvar { xAccessor } = this.context;\n\n\t\tvar points = helper(this.props, moreProps, xAccessor);\n\n\t\treturn <g className={className}>\n\t\t\t{points.map((point, idx) => {\n\t\t\t\tvar { marker: Marker } = point;\n\t\t\t\treturn <Marker key={idx} {...markerProps} point={point} />;\n\t\t\t})}\n\t\t</g>;\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n}\n\nScatterSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func.isRequired,\n\tmarker: PropTypes.func,\n\tmarkerProvider: PropTypes.func,\n\tmarkerProps: PropTypes.object,\n};\n\nScatterSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n};\n\n\nScatterSeries.defaultProps = {\n\tclassName: \"react-stockcharts-scatter\",\n};\n\nfunction helper(props, moreProps, xAccessor) {\n\tvar { yAccessor, marker: Marker, markerProvider, markerProps } = props;\n\tvar { xScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tif (!(markerProvider || Marker)) throw new Error(\"required prop, either marker or markerProvider missing\");\n\n\treturn plotData.map(d => {\n\n\t\tif (markerProvider) Marker = markerProvider(d);\n\n\t\tvar mProps = { ...Marker.defaultProps, ...markerProps };\n\n\t\tvar fill = d3.functor(mProps.fill);\n\t\tvar stroke = d3.functor(mProps.stroke);\n\n\t\treturn {\n\t\t\tx: xScale(xAccessor(d)),\n\t\t\ty: yScale(yAccessor(d)),\n\t\t\tfill: hexToRGBA(fill(d), mProps.opacity),\n\t\t\tstroke: stroke(d),\n\t\t\tdatum: d,\n\t\t\tmarker: Marker,\n\t\t};\n\t});\n}\n\nfunction drawOnCanvas(ctx, props, points) {\n\n\tvar { markerProps } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.key(d => d.stroke)\n\t\t.entries(points);\n\n\tnest.forEach(fillGroup => {\n\t\tvar { key: fillKey, values: fillValues } = fillGroup;\n\n\t\tif (fillKey !== \"none\") {\n\t\t\tctx.fillStyle = fillKey;\n\t\t}\n\n\t\tfillValues.forEach(strokeGroup => {\n\t\t\t// var { key: strokeKey, values: strokeValues } = strokeGroup;\n\t\t\tvar { values: strokeValues } = strokeGroup;\n\n\t\t\tstrokeValues.forEach(point => {\n\t\t\t\tvar { marker } = point;\n\t\t\t\tmarker.drawOnCanvas({ ...marker.defaultProps, ...markerProps, fill: fillKey }, point, ctx);\n\t\t\t});\n\t\t});\n\t});\n}\n\nexport default ScatterSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/ScatterSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport LineSeries from \"./LineSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass StochasticSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForD = this.yAccessorForD.bind(this);\n\t\tthis.yAccessorForK = this.yAccessorForK.bind(this);\n\t}\n\tyAccessorForD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).D;\n\t}\n\tyAccessorForK(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).K;\n\t}\n\trender() {\n\t\tvar { className, calculator, stroke, type } = this.props;\n\t\tvar seriesStroke = calculator.stroke();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForD}\n\t\t\t\t\tstroke={seriesStroke.D} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<LineSeries yAccessor={this.yAccessorForK}\n\t\t\t\t\tstroke={seriesStroke.K} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{getHorizontalLine(this.props, calculator.overSold(), stroke.top)}\n\t\t\t\t{getHorizontalLine(this.props, calculator.middle(), stroke.middle)}\n\t\t\t\t{getHorizontalLine(this.props, calculator.overBought(), stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nfunction getHorizontalLine(props, yValue, stroke) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { yAccessor } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3}\n\t\tyAccessor={yAccessor}\n\t\tyValue={yValue} />;\n}\n\nStochasticSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nStochasticSeries.defaultProps = {\n\tclassName: \"react-stockcharts-stochastic-series\",\n\tstroke: {\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default StochasticSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/StochasticSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent, { getAxisCanvas } from \"../GenericChartComponent\";\nimport { head, last, hexToRGBA, accumulatingWindow, identity } from \"../utils\";\n\nclass VolumeProfileSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar { xAccessor, width } = this.context;\n\t\tvar { rects, sessionBg } = helper(this.props, moreProps, xAccessor, width);\n\n\t\tdrawOnCanvas(ctx, this.props, rects, sessionBg);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnPan\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className, opacity } = this.props;\n\t\tvar { showSessionBackground, sessionBackGround, sessionBackGroundOpacity } = this.props;\n\n\t\tvar { xAccessor, width } = this.context;\n\t\tvar { rects, sessionBg } = helper(this.props, moreProps, xAccessor, width);\n\n\t\tvar sessionBgSvg = showSessionBackground\n\t\t\t? sessionBg.map((d, idx) => <rect key={idx} {...d} opacity={sessionBackGroundOpacity} fill={sessionBackGround} />)\n\t\t\t: null;\n\n\t\treturn <g className={className}>\n\t\t\t{sessionBgSvg}\n\t\t\t{rects.map((d, i) => <g key={i}>\n\t\t\t\t\t<rect x={d.x} y={d.y}\n\t\t\t\t\t\twidth={d.w1} height={d.height}\n\t\t\t\t\t\tfill={d.fill1} stroke={d.stroke1} fillOpacity={opacity} />\n\t\t\t\t\t<rect x={d.x + d.w1} y={d.y}\n\t\t\t\t\t\twidth={d.w2} height={d.height}\n\t\t\t\t\t\tfill={d.fill2} stroke={d.stroke2} fillOpacity={opacity} />\n\t\t\t\t</g>)}\n\t\t</g>;\n\t}\n}\n\nVolumeProfileSeries.propTypes = {\n\tclassName: PropTypes.string,\n\topacity: PropTypes.number,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tshowSessionBackground: PropTypes.bool,\n\tsessionBackGround: PropTypes.string,\n\tsessionBackGroundOpacity: PropTypes.number,\n};\n\nVolumeProfileSeries.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nVolumeProfileSeries.defaultProps = {\n\topacity: 0.5,\n\tclassName: \"line \",\n\tbins: 20,\n\tmaxProfileWidthPercent: 50,\n\tsource: d => d.close,\n\tvolume: d => d.volume,\n\tabsoluteChange: d => d.absoluteChange,\n\tbySession: false,\n\t/* eslint-disable no-unused-vars */\n\tsessionStart: ({ d, i, plotData }) => d.idx.startOfMonth,\n\t/* eslint-enable no-unused-vars */\n\torient: \"left\",\n\tfill: ({ type }) => type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// fill: ({ type }) => { var c = type === \"up\" ? \"#6BA583\" : \"#FF0000\"; console.log(type, c); return c },\n\t// stroke: ({ type }) =>  type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: \"none\",\n\tstroke: \"#FFFFFF\",\n\tshowSessionBackground: false,\n\tsessionBackGround: \"#4682B4\",\n\tsessionBackGroundOpacity: 0.3,\n\tpartialStartOK: false,\n\tpartialEndOK: true,\n};\n\nfunction helper(props, moreProps, xAccessor, width) {\n\tvar { xScale: realXScale, chartConfig: { yScale }, plotData } = moreProps;\n\n\tvar { sessionStart, bySession, partialStartOK, partialEndOK } = props;\n\tvar { bins, maxProfileWidthPercent, source, volume, absoluteChange, orient, fill, stroke } = props;\n\n\tvar sessionBuilder = accumulatingWindow()\n\t\t\t.discardTillStart(!partialStartOK)\n\t\t\t.discardTillEnd(!partialEndOK)\n\t\t\t.accumulateTill((d, i) => {\n\t\t\t\treturn sessionStart({ d, i, plotData });\n\t\t\t})\n\t\t\t.accumulator(identity);\n\n\tvar dx = plotData.length > 1 ? realXScale(xAccessor(plotData[1])) - realXScale(xAccessor(head(plotData))) : 0;\n\n\tvar sessions = bySession ? sessionBuilder(plotData) : [plotData];\n\n\tvar allRects = sessions.map(session => {\n\n\t\tvar begin = bySession ? realXScale(xAccessor(head(session))) : 0;\n\t\tvar finish = bySession ? realXScale(xAccessor(last(session))) : width;\n\t\tvar sessionWidth = finish - begin + dx;\n\n\t\tvar histogram = d3.layout.histogram()\n\t\t\t\t.value(source)\n\t\t\t\t.bins(bins);\n\n\t\tvar rollup = d3.nest()\n\t\t\t\t.key(d => d.direction)\n\t\t\t\t.sortKeys(orient === \"right\" ? d3.descending : d3.ascending)\n\t\t\t\t.rollup(leaves => d3.sum(leaves, d => d.volume));\n\n\t\tvar values = histogram(session);\n\t\tvar volumeInBins = values\n\t\t\t\t.map(arr => arr.map(d => absoluteChange(d) > 0 ? { direction: \"up\", volume: volume(d) } : { direction: \"down\", volume: volume(d) }))\n\t\t\t\t.map(arr => rollup.entries(arr));\n\n\t\tvar volumeValues = volumeInBins\n\t\t\t\t.map(each => d3.sum(each.map(d => d.values)));\n\n\t\tvar base = xScale => head(xScale.range());\n\n\t\tvar [start, end] = orient === \"right\"\n\t\t\t\t? [begin, begin + sessionWidth * maxProfileWidthPercent / 100]\n\t\t\t\t: [finish, finish - sessionWidth * (100 - maxProfileWidthPercent) / 100];\n\n\t\tvar xScale = d3.scale.linear()\n\t\t\t\t.domain([0, d3.max(volumeValues)])\n\t\t\t\t.range([start, end]);\n\n\t\tvar totalVolumes = volumeInBins.map(volumes => {\n\n\t\t\tvar totalVolume = d3.sum(volumes, d => d.values);\n\t\t\tvar totalVolumeX = xScale(totalVolume);\n\t\t\tvar width = base(xScale) - totalVolumeX;\n\t\t\tvar x = width < 0 ? totalVolumeX + width : totalVolumeX;\n\n\t\t\tvar ws = volumes.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: d.key,\n\t\t\t\t\twidth: d.values * Math.abs(width) / totalVolume,\n\t\t\t\t};\n\t\t\t});\n\n\t\t\treturn { x, ws, totalVolumeX };\n\t\t});\n\n\t\tvar rects = d3.zip(values, totalVolumes)\n\t\t\t\t.map(([d, { x, ws }]) => {\n\t\t\t\t\tvar w1 = ws[0] || { type: \"up\", width: 0 };\n\t\t\t\t\tvar w2 = ws[1] || { type: \"down\", width: 0 };\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ty: yScale(d.x + d.dx),\n\t\t\t\t\t\theight: yScale(d.x - d.dx) - yScale(d.x),\n\t\t\t\t\t\tx,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\tw1: w1.width,\n\t\t\t\t\t\tw2: w2.width,\n\t\t\t\t\t\tstroke1: d3.functor(stroke)(w1),\n\t\t\t\t\t\tstroke2: d3.functor(stroke)(w2),\n\t\t\t\t\t\tfill1: d3.functor(fill)(w1),\n\t\t\t\t\t\tfill2: d3.functor(fill)(w2),\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\tvar sessionBg = {\n\t\t\tx: begin,\n\t\t\ty: last(rects).y,\n\t\t\theight: head(rects).y - last(rects).y + head(rects).height,\n\t\t\twidth: sessionWidth,\n\t\t};\n\n\t\treturn { rects, sessionBg };\n\t});\n\n\treturn {\n\t\trects: d3.merge(allRects.map(d => d.rects)),\n\t\tsessionBg: allRects.map(d => d.sessionBg),\n\t};\n}\n\n\nfunction drawOnCanvas(ctx, props, rects, sessionBg) {\n\tvar { opacity, sessionBackGround, sessionBackGroundOpacity, showSessionBackground } = props;\n\n\t// var { rects, sessionBg } = helper(props, xScale, yScale, plotData);\n\n\tif (showSessionBackground) {\n\t\tctx.fillStyle = hexToRGBA(sessionBackGround, sessionBackGroundOpacity);\n\n\t\tsessionBg.forEach(each => {\n\t\t\tvar { x, y, height, width } = each;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, width, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t});\n\t}\n\n\trects.forEach(each => {\n\t\tvar { x, y, height, w1, w2, stroke1, stroke2, fill1, fill2 } = each;\n\n\n\t\tif (w1 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill1, opacity);\n\t\t\tif (stroke1 !== \"none\") ctx.strokeStyle = stroke1;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, w1, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke1 !== \"none\") ctx.stroke();\n\t\t}\n\n\t\tif (w2 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill2, opacity);\n\t\t\tif (stroke2 !== \"none\") ctx.strokeStyle = stroke2;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x + w1, y, w2, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke2 !== \"none\") ctx.stroke();\n\t\t}\n\n\t});\n}\n\nexport default VolumeProfileSeries;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/series/VolumeProfileSeries.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, displayFormat, calculator } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\t\tvar accessor = calculator.accessor();\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar tooltipLabel = d3.functor(calculator.tooltipLabel());\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`}\n\t\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{`${ top }, ${ middle }, ${ bottom }`}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nBollingerBandTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforDataSeries: PropTypes.number,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n};\n\nexport default BollingerBandTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/BollingerBandTooltip.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport GenericComponent from \"../GenericComponent\";\n\nimport { first, last, isNotDefined, hexToRGBA } from \"../utils\";\n\nclass HoverTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tvar pointer = helper(this.props, moreProps, this.context);\n\n\t\tif (isNotDefined(pointer)) return null;\n\t\tdrawOnCanvas(ctx, this.props, this.context, pointer);\n\t}\n\trender() {\n\t\treturn <GenericComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tdrawOnMouseMove\n\t\t\tdrawOnPan\n\t\t\tdrawOnMouseExitOfCanvas\n\t\t\t/>;\n\t}\n\trenderSVG(moreProps) {\n\t\tvar pointer = helper(this.props, moreProps, this.context);\n\n\t\tif (isNotDefined(pointer)) return null;\n\n\t\tvar { bgFill, bgOpacity, backgroundShapeSVG } = this.props;\n\t\tvar { height } = this.context;\n\n\t\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<rect x={centerX - drawWidth / 2} y={0} width={drawWidth} height={height} fill={bgFill} opacity={bgOpacity} />\n\t\t\t\t<g className=\"react-stockcharts-tooltip-content\" transform={`translate(${x}, ${y})`}>\n\t\t\t\t\t{backgroundShapeSVG(this.props)}\n\t\t\t\t\t{tooltipSVG(this.props, content)}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nHoverTooltip.propTypes = {\n\tbackgroundShapeSVG: PropTypes.func,\n\tbgwidth: PropTypes.number.isRequired,\n\tbgheight: PropTypes.number.isRequired,\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\ttooltipContent: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.func\n\t]).isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n};\n\nHoverTooltip.contextTypes = {\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n};\n\nHoverTooltip.defaultProps = {\n\tbgwidth: 150,\n\tbgheight: 50,\n\ttooltipSVG: tooltipSVG,\n\ttooltipCanvas: tooltipCanvas,\n\torigin: origin,\n\tfill: \"#D4E2FD\",\n\tbgFill: \"#D4E2FD\",\n\tbgOpacity: 0.5,\n\tstroke: \"#9B9BFF\",\n\tfontFill: \"#000000\",\n\topacity: 0.8,\n\tbackgroundShapeSVG: backgroundShapeSVG,\n\tbackgroundShapeCanvas: backgroundShapeCanvas,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n};\n\nconst PADDING = 5;\n\n\n/* eslint-disable react/prop-types */\nfunction backgroundShapeSVG({ bgheight, bgwidth, fill, stroke, opacity }) {\n\treturn <rect height={bgheight} width={bgwidth} fill={fill} opacity={opacity} stroke={stroke} />;\n}\n\nfunction tooltipSVG({ fontFamily, fontSize, fontFill }, content) {\n\tvar tspans = [];\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\ttspans.push(<tspan key={`L-${i}`} x={10} dy={fontSize} fill={y.stroke}>{y.label}</tspan>);\n\t\ttspans.push(<tspan key={`${i}`}>: </tspan>);\n\t\ttspans.push(<tspan key={`V-${i}`}>{y.value}</tspan>);\n\t}\n\treturn <text fontFamily={fontFamily} fontSize={fontSize} fill={fontFill}>\n\t\t<tspan x={10} y={15}>{content.x}</tspan>\n\t\t{tspans}\n\t</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction backgroundShapeCanvas({ bgheight, bgwidth, fill, stroke, opacity }, ctx) {\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.strokeStyle = stroke;\n\tctx.beginPath();\n\tctx.rect(0, 0, bgwidth, bgheight);\n\tctx.fill();\n\tctx.stroke();\n}\n\nfunction tooltipCanvas({ fontFamily, fontSize, fontFill }, content, ctx) {\n\tctx.font = `${fontSize}px ${fontFamily}`;\n\tctx.fillStyle = fontFill;\n\tctx.textAlign = \"left\";\n\n\tconst X = 10;\n\tconst Y = 15;\n\tctx.fillText(content.x, X, Y);\n\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\tlet textY = Y + (fontSize * (i + 1));\n\t\tctx.fillStyle = y.stroke || fontFill;\n\t\tctx.fillText(y.label, X, textY);\n\n\t\tctx.fillStyle = fontFill;\n\t\tctx.fillText(\": \" + y.value, X + ctx.measureText(y.label).width, textY);\n\t}\n}\n\nfunction origin(mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale) {\n\tvar y = last(mouseXY);\n\n\tvar snapX = xScale(xAccessor(currentItem));\n\tvar originX = (snapX - bgwidth - PADDING * 2 < 0) ? snapX + PADDING : snapX - bgwidth - PADDING;\n\t// originX = (x - width - PADDING * 2 < 0) ? x + PADDING : x - width - PADDING;\n\n\tvar originY = y - bgheight / 2;\n\treturn [originX, originY];\n}\n\nfunction drawOnCanvas(ctx, props, context, pointer) {\n\n\tvar { height, margin } = context;\n\tvar { bgFill, bgOpacity } = props;\n\tvar { backgroundShapeCanvas, tooltipCanvas } = props;\n\n\tvar originX = 0.5 + margin.left;\n\tvar originY = 0.5 + margin.top;\n\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(originX, originY);\n\n\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\tctx.fillStyle = hexToRGBA(bgFill, bgOpacity);\n\tctx.beginPath();\n\tctx.rect(centerX - drawWidth / 2, 0, drawWidth, height);\n\tctx.fill();\n\n\tctx.translate(x, y);\n\tbackgroundShapeCanvas(props, ctx);\n\ttooltipCanvas(props, content, ctx);\n\n\tctx.restore();\n}\n\nfunction helper(props, moreProps, context) {\n\tvar { show, xScale, mouseXY, currentItem, plotData } = moreProps;\n\tvar { bgheight, bgwidth, origin, tooltipContent } = props;\n\tvar { xAccessor, displayXAccessor } = context;\n\n\tif (!show || isNotDefined(currentItem)) return;\n\n\tvar xValue = xAccessor(currentItem);\n\n\tif (!show || isNotDefined(xValue)) return;\n\n\tvar [x, y] = origin(mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale);\n\n\tvar content = tooltipContent({ currentItem, xAccessor: displayXAccessor });\n\tvar centerX = xScale(xValue);\n\tvar drawWidth = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData)))) / (plotData.length - 1);\n\n\treturn { x, y, content, centerX, drawWidth };\n}\n\nexport default HoverTooltip;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/HoverTooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass MACDTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\n\t\tvar macdValue = currentItem && yAccessor(currentItem);\n\n\t\tvar macd = (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || \"n/a\";\n\t\tvar signal = (macdValue && macdValue.signal && displayFormat(macdValue.signal)) || \"n/a\";\n\t\tvar divergence = (macdValue && macdValue.divergence && displayFormat(macdValue.divergence)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>MACD (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.slow()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>, </ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.fast()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().macd}>{macd}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Signal (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().signal}>{calculator.signal()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().signal}>{signal}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Divergence: </ToolTipTSpanLabel><tspan fill={calculator.fill().divergence}>{divergence}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nMACDTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMACDTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tcalculator: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n};\n\nMACDTooltip.defaultProps = {\n\torigin: [0, 0],\n\tdisplayFormat: d3.format(\".2f\"),\n};\n\nexport default MACDTooltip;\n// export default MACDTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/MACDTooltip.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass SingleMAToolTip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick, forChart, options } = this.props;\n\t\tonClick({ chartId: forChart, ...options }, e);\n\t}\n\trender() {\n\t\tvar translate = \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\";\n\t\treturn (\n\t\t\t<g transform={translate}>\n\t\t\t\t<line x1={0} y1={2} x2={0} y2={28} stroke={this.props.color} strokeWidth=\"4px\"/>\n\t\t\t\t<ToolTipText x={5} y={11}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{this.props.displayName}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan x=\"5\" dy=\"15\">{this.props.value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t\t<rect x={0} y={0} width={55} height={30}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tfill=\"none\" stroke=\"none\" />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nSingleMAToolTip.propTypes = {\n\torigin: PropTypes.array.isRequired,\n\tcolor: PropTypes.string.isRequired,\n\tdisplayName: PropTypes.string.isRequired,\n\tvalue: PropTypes.string.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforChart: PropTypes.number.isRequired,\n\toptions: PropTypes.object.isRequired,\n};\n\nclass MovingAverageTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { height, chartId } = this.context;\n\t\tvar { chartConfig, currentItem } = moreProps;\n\n\t\tvar { className, onClick, width, fontFamily, fontSize, origin: originProp, calculators, displayFormat } = this.props;\n\n\t\tvar config = chartConfig;\n\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} className={className}>\n\t\t\t\t{calculators\n\t\t\t\t\t.map((each, idx) => {\n\t\t\t\t\t\tvar yValue = currentItem && each.accessor()(currentItem);\n\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\ttype: each.type(),\n\t\t\t\t\t\t\twindowSize: each.windowSize(),\n\t\t\t\t\t\t\tsourcePath: each.sourcePath(),\n\t\t\t\t\t\t\techo: each.echo()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar yDisplayValue = yValue ? displayFormat(yValue) : \"n/a\";\n\t\t\t\t\t\treturn <SingleMAToolTip\n\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\torigin={[width * idx, 0]}\n\t\t\t\t\t\t\tcolor={each.stroke()}\n\t\t\t\t\t\t\tdisplayName={each.tooltipLabel()}\n\t\t\t\t\t\t\tvalue={yDisplayValue}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tforChart={chartId} onClick={onClick}\n\t\t\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize} />;\n\t\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nMovingAverageTooltip.contextTypes = {\n\theight: PropTypes.number.isRequired,\n\tchartId: PropTypes.number.isRequired,\n};\n\nMovingAverageTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\twidth: PropTypes.number,\n\tcalculators: PropTypes.array.isRequired,\n\tforDataSeries: PropTypes.arrayOf(PropTypes.number),\n};\n\nMovingAverageTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-moving-average-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n\twidth: 65,\n};\n\nexport default MovingAverageTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/MovingAverageTooltip.jsx","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass OHLCTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { className } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar { onClick, xDisplayFormat, fontFamily, fontSize, accessor, volumeFormat, ohlcFormat } = this.props;\n\n\t\tvar displayDate, open, high, low, close, volume;\n\n\t\tdisplayDate = open = height = low = close = volume = \"n/a\";\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))\n\t\t\t\t&& isDefined(accessor(currentItem).close)) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\tvolume = volumeFormat(item.volume);\n\n\t\t\tdisplayDate = xDisplayFormat(item.date);\n\t\t\topen = ohlcFormat(item.open);\n\t\t\thigh = ohlcFormat(item.high);\n\t\t\tlow = ohlcFormat(item.low);\n\t\t\tclose = ohlcFormat(item.close);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g className={`react-stockcharts-toottip-hover ${className}`}\n\t\t\t\ttransform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label\" x={0} dy=\"5\">Date: </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan key=\"value\">{displayDate}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_O\"> O: </ToolTipTSpanLabel><tspan key=\"value_O\">{open}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_H\"> H: </ToolTipTSpanLabel><tspan key=\"value_H\">{high}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_L\"> L: </ToolTipTSpanLabel><tspan key=\"value_L\">{low}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_C\"> C: </ToolTipTSpanLabel><tspan key=\"value_C\">{close}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_Vol\"> Vol: </ToolTipTSpanLabel><tspan key=\"value_Vol\">{volume}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nOHLCTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nOHLCTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\taccessor: PropTypes.func.isRequired,\n\txDisplayFormat: PropTypes.func.isRequired,\n\tohlcFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tvolumeFormat: PropTypes.func,\n};\n\nOHLCTooltip.defaultProps = {\n\taccessor: (d) => { return { date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume }; },\n\txDisplayFormat: d3.time.format(\"%Y-%m-%d\"),\n\tvolumeFormat: d3.format(\".4s\"),\n\tohlcFormat: d3.format(\".2f\"),\n\torigin: [0, 0],\n};\n\nexport default OHLCTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/OHLCTooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass RSITooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\n\t\tvar rsi = isDefined(currentItem) && yAccessor(currentItem);\n\t\tvar value = (rsi && displayFormat(rsi)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{calculator.tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nRSITooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nRSITooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nRSITooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default RSITooltip;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/RSITooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\nimport { isDefined, identity, noop } from \"../utils\";\n\nclass SingleValueTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\n\t\tvar { onClick, fontFamily, fontSize, labelStroke, valueStroke } = this.props;\n\t\tvar { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\n\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\n\t\tvar yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelStroke}>{`${xLabel}: `}</ToolTipTSpanLabel> : null}\n\t\t\t\t\t{ xLabel ? <tspan fill={valueStroke}>{`${xDisplayValue} `}</tspan> : null}\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelStroke}>{`${yLabel}: `}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={valueStroke} >{yDisplayValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nSingleValueTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nSingleValueTooltip.propTypes = {\n\txDisplayFormat: PropTypes.func,\n\tyDisplayFormat: PropTypes.func.isRequired,\n\txLabel: PropTypes.string,\n\tyLabel: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n\tlabelStroke: PropTypes.string.isRequired,\n\tvalueStroke: PropTypes.string,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nSingleValueTooltip.defaultProps = {\n\torigin: [0, 0],\n\tlabelStroke: \"#4682B4\",\n\tvalueStroke: \"#000000\",\n\tyDisplayFormat: d3.format(\".2f\"),\n\txAccessor: noop,\n\tyAccessor: identity,\n};\n\nexport default SingleValueTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/SingleValueTooltip.jsx","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass StochasticTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tvar { onClick, fontFamily, fontSize, calculator, displayFormat, children } = this.props;\n\t\tvar { width, height } = this.context;\n\t\tvar { currentItem } = moreProps;\n\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar stroke = calculator.stroke();\n\t\tvar stochastic = currentItem && yAccessor(currentItem);\n\n\t\tvar K = (stochastic && stochastic.K && displayFormat(stochastic.K)) || \"n/a\";\n\t\tvar D = (stochastic && stochastic.D && displayFormat(stochastic.D)) || \"n/a\";\n\t\tvar label = children || \"Stochastic\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ x }, ${ y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{`${ label } %K(`}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{`${ calculator.windowSize() }, ${ calculator.kWindowSize() }`}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{K}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> %D (</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{calculator.dWindowSize()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{D}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tdrawOnMouseMove\n\t\t\t/>;\n\t}\n}\n\nStochasticTooltip.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nStochasticTooltip.propTypes = {\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nStochasticTooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default StochasticTooltip;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/tooltip/StochasticTooltip.jsx","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar accumulateTill = d3.functor(false),\n\t\taccumulator = noop,\n\t\tvalue = identity,\n\t\tdiscardTillStart = false,\n\t\tdiscardTillEnd = false;\n\n\tvar accumulatingWindow = function(data) {\n\t\tvar accumulatedWindow = discardTillStart ? undefined : [];\n\t\tvar response = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar i = 0;\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tvar d = data[i];\n\t\t\t// console.log(d, accumulateTill(d));\n\t\t\tif (accumulateTill(d, i)) {\n\t\t\t\tif (accumulatedWindow && accumulatedWindow.length > 0) response.push(accumulator(accumulatedWindow, i, accumulatorIdx++));\n\t\t\t\taccumulatedWindow = [value(d)];\n\t\t\t} else {\n\t\t\t\tif (accumulatedWindow) accumulatedWindow.push(value(d));\n\t\t\t}\n\t\t}\n\t\tif (!discardTillEnd) response.push(accumulator(accumulatedWindow, i, accumulatorIdx));\n\t\treturn response;\n\t};\n\n\taccumulatingWindow.accumulateTill = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulateTill;\n\t\t}\n\t\taccumulateTill = d3.functor(x);\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.value = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillStart = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillStart;\n\t\t}\n\t\tdiscardTillStart = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillEnd = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillEnd;\n\t\t}\n\t\tdiscardTillEnd = x;\n\t\treturn accumulatingWindow;\n\t};\n\treturn accumulatingWindow;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/accumulatingWindow.js","\"use strict\";\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsource = identity,\n\t\tskipInitial = 0;\n\n\tvar mappedSlidingWindow = function(data) {\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\tvar result = [];\n\t\tdata.forEach(function(d, i) {\n\t\t\t// console.log(d, i, windowData.length);\n\t\t\tvar mapped;\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\tmapped = undef(d, i);\n\t\t\t\tresult.push(mapped);\n\t\t\t\twindowData.push(mapped);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t}\n\t\t\twindowData.push(source(d, i));\n\t\t\tmapped = accumulator(windowData, i, accumulatorIdx++);\n\t\t\tresult.push(mapped);\n\t\t\twindowData.pop();\n\t\t\twindowData.push(mapped);\n\t\t\treturn;\n\t\t});\n\t\treturn result;\n\t};\n\n\tmappedSlidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\n\treturn mappedSlidingWindow;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/mappedSlidingWindow.js","/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/merge.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport identity from \"./identity\";\nimport zipper from \"./zipper\";\nimport noop from \"./noop\";\n\nimport { isNotDefined } from \"./index\";\n\n// applies an algorithm to an array, merging the result back into\n// the source array using the given merge function.\nexport default function() {\n\n\tvar algorithm = identity,\n\t\tskipUndefined = true,\n\t\tmerge = noop;\n\n\tfunction mergeCompute(data) {\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, indicator) => {\n\t\t\t\tvar result = (skipUndefined && isNotDefined(indicator))\n\t\t\t\t\t? datum\n\t\t\t\t\t: merge(datum, indicator);\n\t\t\t\treturn isNotDefined(result) ? datum : result;\n\t\t\t});\n\n\t\t// console.log(data);\n\t\treturn zip(data, algorithm(data));\n\t}\n\n\tmergeCompute.algorithm = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn algorithm;\n\t\t}\n\t\talgorithm = x;\n\t\treturn mergeCompute;\n\t};\n\n\tmergeCompute.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn merge;\n\t\t}\n\t\tmerge = x;\n\t\treturn mergeCompute;\n\t};\n\tmergeCompute.skipUndefined = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipUndefined;\n\t\t}\n\t\tskipUndefined = x;\n\t\treturn mergeCompute;\n\t};\n\n\treturn mergeCompute;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/merge.js","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport { path } from \"./index\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsourcePath,\n\t\tsource,\n\t\tskipInitial = 0,\n\t\tmisc;\n\n\tvar slidingWindow = function(data) {\n\t\tvar sourceFunction = source || path(sourcePath);\n\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = data.slice(skipInitial, size + skipInitial).map(sourceFunction);\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\treturn data.map(function(d, i) {\n\t\t\t// console.log(d, i);\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\treturn undef(sourceFunction(d), i, misc);\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t\twindowData.push(sourceFunction(d, i));\n\t\t\t}\n\t\t\treturn accumulator(windowData, i, accumulatorIdx++, misc);\n\t\t});\n\t};\n\n\tslidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.misc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn misc;\n\t\t}\n\t\tmisc = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.sourcePath = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn sourcePath;\n\t\t}\n\t\tsourcePath = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn slidingWindow;\n\t};\n\n\treturn slidingWindow;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils/slidingWindow.js","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = flattenDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash.flattendeep/index.js\n// module id = 295\n// module chunks = 3","(function() {\n  var out$ = typeof exports != 'undefined' && exports || typeof define != 'undefined' && {} || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">';\n\n  function isElement(obj) {\n    return obj instanceof HTMLElement || obj instanceof SVGElement;\n  }\n\n  function requireDomNode(el) {\n    if (!isElement(el)) {\n      throw new Error('an HTMLElement or SVGElement is required; got ' + el);\n    }\n  }\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    requireDomNode(el);\n\n    var images = el.querySelectorAll('image'),\n        left = images.length,\n        checkDone = function() {\n          if (left === 0) {\n            callback();\n          }\n        };\n\n    checkDone();\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        href = href || image.getAttribute('href');\n        if (href) {\n          img.src = href;\n          img.onload = function() {\n            canvas.width = img.width;\n            canvas.height = img.height;\n            ctx.drawImage(img, 0, 0);\n            image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n            left--;\n            checkDone();\n          }\n          img.onerror = function() {\n            console.log(\"Could not load \"+href);\n            left--;\n            checkDone();\n          }\n        } else {\n          left--;\n          checkDone();\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, selectorRemap) {\n    var css = \"\";\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0; j < rules.length; j++) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var match, selectorText;\n\n            try {\n              selectorText = rule.selectorText;\n            } catch(err) {\n              console.warn('The following CSS rule has an invalid selector: \"' + rule + '\"', err);\n            }\n\n            try {\n              if (selectorText) {\n                match = el.querySelector(selectorText);\n              }\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + selectorText + '\"', err);\n            }\n\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              css += selector + \" { \" + rule.style.cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              css += rule.cssText + '\\n';\n            }\n          }\n        }\n      }\n    }\n    return css;\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox && el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    requireDomNode(el);\n\n    options = options || {};\n    options.scale = options.scale || 1;\n    options.responsive = options.responsive || false;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      if (!clone.getAttribute('xmlns')) {\n        clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      }\n      if (!clone.getAttribute('xmlns:xlink')) {\n        clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      }\n\n      if (options.responsive) {\n        clone.removeAttribute('width');\n        clone.removeAttribute('height');\n        clone.setAttribute('preserveAspectRatio', 'xMinYMin meet');\n      } else {\n        clone.setAttribute(\"width\", width * options.scale);\n        clone.setAttribute(\"height\", height * options.scale);\n      }\n\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      var fos = clone.querySelectorAll('foreignObject > *');\n      for (var i = 0; i < fos.length; i++) {\n        fos[i].setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/1999/xhtml\");\n      }\n\n      outer.appendChild(clone);\n\n      var css = styles(el, options.selectorRemap);\n      var s = document.createElement('style');\n      s.setAttribute('type', 'text/css');\n      s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n      var defs = document.createElement('defs');\n      defs.appendChild(s);\n      clone.insertBefore(defs, clone.firstChild);\n\n      var svg = doctype + outer.innerHTML;\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    requireDomNode(el);\n\n    out$.svgAsDataUri(el, options, function(uri) {\n      var image = new Image();\n      image.onload = function() {\n        var canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        if(options && options.backgroundColor){\n          context.fillStyle = options.backgroundColor;\n          context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        var a = document.createElement('a'), png;\n        try {\n          png = canvas.toDataURL('image/png');\n        } catch (e) {\n          if ((typeof SecurityError !== 'undefined' && e instanceof SecurityError) || e.name == \"SecurityError\") {\n            console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n            return;\n          } else {\n            throw e;\n          }\n        }\n        cb(png);\n      }\n      image.onerror = function(error) {\n        console.error('There was an error loading the data URI as an image', error);\n      }\n      image.src = uri;\n    });\n  }\n\n  function download(name, uri) {\n    var a = document.createElement('a');\n    a.download = name;\n    a.href = uri;\n    document.body.appendChild(a);\n    a.addEventListener(\"click\", function(e) {\n      a.parentNode.removeChild(a);\n    });\n    a.click();\n  }\n\n  out$.saveSvg = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsDataUri(el, options, function(uri) {\n      download(name, uri);\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    requireDomNode(el);\n\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      download(name, uri);\n    });\n  }\n\n  // if define is defined create as an AMD module\n  if (typeof define !== 'undefined') {\n    define(function() {\n      return out$;\n    });\n  }\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/save-svg-as-png/saveSvgAsPng.js\n// module id = 296\n// module chunks = 3"],"sourceRoot":""}